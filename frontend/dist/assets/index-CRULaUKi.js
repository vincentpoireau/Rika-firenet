(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var Zg={exports:{}},rc={};var V0;function Rx(){if(V0)return rc;V0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return rc.Fragment=t,rc.jsx=e,rc.jsxs=e,rc}var P0;function Ix(){return P0||(P0=1,Zg.exports=Rx()),Zg.exports}var _t=Ix(),Jg={exports:{}},Tt={};var L0;function Dx(){if(L0)return Tt;L0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,R={};function U(L,W,ot){this.props=L,this.context=W,this.refs=R,this.updater=ot||D}U.prototype.isReactComponent={},U.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function X(L,W,ot){this.props=L,this.context=W,this.refs=R,this.updater=ot||D}var it=X.prototype=new Q;it.constructor=X,M(it,U.prototype),it.isPureReactComponent=!0;var Z=Array.isArray;function nt(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(L,W,ot){var lt=ot.ref;return{$$typeof:n,type:L,key:W,ref:lt!==void 0?lt:null,props:ot}}function V(L,W){return I(L.type,W,L.props)}function N(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function P(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ot){return W[ot]})}var O=/\/+/g;function Pt(L,W){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):W.toString(36)}function xt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(nt,nt):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,W,ot,lt,mt){var vt=typeof L;(vt==="undefined"||vt==="boolean")&&(L=null);var Bt=!1;if(L===null)Bt=!0;else switch(vt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(L.$$typeof){case n:case t:Bt=!0;break;case y:return Bt=L._init,Y(Bt(L._payload),W,ot,lt,mt)}}if(Bt)return mt=mt(L),Bt=lt===""?"."+Pt(L,0):lt,Z(mt)?(ot="",Bt!=null&&(ot=Bt.replace(O,"$&/")+"/"),Y(mt,W,ot,"",function(Mr){return Mr})):mt!=null&&(N(mt)&&(mt=V(mt,ot+(mt.key==null||L&&L.key===mt.key?"":(""+mt.key).replace(O,"$&/")+"/")+Bt)),W.push(mt)),1;Bt=0;var Pe=lt===""?".":lt+":";if(Z(L))for(var le=0;le<L.length;le++)lt=L[le],vt=Pe+Pt(lt,le),Bt+=Y(lt,W,ot,vt,mt);else if(le=S(L),typeof le=="function")for(L=le.call(L),le=0;!(lt=L.next()).done;)lt=lt.value,vt=Pe+Pt(lt,le++),Bt+=Y(lt,W,ot,vt,mt);else if(vt==="object"){if(typeof L.then=="function")return Y(xt(L),W,ot,lt,mt);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function rt(L,W,ot){if(L==null)return L;var lt=[],mt=0;return Y(L,lt,"","",function(vt){return W.call(ot,vt,mt++)}),lt}function dt(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ot){(L._status===0||L._status===-1)&&(L._status=1,L._result=ot)},function(ot){(L._status===0||L._status===-1)&&(L._status=2,L._result=ot)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Rt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ot={map:rt,forEach:function(L,W,ot){rt(L,function(){W.apply(this,arguments)},ot)},count:function(L){var W=0;return rt(L,function(){W++}),W},toArray:function(L){return rt(L,function(W){return W})||[]},only:function(L){if(!N(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Tt.Activity=v,Tt.Children=Ot,Tt.Component=U,Tt.Fragment=e,Tt.Profiler=a,Tt.PureComponent=X,Tt.StrictMode=i,Tt.Suspense=f,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},Tt.cache=function(L){return function(){return L.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(L,W,ot){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var lt=M({},L.props),mt=L.key;if(W!=null)for(vt in W.key!==void 0&&(mt=""+W.key),W)!x.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||(lt[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)lt.children=ot;else if(1<vt){for(var Bt=Array(vt),Pe=0;Pe<vt;Pe++)Bt[Pe]=arguments[Pe+2];lt.children=Bt}return I(L.type,mt,lt)},Tt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Tt.createElement=function(L,W,ot){var lt,mt={},vt=null;if(W!=null)for(lt in W.key!==void 0&&(vt=""+W.key),W)x.call(W,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(mt[lt]=W[lt]);var Bt=arguments.length-2;if(Bt===1)mt.children=ot;else if(1<Bt){for(var Pe=Array(Bt),le=0;le<Bt;le++)Pe[le]=arguments[le+2];mt.children=Pe}if(L&&L.defaultProps)for(lt in Bt=L.defaultProps,Bt)mt[lt]===void 0&&(mt[lt]=Bt[lt]);return I(L,vt,mt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(L){return{$$typeof:h,render:L}},Tt.isValidElement=N,Tt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:dt}},Tt.memo=function(L,W){return{$$typeof:m,type:L,compare:W===void 0?null:W}},Tt.startTransition=function(L){var W=C.T,ot={};C.T=ot;try{var lt=L(),mt=C.S;mt!==null&&mt(ot,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(nt,Rt)}catch(vt){Rt(vt)}finally{W!==null&&ot.types!==null&&(W.types=ot.types),C.T=W}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(L){return C.H.use(L)},Tt.useActionState=function(L,W,ot){return C.H.useActionState(L,W,ot)},Tt.useCallback=function(L,W){return C.H.useCallback(L,W)},Tt.useContext=function(L){return C.H.useContext(L)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(L,W){return C.H.useDeferredValue(L,W)},Tt.useEffect=function(L,W){return C.H.useEffect(L,W)},Tt.useEffectEvent=function(L){return C.H.useEffectEvent(L)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(L,W,ot){return C.H.useImperativeHandle(L,W,ot)},Tt.useInsertionEffect=function(L,W){return C.H.useInsertionEffect(L,W)},Tt.useLayoutEffect=function(L,W){return C.H.useLayoutEffect(L,W)},Tt.useMemo=function(L,W){return C.H.useMemo(L,W)},Tt.useOptimistic=function(L,W){return C.H.useOptimistic(L,W)},Tt.useReducer=function(L,W,ot){return C.H.useReducer(L,W,ot)},Tt.useRef=function(L){return C.H.useRef(L)},Tt.useState=function(L){return C.H.useState(L)},Tt.useSyncExternalStore=function(L,W,ot){return C.H.useSyncExternalStore(L,W,ot)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.3",Tt}var z0;function gp(){return z0||(z0=1,Jg.exports=Dx()),Jg.exports}var ie=gp(),tm={exports:{}},ac={},em={exports:{}},nm={};var U0;function Mx(){return U0||(U0=1,(function(n){function t(Y,rt){var dt=Y.length;Y.push(rt);t:for(;0<dt;){var Rt=dt-1>>>1,Ot=Y[Rt];if(0<a(Ot,rt))Y[Rt]=rt,Y[dt]=Ot,dt=Rt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var rt=Y[0],dt=Y.pop();if(dt!==rt){Y[0]=dt;t:for(var Rt=0,Ot=Y.length,L=Ot>>>1;Rt<L;){var W=2*(Rt+1)-1,ot=Y[W],lt=W+1,mt=Y[lt];if(0>a(ot,dt))lt<Ot&&0>a(mt,ot)?(Y[Rt]=mt,Y[lt]=dt,Rt=lt):(Y[Rt]=ot,Y[W]=dt,Rt=W);else if(lt<Ot&&0>a(mt,dt))Y[Rt]=mt,Y[lt]=dt,Rt=lt;else break t}}return rt}function a(Y,rt){var dt=Y.sortIndex-rt.sortIndex;return dt!==0?dt:Y.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,v=null,E=3,S=!1,D=!1,M=!1,R=!1,U=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function it(Y){for(var rt=e(m);rt!==null;){if(rt.callback===null)i(m);else if(rt.startTime<=Y)i(m),rt.sortIndex=rt.expirationTime,t(f,rt);else break;rt=e(m)}}function Z(Y){if(M=!1,it(Y),!D)if(e(f)!==null)D=!0,nt||(nt=!0,P());else{var rt=e(m);rt!==null&&xt(Z,rt.startTime-Y)}}var nt=!1,C=-1,x=5,I=-1;function V(){return R?!0:!(n.unstable_now()-I<x)}function N(){if(R=!1,nt){var Y=n.unstable_now();I=Y;var rt=!0;try{t:{D=!1,M&&(M=!1,Q(C),C=-1),S=!0;var dt=E;try{e:{for(it(Y),v=e(f);v!==null&&!(v.expirationTime>Y&&V());){var Rt=v.callback;if(typeof Rt=="function"){v.callback=null,E=v.priorityLevel;var Ot=Rt(v.expirationTime<=Y);if(Y=n.unstable_now(),typeof Ot=="function"){v.callback=Ot,it(Y),rt=!0;break e}v===e(f)&&i(f),it(Y)}else i(f);v=e(f)}if(v!==null)rt=!0;else{var L=e(m);L!==null&&xt(Z,L.startTime-Y),rt=!1}}break t}finally{v=null,E=dt,S=!1}rt=void 0}}finally{rt?P():nt=!1}}}var P;if(typeof X=="function")P=function(){X(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Pt=O.port2;O.port1.onmessage=N,P=function(){Pt.postMessage(null)}}else P=function(){U(N,0)};function xt(Y,rt){C=U(function(){Y(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var rt=3;break;default:rt=E}var dt=E;E=rt;try{return Y()}finally{E=dt}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(Y,rt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=E;E=Y;try{return rt()}finally{E=dt}},n.unstable_scheduleCallback=function(Y,rt,dt){var Rt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Rt+dt:Rt):dt=Rt,Y){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=dt+Ot,Y={id:y++,callback:rt,priorityLevel:Y,startTime:dt,expirationTime:Ot,sortIndex:-1},dt>Rt?(Y.sortIndex=dt,t(m,Y),e(f)===null&&Y===e(m)&&(M?(Q(C),C=-1):M=!0,xt(Z,dt-Rt))):(Y.sortIndex=Ot,t(f,Y),D||S||(D=!0,nt||(nt=!0,P()))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var rt=E;return function(){var dt=E;E=rt;try{return Y.apply(this,arguments)}finally{E=dt}}}})(nm)),nm}var B0;function Ox(){return B0||(B0=1,em.exports=Mx()),em.exports}var im={exports:{}},Je={};var H0;function Nx(){if(H0)return Je;H0=1;var n=gp();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Je.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,y)},Je.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},Je.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},Je.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Je.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Je.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},Je.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Je.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},Je.requestFormReset=function(f){i.d.r(f)},Je.unstable_batchedUpdates=function(f,m){return f(m)},Je.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.2.3",Je}var j0;function kx(){if(j0)return im.exports;j0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),im.exports=Nx(),im.exports}var F0;function Vx(){if(F0)return ac;F0=1;var n=Ox(),t=gp(),e=kx();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var b=!1,A=g.child;A;){if(A===l){b=!0,l=g,u=p;break}if(A===u){b=!0,u=g,l=p;break}A=A.sibling}if(!b){for(A=p.child;A;){if(A===l){b=!0,l=p,u=g;break}if(A===u){b=!0,u=p,l=g;break}A=A.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),X=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Pt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case U:return"Profiler";case R:return"StrictMode";case Z:return"Suspense";case nt:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case X:return s.displayName||"Context";case Q:return(s._context.displayName||"Context")+".Consumer";case it:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return r=s.displayName||null,r!==null?r:Pt(s.type)||"Memo";case x:r=s._payload,s=s._init;try{return Pt(s(r))}catch{}}return null}var xt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Rt=[],Ot=-1;function L(s){return{current:s}}function W(s){0>Ot||(s.current=Rt[Ot],Rt[Ot]=null,Ot--)}function ot(s,r){Ot++,Rt[Ot]=s.current,s.current=r}var lt=L(null),mt=L(null),vt=L(null),Bt=L(null);function Pe(s,r){switch(ot(vt,r),ot(mt,s),ot(lt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?s0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=s0(r),s=r0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(lt),ot(lt,s)}function le(){W(lt),W(mt),W(vt)}function Mr(s){s.memoizedState!==null&&ot(Bt,s);var r=lt.current,l=r0(r,s.type);r!==l&&(ot(mt,s),ot(lt,l))}function Ra(s){mt.current===s&&(W(lt),W(mt)),Bt.current===s&&(W(Bt),ec._currentValue=dt)}var Ia,Da;function gi(s){if(Ia===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Ia=r&&r[1]||"",Da=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+s+Da}var el=!1;function Or(s,r){if(!s||el)return"";el=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var q=K}Reflect.construct(s,[],tt)}else{try{tt.call()}catch(K){q=K}s.call(tt.prototype)}}else{try{throw Error()}catch(K){q=K}(tt=s())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],A=p[1];if(b&&A){var k=b.split(`
`),F=A.split(`
`);for(g=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===k.length||g===F.length)for(u=k.length-1,g=F.length-1;1<=u&&0<=g&&k[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(k[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||k[u]!==F[g]){var $=`
`+k[u].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=u&&0<=g);break}}}finally{el=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?gi(l):""}function nl(s,r){switch(s.tag){case 26:case 27:case 5:return gi(s.type);case 16:return gi("Lazy");case 13:return s.child!==r&&r!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Or(s.type,!1);case 11:return Or(s.type.render,!1);case 1:return Or(s.type,!0);case 31:return gi("Activity");default:return""}}function il(s){try{var r="",l=null;do r+=nl(s,l),l=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Se=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,ws=n.unstable_cancelCallback,td=n.unstable_shouldYield,Jc=n.unstable_requestPaint,un=n.unstable_now,Nr=n.unstable_getCurrentPriorityLevel,sl=n.unstable_ImmediatePriority,rl=n.unstable_UserBlockingPriority,xs=n.unstable_NormalPriority,ed=n.unstable_LowPriority,tu=n.unstable_IdlePriority,eu=n.log,nu=n.unstable_setDisableYieldValue,Wn=null,Ge=null;function Nn(s){if(typeof eu=="function"&&nu(s),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Wn,s)}catch{}}var pe=Math.clz32?Math.clz32:su,iu=Math.log,Ma=Math.LN2;function su(s){return s>>>=0,s===0?32:31-(iu(s)/Ma|0)|0}var mi=256,kr=262144,Ae=4194304;function pi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function yi(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?g=pi(u):(b&=A,b!==0?g=pi(b):l||(l=A&~s,l!==0&&(g=pi(l))))):(A=u&~p,A!==0?g=pi(A):b!==0?g=pi(b):l||(l=u&~s,l!==0&&(g=pi(l)))),g===0?0:r!==0&&r!==g&&(r&p)===0&&(p=g&-g,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:g}function Zn(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function nd(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function _i(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Vr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function id(s,r,l,u,g,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var A=s.entanglements,k=s.expirationTimes,F=s.hiddenUpdates;for(l=b&~l;0<l;){var $=31-pe(l),tt=1<<$;A[$]=0,k[$]=-1;var q=F[$];if(q!==null)for(F[$]=null,$=0;$<q.length;$++){var K=q[$];K!==null&&(K.lane&=-536870913)}l&=~tt}u!==0&&Pr(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function Pr(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-pe(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function al(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-pe(l),g=1<<u;g&r|s[u]&r&&(s[u]|=r),l&=~g}}function ol(s,r){var l=r&-r;return l=(l&42)!==0?1:Lr(l),(l&(s.suspendedLanes|r))!==0?0:l}function Lr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Xi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function au(){var s=rt.p;return s!==0?s:(s=window.event,s===void 0?32:R0(s.type))}function Jn(s,r){var l=rt.p;try{return rt.p=s,r()}finally{rt.p=l}}var ti=Math.random().toString(36).slice(2),we="__reactFiber$"+ti,Be="__reactProps$"+ti,vi="__reactContainer$"+ti,Oa="__reactEvents$"+ti,sd="__reactListeners$"+ti,ou="__reactHandles$"+ti,lu="__reactResources$"+ti,bi="__reactMarker$"+ti;function Na(s){delete s[we],delete s[Be],delete s[Oa],delete s[sd],delete s[ou]}function Ti(s){var r=s[we];if(r)return r;for(var l=s.parentNode;l;){if(r=l[vi]||l[we]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=f0(s);s!==null;){if(l=s[we])return l;s=f0(s)}return r}s=l,l=s.parentNode}return null}function kn(s){if(s=s[we]||s[vi]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Sn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ei(s){var r=s[lu];return r||(r=s[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xe(s){s[bi]=!0}var ll=new Set,cl={};function Si(s,r){Ai(s,r),Ai(s+"Capture",r)}function Ai(s,r){for(cl[s]=r,s=0;s<r.length;s++)ll.add(r[s])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function cu(s){return Se.call(fl,s)?!0:Se.call(hl,s)?!1:ul.test(s)?fl[s]=!0:(hl[s]=!0,!1)}function ka(s,r,l){if(cu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function An(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Ce(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}function He(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Cs(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dl(s,r,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Xt(s){if(!s._valueTracker){var r=Cs(s)?"checked":"value";s._valueTracker=dl(s,r,""+s[r])}}function zr(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=Cs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function wi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ur=/[\n"\\]/g;function dn(s){return s.replace(Ur,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Va(s,r,l,u,g,p,b,A){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+He(r)):s.value!==""+He(r)&&(s.value=""+He(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?gl(s,b,He(r)):l!=null?gl(s,b,He(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+He(A):s.removeAttribute("name")}function uu(s,r,l,u,g,p,b,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Xt(s);return}l=l!=null?""+He(l):"",r=r!=null?""+He(r):l,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),Xt(s)}function gl(s,r,l){r==="number"&&wi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Rs(s,r,l,u){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+He(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function hu(s,r,l){if(r!=null&&(r=""+He(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+He(l):""}function Is(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(xt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=He(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Xt(s)}function gn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||fu.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function pl(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&l[g]!==u&&ml(s,g,u)}else for(var p in r)r.hasOwnProperty(p)&&ml(s,p,r[p])}function Pa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(s){return Ds.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ei(){}var yl=null;function Vn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ms=null,xi=null;function Br(s){var r=kn(s);if(r&&(s=r.stateNode)){var l=s[Be]||null;t:switch(s=r.stateNode,r.type){case"input":if(Va(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var g=u[Be]||null;if(!g)throw Error(i(90));Va(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&zr(u)}break t;case"textarea":hu(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Rs(s,!!l.multiple,r,!1)}}}var za=!1;function Os(s,r,l){if(za)return s(r,l);za=!0;try{var u=s(r);return u}finally{if(za=!1,(Ms!==null||xi!==null)&&(ah(),Ms&&(r=Ms,s=xi,xi=Ms=null,Br(r),s)))for(r=0;r<s.length;r++)Br(s[r])}}function ni(s,r){var l=s.stateNode;if(l===null)return null;var u=l[Be]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(Pn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Hr=!1}var Ci=null,_l=null,jr=null;function vl(){if(jr)return jr;var s,r=_l,l=r.length,u,g="value"in Ci?Ci.value:Ci.textContent,p=g.length;for(s=0;s<l&&r[s]===g[s];s++);var b=l-s;for(u=1;u<=b&&r[l-u]===g[p-u];u++);return jr=g.slice(s,1<u?1-u:void 0)}function Fr(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function $i(){return!0}function ii(){return!1}function Ye(s){function r(l,u,g,p,b){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$i:ii,this.isPropagationStopped=ii,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),r}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ye(Wi),Ns=v({},Wi,{view:0,detail:0}),bl=Ye(Ns),ks,Ua,Ii,Ba=v({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ii&&(Ii&&s.type==="mousemove"?(ks=s.screenX-Ii.screenX,Ua=s.screenY-Ii.screenY):Ua=ks=0,Ii=s),ks)},movementY:function(s){return"movementY"in s?s.movementY:Ua}}),Tl=Ye(Ba),qr=v({},Ba,{dataTransfer:0}),gu=Ye(qr),mu=v({},Ns,{relatedTarget:0}),Gr=Ye(mu),El=v({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Ye(El),Ha=v({},Wi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yu=Ye(Ha),_u=v({},Wi,{data:0}),Di=Ye(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Tu[s])?!!r[s]:!1}function Vs(){return Eu}var hn=v({},Ns,{key:function(s){if(s.key){var r=vu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Fr(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?bu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(s){return s.type==="keypress"?Fr(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fr(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Su=Ye(hn),Au=v({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ye(Au),d=v({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),_=Ye(d),T=v({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ye(T),H=v({},Ba,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ye(H),at=v({},Wi,{newState:0,oldState:0}),At=Ye(at),ye=[9,13,27,32],Yt=Pn&&"CompositionEvent"in window,ce=null;Pn&&"documentMode"in document&&(ce=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!ce,Mi=Pn&&(!Yt||ce&&8<ce&&11>=ce),si=" ",ri=!1;function Yr(s,r){switch(s){case"keyup":return ye.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fa=!1;function ZA(s,r){switch(s){case"compositionend":return ja(r);case"keypress":return r.which!==32?null:(ri=!0,si);case"textInput":return s=r.data,s===si&&ri?null:s;default:return null}}function JA(s,r){if(Fa)return s==="compositionend"||!Yt&&Yr(s,r)?(s=vl(),jr=_l=Ci=null,Fa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Mi&&r.locale!=="ko"?null:r.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!tw[s.type]:r==="textarea"}function py(s,r,l,u){Ms?xi?xi.push(u):xi=[u]:Ms=u,r=dh(r,"onChange"),0<r.length&&(l=new Ri("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var Sl=null,Al=null;function ew(s){Zv(s,0)}function wu(s){var r=Sn(s);if(zr(r))return s}function yy(s,r){if(s==="change")return r}var _y=!1;if(Pn){var rd;if(Pn){var ad="oninput"in document;if(!ad){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),ad=typeof vy.oninput=="function"}rd=ad}else rd=!1;_y=rd&&(!document.documentMode||9<document.documentMode)}function by(){Sl&&(Sl.detachEvent("onpropertychange",Ty),Al=Sl=null)}function Ty(s){if(s.propertyName==="value"&&wu(Al)){var r=[];py(r,Al,s,Vn(s)),Os(ew,r)}}function nw(s,r,l){s==="focusin"?(by(),Sl=r,Al=l,Sl.attachEvent("onpropertychange",Ty)):s==="focusout"&&by()}function iw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wu(Al)}function sw(s,r){if(s==="click")return wu(r)}function rw(s,r){if(s==="input"||s==="change")return wu(r)}function aw(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var wn=typeof Object.is=="function"?Object.is:aw;function wl(s,r){if(wn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Se.call(r,g)||!wn(s[g],r[g]))return!1}return!0}function Ey(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Sy(s,r){var l=Ey(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Ey(l)}}function Ay(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Ay(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function wy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=wi(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=wi(s.document)}return r}function od(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var ow=Pn&&"documentMode"in document&&11>=document.documentMode,qa=null,ld=null,xl=null,cd=!1;function xy(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cd||qa==null||qa!==wi(u)||(u=qa,"selectionStart"in u&&od(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xl&&wl(xl,u)||(xl=u,u=dh(ld,"onSelect"),0<u.length&&(r=new Ri("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=qa)))}function Kr(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Ga={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},ud={},Cy={};Pn&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Qr(s){if(ud[s])return ud[s];if(!Ga[s])return s;var r=Ga[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in Cy)return ud[s]=r[l];return s}var Ry=Qr("animationend"),Iy=Qr("animationiteration"),Dy=Qr("animationstart"),lw=Qr("transitionrun"),cw=Qr("transitionstart"),uw=Qr("transitioncancel"),My=Qr("transitionend"),Oy=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function ai(s,r){Oy.set(s,r),Si(r,[s])}var xu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},zn=[],Ya=0,fd=0;function Cu(){for(var s=Ya,r=fd=Ya=0;r<s;){var l=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var g=zn[r];zn[r++]=null;var p=zn[r];if(zn[r++]=null,u!==null&&g!==null){var b=u.pending;b===null?g.next=g:(g.next=b.next,b.next=g),u.pending=g}p!==0&&Ny(l,g,p)}}function Ru(s,r,l,u){zn[Ya++]=s,zn[Ya++]=r,zn[Ya++]=l,zn[Ya++]=u,fd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function dd(s,r,l,u){return Ru(s,r,l,u),Iu(s)}function Xr(s,r){return Ru(s,null,null,r),Iu(s)}function Ny(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&r!==null&&(g=31-pe(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[r]:u.push(r),r.lane=l|536870912),p):null}function Iu(s){if(50<Ql)throw Ql=0,Eg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Ka={};function hw(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(s,r,l,u){return new hw(s,r,l,u)}function gd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ji(s,r){var l=s.alternate;return l===null?(l=xn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ky(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Du(s,r,l,u,g,p){var b=0;if(u=s,typeof s=="function")gd(s)&&(b=1);else if(typeof s=="string")b=px(s,l,lt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case I:return s=xn(31,l,r,g),s.elementType=I,s.lanes=p,s;case M:return $r(l.children,g,p,r);case R:b=8,g|=24;break;case U:return s=xn(12,l,r,g|2),s.elementType=U,s.lanes=p,s;case Z:return s=xn(13,l,r,g),s.elementType=Z,s.lanes=p,s;case nt:return s=xn(19,l,r,g),s.elementType=nt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:b=10;break t;case Q:b=9;break t;case it:b=11;break t;case C:b=14;break t;case x:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=xn(b,l,r,g),r.elementType=s,r.type=u,r.lanes=p,r}function $r(s,r,l,u){return s=xn(7,s,u,r),s.lanes=l,s}function md(s,r,l){return s=xn(6,s,null,r),s.lanes=l,s}function Vy(s){var r=xn(18,null,null,0);return r.stateNode=s,r}function pd(s,r,l){return r=xn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Py=new WeakMap;function Un(s,r){if(typeof s=="object"&&s!==null){var l=Py.get(s);return l!==void 0?l:(r={value:s,source:r,stack:il(r)},Py.set(s,r),r)}return{value:s,source:r,stack:il(r)}}var Qa=[],Xa=0,Mu=null,Cl=0,Bn=[],Hn=0,Ps=null,Oi=1,Ni="";function ts(s,r){Qa[Xa++]=Cl,Qa[Xa++]=Mu,Mu=s,Cl=r}function Ly(s,r,l){Bn[Hn++]=Oi,Bn[Hn++]=Ni,Bn[Hn++]=Ps,Ps=s;var u=Oi;s=Ni;var g=32-pe(u)-1;u&=~(1<<g),l+=1;var p=32-pe(r)+g;if(30<p){var b=g-g%5;p=(u&(1<<b)-1).toString(32),u>>=b,g-=b,Oi=1<<32-pe(r)+g|l<<g|u,Ni=p+s}else Oi=1<<p|l<<g|u,Ni=s}function yd(s){s.return!==null&&(ts(s,1),Ly(s,1,0))}function _d(s){for(;s===Mu;)Mu=Qa[--Xa],Qa[Xa]=null,Cl=Qa[--Xa],Qa[Xa]=null;for(;s===Ps;)Ps=Bn[--Hn],Bn[Hn]=null,Ni=Bn[--Hn],Bn[Hn]=null,Oi=Bn[--Hn],Bn[Hn]=null}function zy(s,r){Bn[Hn++]=Oi,Bn[Hn++]=Ni,Bn[Hn++]=Ps,Oi=r.id,Ni=r.overflow,Ps=s}var Ke=null,re=null,Lt=!1,Ls=null,jn=!1,vd=Error(i(519));function zs(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(Un(r,s)),vd}function Uy(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[we]=s,r[Be]=u,l){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(l=0;l<$l.length;l++)Mt($l[l],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),uu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Is(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||n0(r.textContent,l)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||zs(s,!0)}function By(s){for(Ke=s.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ke=Ke.return}}function $a(s){if(s!==Ke)return!1;if(!Lt)return By(s),Lt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Lg(s.type,s.memoizedProps)),l=!l),l&&re&&zs(s),By(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));re=h0(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));re=h0(s)}else r===27?(r=re,Zs(s.type)?(s=jg,jg=null,re=s):re=r):re=Ke?qn(s.stateNode.nextSibling):null;return!0}function Wr(){re=Ke=null,Lt=!1}function bd(){var s=Ls;return s!==null&&(_n===null?_n=s:_n.push.apply(_n,s),Ls=null),s}function Rl(s){Ls===null?Ls=[s]:Ls.push(s)}var Td=L(null),Zr=null,es=null;function Us(s,r,l){ot(Td,r._currentValue),r._currentValue=l}function ns(s){s._currentValue=Td.current,W(Td)}function Ed(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function Sd(s,r,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var b=g.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=g;for(var k=0;k<r.length;k++)if(A.context===r[k]){p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),Ed(p.return,l,s),u||(b=null);break t}p=A.next}}else if(g.tag===18){if(b=g.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Ed(b,l,s),b=null}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}}function Wa(s,r,l,u){s=null;for(var g=r,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var b=g.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=g.type;wn(g.pendingProps.value,b.value)||(s!==null?s.push(A):s=[A])}}else if(g===Bt.current){if(b=g.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(ec):s=[ec])}g=g.return}s!==null&&Sd(r,s,l,u),r.flags|=262144}function Ou(s){for(s=s.firstContext;s!==null;){if(!wn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Jr(s){Zr=s,es=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Qe(s){return Hy(Zr,s)}function Nu(s,r){return Zr===null&&Jr(s),Hy(s,r)}function Hy(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},es===null){if(s===null)throw Error(i(308));es=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else es=es.next=r;return l}var fw=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},dw=n.unstable_scheduleCallback,gw=n.unstable_NormalPriority,Re={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new fw,data:new Map,refCount:0}}function Il(s){s.refCount--,s.refCount===0&&dw(gw,function(){s.controller.abort()})}var Dl=null,wd=0,Za=0,Ja=null;function mw(s,r){if(Dl===null){var l=Dl=[];wd=0,Za=Rg(),Ja={status:"pending",value:void 0,then:function(u){l.push(u)}}}return wd++,r.then(jy,jy),r}function jy(){if(--wd===0&&Dl!==null){Ja!==null&&(Ja.status="fulfilled");var s=Dl;Dl=null,Za=0,Ja=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function pw(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Fy=Y.S;Y.S=function(s,r){xv=un(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&mw(s,r),Fy!==null&&Fy(s,r)};var ta=L(null);function xd(){var s=ta.current;return s!==null?s:se.pooledCache}function ku(s,r){r===null?ot(ta,ta.current):ot(ta,r.pool)}function qy(){var s=xd();return s===null?null:{parent:Re._currentValue,pool:s}}var to=Error(i(460)),Cd=Error(i(474)),Vu=Error(i(542)),Pu={then:function(){}};function Gy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yy(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(ei,ei),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Qy(s),s;default:if(typeof r.status=="string")r.then(ei,ei);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Qy(s),s}throw na=r,to}}function ea(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(na=l,to):l}}var na=null;function Ky(){if(na===null)throw Error(i(459));var s=na;return na=null,s}function Qy(s){if(s===to||s===Vu)throw Error(i(483))}var eo=null,Ml=0;function Lu(s){var r=Ml;return Ml+=1,eo===null&&(eo=[]),Yy(eo,s,r)}function Ol(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function zu(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Xy(s){function r(B,z){if(s){var j=B.deletions;j===null?(B.deletions=[z],B.flags|=16):j.push(z)}}function l(B,z){if(!s)return null;for(;z!==null;)r(B,z),z=z.sibling;return null}function u(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function g(B,z){return B=Ji(B,z),B.index=0,B.sibling=null,B}function p(B,z,j){return B.index=j,s?(j=B.alternate,j!==null?(j=j.index,j<z?(B.flags|=67108866,z):j):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function b(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function A(B,z,j,J){return z===null||z.tag!==6?(z=md(j,B.mode,J),z.return=B,z):(z=g(z,j),z.return=B,z)}function k(B,z,j,J){var gt=j.type;return gt===M?$(B,z,j.props.children,J,j.key):z!==null&&(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&ea(gt)===z.type)?(z=g(z,j.props),Ol(z,j),z.return=B,z):(z=Du(j.type,j.key,j.props,null,B.mode,J),Ol(z,j),z.return=B,z)}function F(B,z,j,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==j.containerInfo||z.stateNode.implementation!==j.implementation?(z=pd(j,B.mode,J),z.return=B,z):(z=g(z,j.children||[]),z.return=B,z)}function $(B,z,j,J,gt){return z===null||z.tag!==7?(z=$r(j,B.mode,J,gt),z.return=B,z):(z=g(z,j),z.return=B,z)}function tt(B,z,j){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=md(""+z,B.mode,j),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return j=Du(z.type,z.key,z.props,null,B.mode,j),Ol(j,z),j.return=B,j;case D:return z=pd(z,B.mode,j),z.return=B,z;case x:return z=ea(z),tt(B,z,j)}if(xt(z)||P(z))return z=$r(z,B.mode,j,null),z.return=B,z;if(typeof z.then=="function")return tt(B,Lu(z),j);if(z.$$typeof===X)return tt(B,Nu(B,z),j);zu(B,z)}return null}function q(B,z,j,J){var gt=z!==null?z.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return gt!==null?null:A(B,z,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===gt?k(B,z,j,J):null;case D:return j.key===gt?F(B,z,j,J):null;case x:return j=ea(j),q(B,z,j,J)}if(xt(j)||P(j))return gt!==null?null:$(B,z,j,J,null);if(typeof j.then=="function")return q(B,z,Lu(j),J);if(j.$$typeof===X)return q(B,z,Nu(B,j),J);zu(B,j)}return null}function K(B,z,j,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(j)||null,A(z,B,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return B=B.get(J.key===null?j:J.key)||null,k(z,B,J,gt);case D:return B=B.get(J.key===null?j:J.key)||null,F(z,B,J,gt);case x:return J=ea(J),K(B,z,j,J,gt)}if(xt(J)||P(J))return B=B.get(j)||null,$(z,B,J,gt,null);if(typeof J.then=="function")return K(B,z,j,Lu(J),gt);if(J.$$typeof===X)return K(B,z,j,Nu(z,J),gt);zu(z,J)}return null}function ut(B,z,j,J){for(var gt=null,qt=null,ft=z,Ct=z=0,kt=null;ft!==null&&Ct<j.length;Ct++){ft.index>Ct?(kt=ft,ft=null):kt=ft.sibling;var Gt=q(B,ft,j[Ct],J);if(Gt===null){ft===null&&(ft=kt);break}s&&ft&&Gt.alternate===null&&r(B,ft),z=p(Gt,z,Ct),qt===null?gt=Gt:qt.sibling=Gt,qt=Gt,ft=kt}if(Ct===j.length)return l(B,ft),Lt&&ts(B,Ct),gt;if(ft===null){for(;Ct<j.length;Ct++)ft=tt(B,j[Ct],J),ft!==null&&(z=p(ft,z,Ct),qt===null?gt=ft:qt.sibling=ft,qt=ft);return Lt&&ts(B,Ct),gt}for(ft=u(ft);Ct<j.length;Ct++)kt=K(ft,B,Ct,j[Ct],J),kt!==null&&(s&&kt.alternate!==null&&ft.delete(kt.key===null?Ct:kt.key),z=p(kt,z,Ct),qt===null?gt=kt:qt.sibling=kt,qt=kt);return s&&ft.forEach(function(ir){return r(B,ir)}),Lt&&ts(B,Ct),gt}function pt(B,z,j,J){if(j==null)throw Error(i(151));for(var gt=null,qt=null,ft=z,Ct=z=0,kt=null,Gt=j.next();ft!==null&&!Gt.done;Ct++,Gt=j.next()){ft.index>Ct?(kt=ft,ft=null):kt=ft.sibling;var ir=q(B,ft,Gt.value,J);if(ir===null){ft===null&&(ft=kt);break}s&&ft&&ir.alternate===null&&r(B,ft),z=p(ir,z,Ct),qt===null?gt=ir:qt.sibling=ir,qt=ir,ft=kt}if(Gt.done)return l(B,ft),Lt&&ts(B,Ct),gt;if(ft===null){for(;!Gt.done;Ct++,Gt=j.next())Gt=tt(B,Gt.value,J),Gt!==null&&(z=p(Gt,z,Ct),qt===null?gt=Gt:qt.sibling=Gt,qt=Gt);return Lt&&ts(B,Ct),gt}for(ft=u(ft);!Gt.done;Ct++,Gt=j.next())Gt=K(ft,B,Ct,Gt.value,J),Gt!==null&&(s&&Gt.alternate!==null&&ft.delete(Gt.key===null?Ct:Gt.key),z=p(Gt,z,Ct),qt===null?gt=Gt:qt.sibling=Gt,qt=Gt);return s&&ft.forEach(function(Cx){return r(B,Cx)}),Lt&&ts(B,Ct),gt}function ne(B,z,j,J){if(typeof j=="object"&&j!==null&&j.type===M&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:t:{for(var gt=j.key;z!==null;){if(z.key===gt){if(gt=j.type,gt===M){if(z.tag===7){l(B,z.sibling),J=g(z,j.props.children),J.return=B,B=J;break t}}else if(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===x&&ea(gt)===z.type){l(B,z.sibling),J=g(z,j.props),Ol(J,j),J.return=B,B=J;break t}l(B,z);break}else r(B,z);z=z.sibling}j.type===M?(J=$r(j.props.children,B.mode,J,j.key),J.return=B,B=J):(J=Du(j.type,j.key,j.props,null,B.mode,J),Ol(J,j),J.return=B,B=J)}return b(B);case D:t:{for(gt=j.key;z!==null;){if(z.key===gt)if(z.tag===4&&z.stateNode.containerInfo===j.containerInfo&&z.stateNode.implementation===j.implementation){l(B,z.sibling),J=g(z,j.children||[]),J.return=B,B=J;break t}else{l(B,z);break}else r(B,z);z=z.sibling}J=pd(j,B.mode,J),J.return=B,B=J}return b(B);case x:return j=ea(j),ne(B,z,j,J)}if(xt(j))return ut(B,z,j,J);if(P(j)){if(gt=P(j),typeof gt!="function")throw Error(i(150));return j=gt.call(j),pt(B,z,j,J)}if(typeof j.then=="function")return ne(B,z,Lu(j),J);if(j.$$typeof===X)return ne(B,z,Nu(B,j),J);zu(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,z!==null&&z.tag===6?(l(B,z.sibling),J=g(z,j),J.return=B,B=J):(l(B,z),J=md(j,B.mode,J),J.return=B,B=J),b(B)):l(B,z)}return function(B,z,j,J){try{Ml=0;var gt=ne(B,z,j,J);return eo=null,gt}catch(ft){if(ft===to||ft===Vu)throw ft;var qt=xn(29,ft,null,B.mode);return qt.lanes=J,qt.return=B,qt}}}var ia=Xy(!0),$y=Xy(!1),Bs=!1;function Rd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Hs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function js(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=Iu(s),Ny(s,null,l),r}return Ru(s,u,r,l),Iu(s)}function Nl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,al(s,l)}}function Dd(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?g=p=r:p=p.next=r}else g=p=r;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var Md=!1;function kl(){if(Md){var s=Ja;if(s!==null)throw s}}function Vl(s,r,l,u){Md=!1;var g=s.updateQueue;Bs=!1;var p=g.firstBaseUpdate,b=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var k=A,F=k.next;k.next=null,b===null?p=F:b.next=F,b=k;var $=s.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==b&&(A===null?$.firstBaseUpdate=F:A.next=F,$.lastBaseUpdate=k))}if(p!==null){var tt=g.baseState;b=0,$=F=k=null,A=p;do{var q=A.lane&-536870913,K=q!==A.lane;if(K?(Nt&q)===q:(u&q)===q){q!==0&&q===Za&&(Md=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ut=s,pt=A;q=r;var ne=l;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){tt=ut.call(ne,tt,q);break t}tt=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,q=typeof ut=="function"?ut.call(ne,tt,q):ut,q==null)break t;tt=v({},tt,q);break t;case 2:Bs=!0}}q=A.callback,q!==null&&(s.flags|=64,K&&(s.flags|=8192),K=g.callbacks,K===null?g.callbacks=[q]:K.push(q))}else K={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(F=$=K,k=tt):$=$.next=K,b|=q;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;K=A,A=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);$===null&&(k=tt),g.baseState=k,g.firstBaseUpdate=F,g.lastBaseUpdate=$,p===null&&(g.shared.lanes=0),Ks|=b,s.lanes=b,s.memoizedState=tt}}function Wy(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Zy(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Wy(l[s],r)}var no=L(null),Uu=L(0);function Jy(s,r){s=hs,ot(Uu,s),ot(no,r),hs=s|r.baseLanes}function Od(){ot(Uu,hs),ot(no,no.current)}function Nd(){hs=Uu.current,W(no),W(Uu)}var Cn=L(null),Fn=null;function Fs(s){var r=s.alternate;ot(_e,_e.current&1),ot(Cn,s),Fn===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(Fn=s)}function kd(s){ot(_e,_e.current),ot(Cn,s),Fn===null&&(Fn=s)}function t_(s){s.tag===22?(ot(_e,_e.current),ot(Cn,s),Fn===null&&(Fn=s)):qs()}function qs(){ot(_e,_e.current),ot(Cn,Cn.current)}function Rn(s){W(Cn),Fn===s&&(Fn=null),W(_e)}var _e=L(0);function Bu(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Bg(l)||Hg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var is=0,wt=null,te=null,Ie=null,Hu=!1,io=!1,sa=!1,ju=0,Pl=0,so=null,yw=0;function ge(){throw Error(i(321))}function Vd(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!wn(s[l],r[l]))return!1;return!0}function Pd(s,r,l,u,g,p){return is=p,wt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=s===null||s.memoizedState===null?L_:Wd,sa=!1,p=l(u,g),sa=!1,io&&(p=n_(r,l,u,g)),e_(s),p}function e_(s){Y.H=Ul;var r=te!==null&&te.next!==null;if(is=0,Ie=te=wt=null,Hu=!1,Pl=0,so=null,r)throw Error(i(300));s===null||De||(s=s.dependencies,s!==null&&Ou(s)&&(De=!0))}function n_(s,r,l,u){wt=s;var g=0;do{if(io&&(so=null),Pl=0,io=!1,25<=g)throw Error(i(301));if(g+=1,Ie=te=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=z_,p=r(l,u)}while(io);return p}function _w(){var s=Y.H,r=s.useState()[0];return r=typeof r.then=="function"?Ll(r):r,s=s.useState()[0],(te!==null?te.memoizedState:null)!==s&&(wt.flags|=1024),r}function Ld(){var s=ju!==0;return ju=0,s}function zd(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Ud(s){if(Hu){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Hu=!1}is=0,Ie=te=wt=null,io=!1,Pl=ju=0,so=null}function fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?wt.memoizedState=Ie=s:Ie=Ie.next=s,Ie}function ve(){if(te===null){var s=wt.alternate;s=s!==null?s.memoizedState:null}else s=te.next;var r=Ie===null?wt.memoizedState:Ie.next;if(r!==null)Ie=r,te=s;else{if(s===null)throw wt.alternate===null?Error(i(467)):Error(i(310));te=s,s={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ie===null?wt.memoizedState=Ie=s:Ie=Ie.next=s}return Ie}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(s){var r=Pl;return Pl+=1,so===null&&(so=[]),s=Yy(so,s,r),r=wt,(Ie===null?r.memoizedState:Ie.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?L_:Wd),s}function qu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ll(s);if(s.$$typeof===X)return Qe(s)}throw Error(i(438,String(s)))}function Bd(s){var r=null,l=wt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=wt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Fu(),wt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=V;return r.index++,l}function ss(s,r){return typeof r=="function"?r(s):r}function Gu(s){var r=ve();return Hd(r,te,s)}function Hd(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var b=g.next;g.next=p.next,p.next=b}r.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{r=g.next;var A=b=null,k=null,F=r,$=!1;do{var tt=F.lane&-536870913;if(tt!==F.lane?(Nt&tt)===tt:(is&tt)===tt){var q=F.revertLane;if(q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),tt===Za&&($=!0);else if((is&q)===q){F=F.next,q===Za&&($=!0);continue}else tt={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(A=k=tt,b=p):k=k.next=tt,wt.lanes|=q,Ks|=q;tt=F.action,sa&&l(p,tt),p=F.hasEagerState?F.eagerState:l(p,tt)}else q={lane:tt,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(A=k=q,b=p):k=k.next=q,wt.lanes|=tt,Ks|=tt;F=F.next}while(F!==null&&F!==r);if(k===null?b=p:k.next=A,!wn(p,s.memoizedState)&&(De=!0,$&&(l=Ja,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=k,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function jd(s){var r=ve(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=r.memoizedState;if(g!==null){l.pending=null;var b=g=g.next;do p=s(p,b.action),b=b.next;while(b!==g);wn(p,r.memoizedState)||(De=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function i_(s,r,l){var u=wt,g=ve(),p=Lt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var b=!wn((te||g).memoizedState,l);if(b&&(g.memoizedState=l,De=!0),g=g.queue,Gd(a_.bind(null,u,g,s),[s]),g.getSnapshot!==r||b||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,ro(9,{destroy:void 0},r_.bind(null,u,g,l,r),null),se===null)throw Error(i(349));p||(is&127)!==0||s_(u,r,l)}return l}function s_(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=wt.updateQueue,r===null?(r=Fu(),wt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function r_(s,r,l,u){r.value=l,r.getSnapshot=u,o_(r)&&l_(s)}function a_(s,r,l){return l(function(){o_(r)&&l_(s)})}function o_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!wn(s,l)}catch{return!0}}function l_(s){var r=Xr(s,2);r!==null&&vn(r,s,2)}function Fd(s){var r=fn();if(typeof s=="function"){var l=s;if(s=l(),sa){Nn(!0);try{l()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:s},r}function c_(s,r,l,u){return s.baseState=l,Hd(s,te,typeof u=="function"?u:ss)}function vw(s,r,l,u,g){if(Qu(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Y.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,u_(r,p)):(p.next=l.next,r.pending=l.next=p)}}function u_(s,r){var l=r.action,u=r.payload,g=s.state;if(r.isTransition){var p=Y.T,b={};Y.T=b;try{var A=l(g,u),k=Y.S;k!==null&&k(b,A),h_(s,r,A)}catch(F){qd(s,r,F)}finally{p!==null&&b.types!==null&&(p.types=b.types),Y.T=p}}else try{p=l(g,u),h_(s,r,p)}catch(F){qd(s,r,F)}}function h_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){f_(s,r,u)},function(u){return qd(s,r,u)}):f_(s,r,l)}function f_(s,r,l){r.status="fulfilled",r.value=l,d_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,u_(s,l)))}function qd(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,d_(r),r=r.next;while(r!==u)}s.action=null}function d_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function g_(s,r){return r}function m_(s,r){if(Lt){var l=se.formState;if(l!==null){t:{var u=wt;if(Lt){if(re){e:{for(var g=re,p=jn;g.nodeType!==8;){if(!p){g=null;break e}if(g=qn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){re=qn(g.nextSibling),u=g.data==="F!";break t}}zs(u)}u=!1}u&&(r=l[0])}}return l=fn(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:r},l.queue=u,l=k_.bind(null,wt,u),u.dispatch=l,u=Fd(!1),p=$d.bind(null,wt,!1,u.queue),u=fn(),g={state:r,dispatch:null,action:s,pending:null},u.queue=g,l=vw.bind(null,wt,g,p,l),g.dispatch=l,u.memoizedState=s,[r,l,!1]}function p_(s){var r=ve();return y_(r,te,s)}function y_(s,r,l){if(r=Hd(s,r,g_)[0],s=Gu(ss)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ll(r)}catch(b){throw b===to?Vu:b}else u=r;r=ve();var g=r.queue,p=g.dispatch;return l!==r.memoizedState&&(wt.flags|=2048,ro(9,{destroy:void 0},bw.bind(null,g,l),null)),[u,p,s]}function bw(s,r){s.action=r}function __(s){var r=ve(),l=te;if(l!==null)return y_(r,l,s);ve(),r=r.memoizedState,l=ve();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function ro(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=wt.updateQueue,r===null&&(r=Fu(),wt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function v_(){return ve().memoizedState}function Yu(s,r,l,u){var g=fn();wt.flags|=s,g.memoizedState=ro(1|r,{destroy:void 0},l,u===void 0?null:u)}function Ku(s,r,l,u){var g=ve();u=u===void 0?null:u;var p=g.memoizedState.inst;te!==null&&u!==null&&Vd(u,te.memoizedState.deps)?g.memoizedState=ro(r,p,l,u):(wt.flags|=s,g.memoizedState=ro(1|r,p,l,u))}function b_(s,r){Yu(8390656,8,s,r)}function Gd(s,r){Ku(2048,8,s,r)}function Tw(s){wt.flags|=4;var r=wt.updateQueue;if(r===null)r=Fu(),wt.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function T_(s){var r=ve().memoizedState;return Tw({ref:r,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function E_(s,r){return Ku(4,2,s,r)}function S_(s,r){return Ku(4,4,s,r)}function A_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function w_(s,r,l){l=l!=null?l.concat([s]):null,Ku(4,4,A_.bind(null,r,s),l)}function Yd(){}function x_(s,r){var l=ve();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&Vd(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function C_(s,r){var l=ve();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&Vd(r,u[1]))return u[0];if(u=s(),sa){Nn(!0);try{s()}finally{Nn(!1)}}return l.memoizedState=[u,r],u}function Kd(s,r,l){return l===void 0||(is&1073741824)!==0&&(Nt&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=Rv(),wt.lanes|=s,Ks|=s,l)}function R_(s,r,l,u){return wn(l,r)?l:no.current!==null?(s=Kd(s,l,u),wn(s,r)||(De=!0),s):(is&42)===0||(is&1073741824)!==0&&(Nt&261930)===0?(De=!0,s.memoizedState=l):(s=Rv(),wt.lanes|=s,Ks|=s,r)}function I_(s,r,l,u,g){var p=rt.p;rt.p=p!==0&&8>p?p:8;var b=Y.T,A={};Y.T=A,$d(s,!1,r,l);try{var k=g(),F=Y.S;if(F!==null&&F(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=pw(k,u);zl(s,r,$,Mn(s))}else zl(s,r,u,Mn(s))}catch(tt){zl(s,r,{then:function(){},status:"rejected",reason:tt},Mn())}finally{rt.p=p,b!==null&&A.types!==null&&(b.types=A.types),Y.T=b}}function Ew(){}function Qd(s,r,l,u){if(s.tag!==5)throw Error(i(476));var g=D_(s).queue;I_(s,g,r,dt,l===null?Ew:function(){return M_(s),l(u)})}function D_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:dt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function M_(s){var r=D_(s);r.next===null&&(r=s.alternate.memoizedState),zl(s,r.next.queue,{},Mn())}function Xd(){return Qe(ec)}function O_(){return ve().memoizedState}function N_(){return ve().memoizedState}function Sw(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Mn();s=Hs(l);var u=js(r,s,l);u!==null&&(vn(u,r,l),Nl(u,r,l)),r={cache:Ad()},s.payload=r;return}r=r.return}}function Aw(s,r,l){var u=Mn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(s)?V_(r,l):(l=dd(s,r,l,u),l!==null&&(vn(l,s,u),P_(l,r,u)))}function k_(s,r,l){var u=Mn();zl(s,r,l,u)}function zl(s,r,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qu(s))V_(r,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,A=p(b,l);if(g.hasEagerState=!0,g.eagerState=A,wn(A,b))return Ru(s,r,g,0),se===null&&Cu(),!1}catch{}if(l=dd(s,r,g,u),l!==null)return vn(l,s,u),P_(l,r,u),!0}return!1}function $d(s,r,l,u){if(u={lane:2,revertLane:Rg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Qu(s)){if(r)throw Error(i(479))}else r=dd(s,l,u,2),r!==null&&vn(r,s,2)}function Qu(s){var r=s.alternate;return s===wt||r!==null&&r===wt}function V_(s,r){io=Hu=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function P_(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,al(s,l)}}var Ul={readContext:Qe,use:qu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Ul.useEffectEvent=ge;var L_={readContext:Qe,use:qu,useCallback:function(s,r){return fn().memoizedState=[s,r===void 0?null:r],s},useContext:Qe,useEffect:b_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Yu(4194308,4,A_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Yu(4194308,4,s,r)},useInsertionEffect:function(s,r){Yu(4,2,s,r)},useMemo:function(s,r){var l=fn();r=r===void 0?null:r;var u=s();if(sa){Nn(!0);try{s()}finally{Nn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=fn();if(l!==void 0){var g=l(r);if(sa){Nn(!0);try{l(r)}finally{Nn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=Aw.bind(null,wt,s),[u.memoizedState,s]},useRef:function(s){var r=fn();return s={current:s},r.memoizedState=s},useState:function(s){s=Fd(s);var r=s.queue,l=k_.bind(null,wt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Yd,useDeferredValue:function(s,r){var l=fn();return Kd(l,s,r)},useTransition:function(){var s=Fd(!1);return s=I_.bind(null,wt,s.queue,!0,!1),fn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=wt,g=fn();if(Lt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),se===null)throw Error(i(349));(Nt&127)!==0||s_(u,r,l)}g.memoizedState=l;var p={value:l,getSnapshot:r};return g.queue=p,b_(a_.bind(null,u,p,s),[s]),u.flags|=2048,ro(9,{destroy:void 0},r_.bind(null,u,p,l,r),null),l},useId:function(){var s=fn(),r=se.identifierPrefix;if(Lt){var l=Ni,u=Oi;l=(u&~(1<<32-pe(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=ju++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=yw++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Xd,useFormState:m_,useActionState:m_,useOptimistic:function(s){var r=fn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=$d.bind(null,wt,!0,l),l.dispatch=r,[s,r]},useMemoCache:Bd,useCacheRefresh:function(){return fn().memoizedState=Sw.bind(null,wt)},useEffectEvent:function(s){var r=fn(),l={impl:s};return r.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Wd={readContext:Qe,use:qu,useCallback:x_,useContext:Qe,useEffect:Gd,useImperativeHandle:w_,useInsertionEffect:E_,useLayoutEffect:S_,useMemo:C_,useReducer:Gu,useRef:v_,useState:function(){return Gu(ss)},useDebugValue:Yd,useDeferredValue:function(s,r){var l=ve();return R_(l,te.memoizedState,s,r)},useTransition:function(){var s=Gu(ss)[0],r=ve().memoizedState;return[typeof s=="boolean"?s:Ll(s),r]},useSyncExternalStore:i_,useId:O_,useHostTransitionStatus:Xd,useFormState:p_,useActionState:p_,useOptimistic:function(s,r){var l=ve();return c_(l,te,s,r)},useMemoCache:Bd,useCacheRefresh:N_};Wd.useEffectEvent=T_;var z_={readContext:Qe,use:qu,useCallback:x_,useContext:Qe,useEffect:Gd,useImperativeHandle:w_,useInsertionEffect:E_,useLayoutEffect:S_,useMemo:C_,useReducer:jd,useRef:v_,useState:function(){return jd(ss)},useDebugValue:Yd,useDeferredValue:function(s,r){var l=ve();return te===null?Kd(l,s,r):R_(l,te.memoizedState,s,r)},useTransition:function(){var s=jd(ss)[0],r=ve().memoizedState;return[typeof s=="boolean"?s:Ll(s),r]},useSyncExternalStore:i_,useId:O_,useHostTransitionStatus:Xd,useFormState:__,useActionState:__,useOptimistic:function(s,r){var l=ve();return te!==null?c_(l,te,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:N_};z_.useEffectEvent=T_;function Zd(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:v({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Jd={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Mn(),g=Hs(u);g.payload=r,l!=null&&(g.callback=l),r=js(s,g,u),r!==null&&(vn(r,s,u),Nl(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Mn(),g=Hs(u);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=js(s,g,u),r!==null&&(vn(r,s,u),Nl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Mn(),u=Hs(l);u.tag=2,r!=null&&(u.callback=r),r=js(s,u,l),r!==null&&(vn(r,s,l),Nl(r,s,l))}};function U_(s,r,l,u,g,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!wl(l,u)||!wl(g,p):!0}function B_(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&Jd.enqueueReplaceState(r,r.state,null)}function ra(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=v({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function H_(s){xu(s)}function j_(s){console.error(s)}function F_(s){xu(s)}function Xu(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function q_(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function tg(s,r,l){return l=Hs(l),l.tag=3,l.payload={element:null},l.callback=function(){Xu(s,r)},l}function G_(s){return s=Hs(s),s.tag=3,s}function Y_(s,r,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){q_(r,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){q_(r,l,u),typeof g!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function ww(s,r,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&Wa(r,l,g,!0),l=Cn.current,l!==null){switch(l.tag){case 31:case 13:return Fn===null?oh():l.alternate===null&&me===0&&(me=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Pu?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),wg(s,u,g)),!1;case 22:return l.flags|=65536,u===Pu?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),wg(s,u,g)),!1}throw Error(i(435,l.tag))}return wg(s,u,g),oh(),!1}if(Lt)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==vd&&(s=Error(i(422),{cause:u}),Rl(Un(s,l)))):(u!==vd&&(r=Error(i(423),{cause:u}),Rl(Un(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Un(u,l),g=tg(s.stateNode,u,g),Dd(s,g),me!==4&&(me=2)),!1;var p=Error(i(520),{cause:u});if(p=Un(p,l),Kl===null?Kl=[p]:Kl.push(p),me!==4&&(me=2),r===null)return!0;u=Un(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=tg(l.stateNode,u,s),Dd(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Qs===null||!Qs.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=G_(g),Y_(g,s,l,u),Dd(l,g),!1}l=l.return}while(l!==null);return!1}var eg=Error(i(461)),De=!1;function Xe(s,r,l,u){r.child=s===null?$y(r,null,l,u):ia(r,s.child,l,u)}function K_(s,r,l,u,g){l=l.render;var p=r.ref;if("ref"in u){var b={};for(var A in u)A!=="ref"&&(b[A]=u[A])}else b=u;return Jr(r),u=Pd(s,r,l,b,p,g),A=Ld(),s!==null&&!De?(zd(s,r,g),rs(s,r,g)):(Lt&&A&&yd(r),r.flags|=1,Xe(s,r,u,g),r.child)}function Q_(s,r,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!gd(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,X_(s,r,p,u,g)):(s=Du(l.type,null,u,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!cg(s,g)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:wl,l(b,u)&&s.ref===r.ref)return rs(s,r,g)}return r.flags|=1,s=Ji(p,u),s.ref=r.ref,s.return=r,r.child=s}function X_(s,r,l,u,g){if(s!==null){var p=s.memoizedProps;if(wl(p,u)&&s.ref===r.ref)if(De=!1,r.pendingProps=u=p,cg(s,g))(s.flags&131072)!==0&&(De=!0);else return r.lanes=s.lanes,rs(s,r,g)}return ng(s,r,l,u,g)}function $_(s,r,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=r.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,r.child=null;return W_(s,r,p,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&ku(r,p!==null?p.cachePool:null),p!==null?Jy(r,p):Od(),t_(r);else return u=r.lanes=536870912,W_(s,r,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(ku(r,p.cachePool),Jy(r,p),qs(),r.memoizedState=null):(s!==null&&ku(r,null),Od(),qs());return Xe(s,r,g,l),r.child}function Bl(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function W_(s,r,l,u,g){var p=xd();return p=p===null?null:{parent:Re._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},s!==null&&ku(r,null),Od(),t_(r),s!==null&&Wa(s,r,u,!0),r.childLanes=g,null}function $u(s,r){return r=Zu({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Z_(s,r,l){return ia(r,s.child,null,l),s=$u(r,r.pendingProps),s.flags|=2,Rn(r),r.memoizedState=null,s}function xw(s,r,l){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Lt){if(u.mode==="hidden")return s=$u(r,u),r.lanes=536870912,Bl(null,s);if(kd(r),(s=re)?(s=u0(s,jn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ps!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},l=Vy(s),l.return=r,r.child=l,Ke=r,re=null)):s=null,s===null)throw zs(r);return r.lanes=536870912,null}return $u(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(kd(r),g)if(r.flags&256)r.flags&=-257,r=Z_(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(De||Wa(s,r,l,!1),g=(l&s.childLanes)!==0,De||g){if(u=se,u!==null&&(b=ol(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,Xr(s,b),vn(u,s,b),eg;oh(),r=Z_(s,r,l)}else s=p.treeContext,re=qn(b.nextSibling),Ke=r,Lt=!0,Ls=null,jn=!1,s!==null&&zy(r,s),r=$u(r,u),r.flags|=4096;return r}return s=Ji(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Wu(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function ng(s,r,l,u,g){return Jr(r),l=Pd(s,r,l,u,void 0,g),u=Ld(),s!==null&&!De?(zd(s,r,g),rs(s,r,g)):(Lt&&u&&yd(r),r.flags|=1,Xe(s,r,l,g),r.child)}function J_(s,r,l,u,g,p){return Jr(r),r.updateQueue=null,l=n_(r,u,l,g),e_(s),u=Ld(),s!==null&&!De?(zd(s,r,p),rs(s,r,p)):(Lt&&u&&yd(r),r.flags|=1,Xe(s,r,l,p),r.child)}function tv(s,r,l,u,g){if(Jr(r),r.stateNode===null){var p=Ka,b=l.contextType;typeof b=="object"&&b!==null&&(p=Qe(b)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Jd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Rd(r),b=l.contextType,p.context=typeof b=="object"&&b!==null?Qe(b):Ka,p.state=r.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Zd(r,l,b,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Jd.enqueueReplaceState(p,p.state,null),Vl(r,u,p,g),kl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var A=r.memoizedProps,k=ra(l,A);p.props=k;var F=p.context,$=l.contextType;b=Ka,typeof $=="object"&&$!==null&&(b=Qe($));var tt=l.getDerivedStateFromProps;$=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||F!==b)&&B_(r,p,u,b),Bs=!1;var q=r.memoizedState;p.state=q,Vl(r,u,p,g),kl(),F=r.memoizedState,A||q!==F||Bs?(typeof tt=="function"&&(Zd(r,l,tt,u),F=r.memoizedState),(k=Bs||U_(r,l,k,u,q,F,b))?($||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),p.props=u,p.state=F,p.context=b,u=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,Id(s,r),b=r.memoizedProps,$=ra(l,b),p.props=$,tt=r.pendingProps,q=p.context,F=l.contextType,k=Ka,typeof F=="object"&&F!==null&&(k=Qe(F)),A=l.getDerivedStateFromProps,(F=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==tt||q!==k)&&B_(r,p,u,k),Bs=!1,q=r.memoizedState,p.state=q,Vl(r,u,p,g),kl();var K=r.memoizedState;b!==tt||q!==K||Bs||s!==null&&s.dependencies!==null&&Ou(s.dependencies)?(typeof A=="function"&&(Zd(r,l,A,u),K=r.memoizedState),($=Bs||U_(r,l,$,u,q,K,k)||s!==null&&s.dependencies!==null&&Ou(s.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,K,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,K,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),p.props=u,p.state=K,p.context=k,u=$):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,Wu(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=ia(r,s.child,null,g),r.child=ia(r,null,l,g)):Xe(s,r,l,g),r.memoizedState=p.state,s=r.child):s=rs(s,r,g),s}function ev(s,r,l,u){return Wr(),r.flags|=256,Xe(s,r,l,u),r.child}var ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sg(s){return{baseLanes:s,cachePool:qy()}}function rg(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Dn),s}function nv(s,r,l){var u=r.pendingProps,g=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(_e.current&2)!==0),b&&(g=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Lt){if(g?Fs(r):qs(),(s=re)?(s=u0(s,jn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ps!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},l=Vy(s),l.return=r,r.child=l,Ke=r,re=null)):s=null,s===null)throw zs(r);return Hg(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,g?(qs(),g=r.mode,A=Zu({mode:"hidden",children:A},g),u=$r(u,g,l,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=sg(l),u.childLanes=rg(s,b,l),r.memoizedState=ig,Bl(null,u)):(Fs(r),ag(r,A))}var k=s.memoizedState;if(k!==null&&(A=k.dehydrated,A!==null)){if(p)r.flags&256?(Fs(r),r.flags&=-257,r=og(s,r,l)):r.memoizedState!==null?(qs(),r.child=s.child,r.flags|=128,r=null):(qs(),A=u.fallback,g=r.mode,u=Zu({mode:"visible",children:u.children},g),A=$r(A,g,l,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ia(r,s.child,null,l),u=r.child,u.memoizedState=sg(l),u.childLanes=rg(s,b,l),r.memoizedState=ig,r=Bl(null,u));else if(Fs(r),Hg(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(i(419)),u.stack="",u.digest=b,Rl({value:u,source:null,stack:null}),r=og(s,r,l)}else if(De||Wa(s,r,l,!1),b=(l&s.childLanes)!==0,De||b){if(b=se,b!==null&&(u=ol(b,l),u!==0&&u!==k.retryLane))throw k.retryLane=u,Xr(s,u),vn(b,s,u),eg;Bg(A)||oh(),r=og(s,r,l)}else Bg(A)?(r.flags|=192,r.child=s.child,r=null):(s=k.treeContext,re=qn(A.nextSibling),Ke=r,Lt=!0,Ls=null,jn=!1,s!==null&&zy(r,s),r=ag(r,u.children),r.flags|=4096);return r}return g?(qs(),A=u.fallback,g=r.mode,k=s.child,F=k.sibling,u=Ji(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,F!==null?A=Ji(F,A):(A=$r(A,g,l,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Bl(null,u),u=r.child,A=s.child.memoizedState,A===null?A=sg(l):(g=A.cachePool,g!==null?(k=Re._currentValue,g=g.parent!==k?{parent:k,pool:k}:g):g=qy(),A={baseLanes:A.baseLanes|l,cachePool:g}),u.memoizedState=A,u.childLanes=rg(s,b,l),r.memoizedState=ig,Bl(s.child,u)):(Fs(r),l=s.child,s=l.sibling,l=Ji(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=l,r.memoizedState=null,l)}function ag(s,r){return r=Zu({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Zu(s,r){return s=xn(22,s,null,r),s.lanes=0,s}function og(s,r,l){return ia(r,s.child,null,l),s=ag(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function iv(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Ed(s.return,r,l)}function lg(s,r,l,u,g,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g,b.treeForkCount=p)}function sv(s,r,l){var u=r.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var b=_e.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ot(_e,b),Xe(s,r,u,l),u=Lt?Cl:0,!A&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&iv(s,l,r);else if(s.tag===19)iv(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&Bu(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),lg(r,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&Bu(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}lg(r,!0,l,null,p,u);break;case"together":lg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function rs(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Ks|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(Wa(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=Ji(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=Ji(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function cg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ou(s)))}function Cw(s,r,l){switch(r.tag){case 3:Pe(r,r.stateNode.containerInfo),Us(r,Re,s.memoizedState.cache),Wr();break;case 27:case 5:Mr(r);break;case 4:Pe(r,r.stateNode.containerInfo);break;case 10:Us(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,kd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Fs(r),r.flags|=128,null):(l&r.child.childLanes)!==0?nv(s,r,l):(Fs(r),s=rs(s,r,l),s!==null?s.sibling:null);Fs(r);break;case 19:var g=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(Wa(s,r,l,!1),u=(l&r.childLanes)!==0),g){if(u)return sv(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ot(_e,_e.current),u)break;return null;case 22:return r.lanes=0,$_(s,r,l,r.pendingProps);case 24:Us(r,Re,s.memoizedState.cache)}return rs(s,r,l)}function rv(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)De=!0;else{if(!cg(s,l)&&(r.flags&128)===0)return De=!1,Cw(s,r,l);De=(s.flags&131072)!==0}else De=!1,Lt&&(r.flags&1048576)!==0&&Ly(r,Cl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=ea(r.elementType),r.type=s,typeof s=="function")gd(s)?(u=ra(s,u),r.tag=1,r=tv(null,r,s,u,l)):(r.tag=0,r=ng(null,r,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===it){r.tag=11,r=K_(null,r,s,u,l);break t}else if(g===C){r.tag=14,r=Q_(null,r,s,u,l);break t}}throw r=Pt(s)||s,Error(i(306,r,""))}}return r;case 0:return ng(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,g=ra(u,r.pendingProps),tv(s,r,u,g,l);case 3:t:{if(Pe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;g=p.element,Id(s,r),Vl(r,u,null,l);var b=r.memoizedState;if(u=b.cache,Us(r,Re,u),u!==p.cache&&Sd(r,[Re],l,!0),kl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=ev(s,r,u,l);break t}else if(u!==g){g=Un(Error(i(424)),r),Rl(g),r=ev(s,r,u,l);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,re=qn(s.firstChild),Ke=r,Lt=!0,Ls=null,jn=!0,l=$y(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Wr(),u===g){r=rs(s,r,l);break t}Xe(s,r,u,l)}r=r.child}return r;case 26:return Wu(s,r),s===null?(l=p0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Lt||(l=r.type,s=r.pendingProps,u=gh(vt.current).createElement(l),u[we]=r,u[Be]=s,$e(u,l,s),xe(u),r.stateNode=u):r.memoizedState=p0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Mr(r),s===null&&Lt&&(u=r.stateNode=d0(r.type,r.pendingProps,vt.current),Ke=r,jn=!0,g=re,Zs(r.type)?(jg=g,re=qn(u.firstChild)):re=g),Xe(s,r,r.pendingProps.children,l),Wu(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Lt&&((g=u=re)&&(u=ix(u,r.type,r.pendingProps,jn),u!==null?(r.stateNode=u,Ke=r,re=qn(u.firstChild),jn=!1,g=!0):g=!1),g||zs(r)),Mr(r),g=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,Lg(g,p)?u=null:b!==null&&Lg(g,b)&&(r.flags|=32),r.memoizedState!==null&&(g=Pd(s,r,_w,null,null,l),ec._currentValue=g),Wu(s,r),Xe(s,r,u,l),r.child;case 6:return s===null&&Lt&&((s=l=re)&&(l=sx(l,r.pendingProps,jn),l!==null?(r.stateNode=l,Ke=r,re=null,s=!0):s=!1),s||zs(r)),null;case 13:return nv(s,r,l);case 4:return Pe(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ia(r,null,u,l):Xe(s,r,u,l),r.child;case 11:return K_(s,r,r.type,r.pendingProps,l);case 7:return Xe(s,r,r.pendingProps,l),r.child;case 8:return Xe(s,r,r.pendingProps.children,l),r.child;case 12:return Xe(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,Us(r,r.type,u.value),Xe(s,r,u.children,l),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,Jr(r),g=Qe(g),u=u(g),r.flags|=1,Xe(s,r,u,l),r.child;case 14:return Q_(s,r,r.type,r.pendingProps,l);case 15:return X_(s,r,r.type,r.pendingProps,l);case 19:return sv(s,r,l);case 31:return xw(s,r,l);case 22:return $_(s,r,l,r.pendingProps);case 24:return Jr(r),u=Qe(Re),s===null?(g=xd(),g===null&&(g=se,p=Ad(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),r.memoizedState={parent:u,cache:g},Rd(r),Us(r,Re,g)):((s.lanes&l)!==0&&(Id(s,r),Vl(r,null,null,l),kl()),g=s.memoizedState,p=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Us(r,Re,u)):(u=p.cache,Us(r,Re,u),u!==g.cache&&Sd(r,[Re],l,!0))),Xe(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function as(s){s.flags|=4}function ug(s,r,l,u,g){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(Ov())s.flags|=8192;else throw na=Pu,Cd}else s.flags&=-16777217}function av(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!T0(r))if(Ov())s.flags|=8192;else throw na=Pu,Cd}function Ju(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?ru():536870912,s.lanes|=r,co|=r)}function Hl(s,r){if(!Lt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ae(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function Rw(s,r,l){var u=r.pendingProps;switch(_d(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ns(Re),le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&($a(r)?as(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bd())),ae(r),null;case 26:var g=r.type,p=r.memoizedState;return s===null?(as(r),p!==null?(ae(r),av(r,p)):(ae(r),ug(r,g,null,u,l))):p?p!==s.memoizedState?(as(r),ae(r),av(r,p)):(ae(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&as(r),ae(r),ug(r,g,s,u,l)),null;case 27:if(Ra(r),l=vt.current,g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&as(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ae(r),null}s=lt.current,$a(r)?Uy(r):(s=d0(g,u,l),r.stateNode=s,as(r))}return ae(r),null;case 5:if(Ra(r),g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&as(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ae(r),null}if(p=lt.current,$a(r))Uy(r);else{var b=gh(vt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(g,{is:u.is}):b.createElement(g)}}p[we]=r,p[Be]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;t:switch($e(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&as(r)}}return ae(r),ug(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&as(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=vt.current,$a(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,g=Ke,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[we]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||n0(s.nodeValue,l)),s||zs(r,!0)}else s=gh(s).createTextNode(u),s[we]=r,r.stateNode=s}return ae(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(u=$a(r),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[we]=r}else Wr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),s=!1}else l=bd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Rn(r),r):(Rn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ae(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=$a(r),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[we]=r}else Wr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),g=!1}else g=bd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Rn(r),r):(Rn(r),null)}return Rn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),Ju(r,r.updateQueue),ae(r),null);case 4:return le(),s===null&&Og(r.stateNode.containerInfo),ae(r),null;case 10:return ns(r.type),ae(r),null;case 19:if(W(_e),u=r.memoizedState,u===null)return ae(r),null;if(g=(r.flags&128)!==0,p=u.rendering,p===null)if(g)Hl(u,!1);else{if(me!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Bu(s),p!==null){for(r.flags|=128,Hl(u,!1),s=p.updateQueue,r.updateQueue=s,Ju(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)ky(l,s),l=l.sibling;return ot(_e,_e.current&1|2),Lt&&ts(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&un()>sh&&(r.flags|=128,g=!0,Hl(u,!1),r.lanes=4194304)}else{if(!g)if(s=Bu(p),s!==null){if(r.flags|=128,g=!0,s=s.updateQueue,r.updateQueue=s,Ju(r,s),Hl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Lt)return ae(r),null}else 2*un()-u.renderingStartTime>sh&&l!==536870912&&(r.flags|=128,g=!0,Hl(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=un(),s.sibling=null,l=_e.current,ot(_e,g?l&1|2:l&1),Lt&&ts(r,u.treeForkCount),s):(ae(r),null);case 22:case 23:return Rn(r),Nd(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),l=r.updateQueue,l!==null&&Ju(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&W(ta),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ns(Re),ae(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Iw(s,r){switch(_d(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ns(Re),le(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ra(r),null;case 31:if(r.memoizedState!==null){if(Rn(r),r.alternate===null)throw Error(i(340));Wr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Rn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Wr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return W(_e),null;case 4:return le(),null;case 10:return ns(r.type),null;case 22:case 23:return Rn(r),Nd(),s!==null&&W(ta),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ns(Re),null;case 25:return null;default:return null}}function ov(s,r){switch(_d(r),r.tag){case 3:ns(Re),le();break;case 26:case 27:case 5:Ra(r);break;case 4:le();break;case 31:r.memoizedState!==null&&Rn(r);break;case 13:Rn(r);break;case 19:W(_e);break;case 10:ns(r.type);break;case 22:case 23:Rn(r),Nd(),s!==null&&W(ta);break;case 24:ns(Re)}}function jl(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==g)}}catch(A){Wt(r,r.return,A)}}function Gs(s,r,l){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var b=u.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,g=r;var k=l,F=A;try{F()}catch($){Wt(g,k,$)}}}u=u.next}while(u!==p)}}catch($){Wt(r,r.return,$)}}function lv(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Zy(r,l)}catch(u){Wt(s,s.return,u)}}}function cv(s,r,l){l.props=ra(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Wt(s,r,u)}}function Fl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){Wt(s,r,g)}}function ki(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Wt(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wt(s,r,g)}else l.current=null}function uv(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Wt(s,s.return,g)}}function hg(s,r,l){try{var u=s.stateNode;Ww(u,s.type,l,r),u[Be]=r}catch(g){Wt(s,s.return,g)}}function hv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Zs(s.type)||s.tag===4}function fg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||hv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Zs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function dg(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ei));else if(u!==4&&(u===27&&Zs(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(dg(s,r,l),s=s.sibling;s!==null;)dg(s,r,l),s=s.sibling}function th(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&Zs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(th(s,r,l),s=s.sibling;s!==null;)th(s,r,l),s=s.sibling}function fv(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);$e(r,u,l),r[we]=s,r[Be]=l}catch(p){Wt(s,s.return,p)}}var os=!1,Me=!1,gg=!1,dv=typeof WeakSet=="function"?WeakSet:Set,je=null;function Dw(s,r){if(s=s.containerInfo,Vg=Th,s=wy(s),od(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,A=-1,k=-1,F=0,$=0,tt=s,q=null;e:for(;;){for(var K;tt!==l||g!==0&&tt.nodeType!==3||(A=b+g),tt!==p||u!==0&&tt.nodeType!==3||(k=b+u),tt.nodeType===3&&(b+=tt.nodeValue.length),(K=tt.firstChild)!==null;)q=tt,tt=K;for(;;){if(tt===s)break e;if(q===l&&++F===g&&(A=b),q===p&&++$===u&&(k=b),(K=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=K}l=A===-1||k===-1?null:{start:A,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pg={focusedElem:s,selectionRange:l},Th=!1,je=r;je!==null;)if(r=je,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,je=s;else for(;je!==null;){switch(r=je,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ut=ra(l.type,g);s=u.getSnapshotBeforeUpdate(ut,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(pt){Wt(l,l.return,pt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Ug(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ug(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,je=s;break}je=r.return}}function gv(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:cs(s,l),u&4&&jl(5,l);break;case 1:if(cs(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(b){Wt(l,l.return,b)}else{var g=ra(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){Wt(l,l.return,b)}}u&64&&lv(l),u&512&&Fl(l,l.return);break;case 3:if(cs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Zy(s,r)}catch(b){Wt(l,l.return,b)}}break;case 27:r===null&&u&4&&fv(l);case 26:case 5:cs(s,l),r===null&&u&4&&uv(l),u&512&&Fl(l,l.return);break;case 12:cs(s,l);break;case 31:cs(s,l),u&4&&yv(s,l);break;case 13:cs(s,l),u&4&&_v(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Uw.bind(null,l),rx(s,l))));break;case 22:if(u=l.memoizedState!==null||os,!u){r=r!==null&&r.memoizedState!==null||Me,g=os;var p=Me;os=u,(Me=r)&&!p?us(s,l,(l.subtreeFlags&8772)!==0):cs(s,l),os=g,Me=p}break;case 30:break;default:cs(s,l)}}function mv(s){var r=s.alternate;r!==null&&(s.alternate=null,mv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Na(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,mn=!1;function ls(s,r,l){for(l=l.child;l!==null;)pv(s,r,l),l=l.sibling}function pv(s,r,l){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Wn,l)}catch{}switch(l.tag){case 26:Me||ki(l,r),ls(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Me||ki(l,r);var u=ue,g=mn;Zs(l.type)&&(ue=l.stateNode,mn=!1),ls(s,r,l),Zl(l.stateNode),ue=u,mn=g;break;case 5:Me||ki(l,r);case 6:if(u=ue,g=mn,ue=null,ls(s,r,l),ue=u,mn=g,ue!==null)if(mn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(p){Wt(l,r,p)}else try{ue.removeChild(l.stateNode)}catch(p){Wt(l,r,p)}break;case 18:ue!==null&&(mn?(s=ue,l0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),_o(s)):l0(ue,l.stateNode));break;case 4:u=ue,g=mn,ue=l.stateNode.containerInfo,mn=!0,ls(s,r,l),ue=u,mn=g;break;case 0:case 11:case 14:case 15:Gs(2,l,r),Me||Gs(4,l,r),ls(s,r,l);break;case 1:Me||(ki(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&cv(l,r,u)),ls(s,r,l);break;case 21:ls(s,r,l);break;case 22:Me=(u=Me)||l.memoizedState!==null,ls(s,r,l),Me=u;break;default:ls(s,r,l)}}function yv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{_o(s)}catch(l){Wt(r,r.return,l)}}}function _v(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{_o(s)}catch(l){Wt(r,r.return,l)}}function Mw(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new dv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new dv),r;default:throw Error(i(435,s.tag))}}function eh(s,r){var l=Mw(s);r.forEach(function(u){if(!l.has(u)){l.add(u);var g=Bw.bind(null,s,u);u.then(g,g)}})}function pn(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,b=r,A=b;t:for(;A!==null;){switch(A.tag){case 27:if(Zs(A.type)){ue=A.stateNode,mn=!1;break t}break;case 5:ue=A.stateNode,mn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(ue===null)throw Error(i(160));pv(p,b,g),ue=null,mn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)vv(r,s),r=r.sibling}var oi=null;function vv(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:pn(r,s),yn(s),u&4&&(Gs(3,s,s.return),jl(3,s),Gs(5,s,s.return));break;case 1:pn(r,s),yn(s),u&512&&(Me||l===null||ki(l,l.return)),u&64&&os&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=oi;if(pn(r,s),yn(s),u&512&&(Me||l===null||ki(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[bi]||p[we]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),$e(p,u,l),p[we]=s,xe(p),u=p;break t;case"link":var b=v0("link","href",g).get(u+(l.href||""));if(b){for(var A=0;A<b.length;A++)if(p=b[A],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(A,1);break e}}p=g.createElement(u),$e(p,u,l),g.head.appendChild(p);break;case"meta":if(b=v0("meta","content",g).get(u+(l.content||""))){for(A=0;A<b.length;A++)if(p=b[A],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(A,1);break e}}p=g.createElement(u),$e(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[we]=s,xe(p),u=p}s.stateNode=u}else b0(g,s.type,s.stateNode);else s.stateNode=_0(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?b0(g,s.type,s.stateNode):_0(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&hg(s,s.memoizedProps,l.memoizedProps)}break;case 27:pn(r,s),yn(s),u&512&&(Me||l===null||ki(l,l.return)),l!==null&&u&4&&hg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(pn(r,s),yn(s),u&512&&(Me||l===null||ki(l,l.return)),s.flags&32){g=s.stateNode;try{gn(g,"")}catch(ut){Wt(s,s.return,ut)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,hg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(gg=!0);break;case 6:if(pn(r,s),yn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ut){Wt(s,s.return,ut)}}break;case 3:if(yh=null,g=oi,oi=mh(r.containerInfo),pn(r,s),oi=g,yn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{_o(r.containerInfo)}catch(ut){Wt(s,s.return,ut)}gg&&(gg=!1,bv(s));break;case 4:u=oi,oi=mh(s.stateNode.containerInfo),pn(r,s),yn(s),oi=u;break;case 12:pn(r,s),yn(s);break;case 31:pn(r,s),yn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,eh(s,u)));break;case 13:pn(r,s),yn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ih=un()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,eh(s,u)));break;case 22:g=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,F=os,$=Me;if(os=F||g,Me=$||k,pn(r,s),Me=$,os=F,yn(s),u&8192)t:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||k||os||Me||aa(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){k=l=r;try{if(p=k.stateNode,g)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=k.stateNode;var tt=k.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ut){Wt(k,k.return,ut)}}}else if(r.tag===6){if(l===null){k=r;try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(ut){Wt(k,k.return,ut)}}}else if(r.tag===18){if(l===null){k=r;try{var K=k.stateNode;g?c0(K,!0):c0(k.stateNode,!1)}catch(ut){Wt(k,k.return,ut)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,eh(s,l))));break;case 19:pn(r,s),yn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,eh(s,u)));break;case 30:break;case 21:break;default:pn(r,s),yn(s)}}function yn(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(hv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=fg(s);th(s,p,g);break;case 5:var b=l.stateNode;l.flags&32&&(gn(b,""),l.flags&=-33);var A=fg(s);th(s,A,b);break;case 3:case 4:var k=l.stateNode.containerInfo,F=fg(s);dg(s,F,k);break;default:throw Error(i(161))}}catch($){Wt(s,s.return,$)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function bv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;bv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function cs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)gv(s,r.alternate,r),r=r.sibling}function aa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Gs(4,r,r.return),aa(r);break;case 1:ki(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&cv(r,r.return,l),aa(r);break;case 27:Zl(r.stateNode);case 26:case 5:ki(r,r.return),aa(r);break;case 22:r.memoizedState===null&&aa(r);break;case 30:aa(r);break;default:aa(r)}s=s.sibling}}function us(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:us(g,p,l),jl(4,p);break;case 1:if(us(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){Wt(u,u.return,F)}if(u=p,g=u.updateQueue,g!==null){var A=u.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)Wy(k[g],A)}catch(F){Wt(u,u.return,F)}}l&&b&64&&lv(p),Fl(p,p.return);break;case 27:fv(p);case 26:case 5:us(g,p,l),l&&u===null&&b&4&&uv(p),Fl(p,p.return);break;case 12:us(g,p,l);break;case 31:us(g,p,l),l&&b&4&&yv(g,p);break;case 13:us(g,p,l),l&&b&4&&_v(g,p);break;case 22:p.memoizedState===null&&us(g,p,l),Fl(p,p.return);break;case 30:break;default:us(g,p,l)}r=r.sibling}}function mg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Il(l))}function pg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Il(s))}function li(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Tv(s,r,l,u),r=r.sibling}function Tv(s,r,l,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:li(s,r,l,u),g&2048&&jl(9,r);break;case 1:li(s,r,l,u);break;case 3:li(s,r,l,u),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Il(s)));break;case 12:if(g&2048){li(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,A=p.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){Wt(r,r.return,k)}}else li(s,r,l,u);break;case 31:li(s,r,l,u);break;case 13:li(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?li(s,r,l,u):ql(s,r):p._visibility&2?li(s,r,l,u):(p._visibility|=2,ao(s,r,l,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&mg(b,r);break;case 24:li(s,r,l,u),g&2048&&pg(r.alternate,r);break;default:li(s,r,l,u)}}function ao(s,r,l,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,A=l,k=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:ao(p,b,A,k,g),jl(8,b);break;case 23:break;case 22:var $=b.stateNode;b.memoizedState!==null?$._visibility&2?ao(p,b,A,k,g):ql(p,b):($._visibility|=2,ao(p,b,A,k,g)),g&&F&2048&&mg(b.alternate,b);break;case 24:ao(p,b,A,k,g),g&&F&2048&&pg(b.alternate,b);break;default:ao(p,b,A,k,g)}r=r.sibling}}function ql(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,g=u.flags;switch(u.tag){case 22:ql(l,u),g&2048&&mg(u.alternate,u);break;case 24:ql(l,u),g&2048&&pg(u.alternate,u);break;default:ql(l,u)}r=r.sibling}}var Gl=8192;function oo(s,r,l){if(s.subtreeFlags&Gl)for(s=s.child;s!==null;)Ev(s,r,l),s=s.sibling}function Ev(s,r,l){switch(s.tag){case 26:oo(s,r,l),s.flags&Gl&&s.memoizedState!==null&&yx(l,oi,s.memoizedState,s.memoizedProps);break;case 5:oo(s,r,l);break;case 3:case 4:var u=oi;oi=mh(s.stateNode.containerInfo),oo(s,r,l),oi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Gl,Gl=16777216,oo(s,r,l),Gl=u):oo(s,r,l));break;default:oo(s,r,l)}}function Sv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Yl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];je=u,wv(u,s)}Sv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Av(s),s=s.sibling}function Av(s){switch(s.tag){case 0:case 11:case 15:Yl(s),s.flags&2048&&Gs(9,s,s.return);break;case 3:Yl(s);break;case 12:Yl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,nh(s)):Yl(s);break;default:Yl(s)}}function nh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];je=u,wv(u,s)}Sv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Gs(8,r,r.return),nh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,nh(r));break;default:nh(r)}s=s.sibling}}function wv(s,r){for(;je!==null;){var l=je;switch(l.tag){case 0:case 11:case 15:Gs(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,je=u;else t:for(l=s;je!==null;){u=je;var g=u.sibling,p=u.return;if(mv(u),u===l){je=null;break t}if(g!==null){g.return=p,je=g;break t}je=p}}}var Ow={getCacheForType:function(s){var r=Qe(Re),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return Qe(Re).controller.signal}},Nw=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Dt=null,Nt=0,$t=0,In=null,Ys=!1,lo=!1,yg=!1,hs=0,me=0,Ks=0,oa=0,_g=0,Dn=0,co=0,Kl=null,_n=null,vg=!1,ih=0,xv=0,sh=1/0,rh=null,Qs=null,ze=0,Xs=null,uo=null,fs=0,bg=0,Tg=null,Cv=null,Ql=0,Eg=null;function Mn(){return(Kt&2)!==0&&Nt!==0?Nt&-Nt:Y.T!==null?Rg():au()}function Rv(){if(Dn===0)if((Nt&536870912)===0||Lt){var s=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),Dn=s}else Dn=536870912;return s=Cn.current,s!==null&&(s.flags|=32),Dn}function vn(s,r,l){(s===se&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(ho(s,0),$s(s,Nt,Dn,!1)),Vr(s,l),((Kt&2)===0||s!==se)&&(s===se&&((Kt&2)===0&&(oa|=l),me===4&&$s(s,Nt,Dn,!1)),Vi(s))}function Iv(s,r,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(r&127)===0&&(r&s.expiredLanes)===0||Zn(s,r),g=u?Pw(s,r):Ag(s,r,!0),p=u;do{if(g===0){lo&&!u&&$s(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!kw(l)){g=Ag(s,r,!1),p=!1;continue}if(g===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var A=s;g=Kl;var k=A.current.memoizedState.isDehydrated;if(k&&(ho(A,b).flags|=256),b=Ag(A,b,!1),b!==2){if(yg&&!k){A.errorRecoveryDisabledLanes|=p,oa|=p,g=4;break t}p=_n,_n=g,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}g=b}if(p=!1,g!==2)continue}}if(g===1){ho(s,0),$s(s,r,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:$s(u,r,Dn,!Ys);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=ih+300-un(),10<g)){if($s(u,r,Dn,!Ys),yi(u,0,!0)!==0)break t;fs=r,u.timeoutHandle=a0(Dv.bind(null,u,l,_n,rh,vg,r,Dn,oa,co,Ys,p,"Throttled",-0,0),g);break t}Dv(u,l,_n,rh,vg,r,Dn,oa,co,Ys,p,null,-0,0)}}break}while(!0);Vi(s)}function Dv(s,r,l,u,g,p,b,A,k,F,$,tt,q,K){if(s.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Ev(r,p,tt);var ut=(p&62914560)===p?ih-un():(p&4194048)===p?xv-un():0;if(ut=_x(tt,ut),ut!==null){fs=p,s.cancelPendingCommit=ut(zv.bind(null,s,r,p,l,u,g,b,A,k,$,tt,null,q,K)),$s(s,p,b,!F);return}}zv(s,r,p,l,u,g,b,A,k)}function kw(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!wn(p(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $s(s,r,l,u){r&=~_g,r&=~oa,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var g=r;0<g;){var p=31-pe(g),b=1<<p;u[p]=-1,g&=~b}l!==0&&Pr(s,l,r)}function ah(){return(Kt&6)===0?(Xl(0),!1):!0}function Sg(){if(Dt!==null){if($t===0)var s=Dt.return;else s=Dt,es=Zr=null,Ud(s),eo=null,Ml=0,s=Dt;for(;s!==null;)ov(s.alternate,s),s=s.return;Dt=null}}function ho(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,tx(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),fs=0,Sg(),se=s,Dt=l=Ji(s.current,null),Nt=r,$t=0,In=null,Ys=!1,lo=Zn(s,r),yg=!1,co=Dn=_g=oa=Ks=me=0,_n=Kl=null,vg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var g=31-pe(u),p=1<<g;r|=s[g],u&=~p}return hs=r,Cu(),l}function Mv(s,r){wt=null,Y.H=Ul,r===to||r===Vu?(r=Ky(),$t=3):r===Cd?(r=Ky(),$t=4):$t=r===eg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Dt===null&&(me=1,Xu(s,Un(r,s.current)))}function Ov(){var s=Cn.current;return s===null?!0:(Nt&4194048)===Nt?Fn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?s===Fn:!1}function Nv(){var s=Y.H;return Y.H=Ul,s===null?Ul:s}function kv(){var s=Y.A;return Y.A=Ow,s}function oh(){me=4,Ys||(Nt&4194048)!==Nt&&Cn.current!==null||(lo=!0),(Ks&134217727)===0&&(oa&134217727)===0||se===null||$s(se,Nt,Dn,!1)}function Ag(s,r,l){var u=Kt;Kt|=2;var g=Nv(),p=kv();(se!==s||Nt!==r)&&(rh=null,ho(s,r)),r=!1;var b=me;t:do try{if($t!==0&&Dt!==null){var A=Dt,k=In;switch($t){case 8:Sg(),b=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var F=$t;if($t=0,In=null,fo(s,A,k,F),l&&lo){b=0;break t}break;default:F=$t,$t=0,In=null,fo(s,A,k,F)}}Vw(),b=me;break}catch($){Mv(s,$)}while(!0);return r&&s.shellSuspendCounter++,es=Zr=null,Kt=u,Y.H=g,Y.A=p,Dt===null&&(se=null,Nt=0,Cu()),b}function Vw(){for(;Dt!==null;)Vv(Dt)}function Pw(s,r){var l=Kt;Kt|=2;var u=Nv(),g=kv();se!==s||Nt!==r?(rh=null,sh=un()+500,ho(s,r)):lo=Zn(s,r);t:do try{if($t!==0&&Dt!==null){r=Dt;var p=In;e:switch($t){case 1:$t=0,In=null,fo(s,r,p,1);break;case 2:case 9:if(Gy(p)){$t=0,In=null,Pv(r);break}r=function(){$t!==2&&$t!==9||se!==s||($t=7),Vi(s)},p.then(r,r);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Gy(p)?($t=0,In=null,Pv(r)):($t=0,In=null,fo(s,r,p,7));break;case 5:var b=null;switch(Dt.tag){case 26:b=Dt.memoizedState;case 5:case 27:var A=Dt;if(b?T0(b):A.stateNode.complete){$t=0,In=null;var k=A.sibling;if(k!==null)Dt=k;else{var F=A.return;F!==null?(Dt=F,lh(F)):Dt=null}break e}}$t=0,In=null,fo(s,r,p,5);break;case 6:$t=0,In=null,fo(s,r,p,6);break;case 8:Sg(),me=6;break t;default:throw Error(i(462))}}Lw();break}catch($){Mv(s,$)}while(!0);return es=Zr=null,Y.H=u,Y.A=g,Kt=l,Dt!==null?0:(se=null,Nt=0,Cu(),me)}function Lw(){for(;Dt!==null&&!td();)Vv(Dt)}function Vv(s){var r=rv(s.alternate,s,hs);s.memoizedProps=s.pendingProps,r===null?lh(s):Dt=r}function Pv(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=J_(l,r,r.pendingProps,r.type,void 0,Nt);break;case 11:r=J_(l,r,r.pendingProps,r.type.render,r.ref,Nt);break;case 5:Ud(r);default:ov(l,r),r=Dt=ky(r,hs),r=rv(l,r,hs)}s.memoizedProps=s.pendingProps,r===null?lh(s):Dt=r}function fo(s,r,l,u){es=Zr=null,Ud(r),eo=null,Ml=0;var g=r.return;try{if(ww(s,g,r,l,Nt)){me=1,Xu(s,Un(l,s.current)),Dt=null;return}}catch(p){if(g!==null)throw Dt=g,p;me=1,Xu(s,Un(l,s.current)),Dt=null;return}r.flags&32768?(Lt||u===1?s=!0:lo||(Nt&536870912)!==0?s=!1:(Ys=s=!0,(u===2||u===9||u===3||u===6)&&(u=Cn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lv(r,s)):lh(r)}function lh(s){var r=s;do{if((r.flags&32768)!==0){Lv(r,Ys);return}s=r.return;var l=Rw(r.alternate,r,hs);if(l!==null){Dt=l;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=s}while(r!==null);me===0&&(me=5)}function Lv(s,r){do{var l=Iw(s.alternate,s);if(l!==null){l.flags&=32767,Dt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Dt=s;return}Dt=s=l}while(s!==null);me=6,Dt=null}function zv(s,r,l,u,g,p,b,A,k){s.cancelPendingCommit=null;do ch();while(ze!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=fd,id(s,l,p,b,A,k),s===se&&(Dt=se=null,Nt=0),uo=r,Xs=s,fs=l,bg=p,Tg=g,Cv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Hw(xs,function(){return Fv(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,g=rt.p,rt.p=2,b=Kt,Kt|=4;try{Dw(s,r,l)}finally{Kt=b,rt.p=g,Y.T=u}}ze=1,Uv(),Bv(),Hv()}}function Uv(){if(ze===1){ze=0;var s=Xs,r=uo,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=rt.p;rt.p=2;var g=Kt;Kt|=4;try{vv(r,s);var p=Pg,b=wy(s.containerInfo),A=p.focusedElem,k=p.selectionRange;if(b!==A&&A&&A.ownerDocument&&Ay(A.ownerDocument.documentElement,A)){if(k!==null&&od(A)){var F=k.start,$=k.end;if($===void 0&&($=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min($,A.value.length);else{var tt=A.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var K=q.getSelection(),ut=A.textContent.length,pt=Math.min(k.start,ut),ne=k.end===void 0?pt:Math.min(k.end,ut);!K.extend&&pt>ne&&(b=ne,ne=pt,pt=b);var B=Sy(A,pt),z=Sy(A,ne);if(B&&z&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var j=tt.createRange();j.setStart(B.node,B.offset),K.removeAllRanges(),pt>ne?(K.addRange(j),K.extend(z.node,z.offset)):(j.setEnd(z.node,z.offset),K.addRange(j))}}}}for(tt=[],K=A;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var J=tt[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Th=!!Vg,Pg=Vg=null}finally{Kt=g,rt.p=u,Y.T=l}}s.current=r,ze=2}}function Bv(){if(ze===2){ze=0;var s=Xs,r=uo,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=rt.p;rt.p=2;var g=Kt;Kt|=4;try{gv(s,r.alternate,r)}finally{Kt=g,rt.p=u,Y.T=l}}ze=3}}function Hv(){if(ze===4||ze===3){ze=0,Jc();var s=Xs,r=uo,l=fs,u=Cv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ze=5:(ze=0,uo=Xs=null,jv(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Qs=null),Xi(l),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Wn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,g=rt.p,rt.p=2,Y.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var A=u[b];p(A.value,{componentStack:A.stack})}}finally{Y.T=r,rt.p=g}}(fs&3)!==0&&ch(),Vi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Eg?Ql++:(Ql=0,Eg=s):Ql=0,Xl(0)}}function jv(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Il(r)))}function ch(){return Uv(),Bv(),Hv(),Fv()}function Fv(){if(ze!==5)return!1;var s=Xs,r=bg;bg=0;var l=Xi(fs),u=Y.T,g=rt.p;try{rt.p=32>l?32:l,Y.T=null,l=Tg,Tg=null;var p=Xs,b=fs;if(ze=0,uo=Xs=null,fs=0,(Kt&6)!==0)throw Error(i(331));var A=Kt;if(Kt|=4,Av(p.current),Tv(p,p.current,b,l),Kt=A,Xl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Wn,p)}catch{}return!0}finally{rt.p=g,Y.T=u,jv(s,r)}}function qv(s,r,l){r=Un(l,r),r=tg(s.stateNode,r,2),s=js(s,r,2),s!==null&&(Vr(s,2),Vi(s))}function Wt(s,r,l){if(s.tag===3)qv(s,s,l);else for(;r!==null;){if(r.tag===3){qv(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qs===null||!Qs.has(u))){s=Un(l,s),l=G_(2),u=js(r,l,2),u!==null&&(Y_(l,u,r,s),Vr(u,2),Vi(u));break}}r=r.return}}function wg(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new Nw;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(l)||(yg=!0,g.add(l),s=zw.bind(null,s,r,l),r.then(s,s))}function zw(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,se===s&&(Nt&l)===l&&(me===4||me===3&&(Nt&62914560)===Nt&&300>un()-ih?(Kt&2)===0&&ho(s,0):_g|=l,co===Nt&&(co=0)),Vi(s)}function Gv(s,r){r===0&&(r=ru()),s=Xr(s,r),s!==null&&(Vr(s,r),Vi(s))}function Uw(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),Gv(s,l)}function Bw(s,r){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Gv(s,l)}function Hw(s,r){return Le(s,r)}var uh=null,go=null,xg=!1,hh=!1,Cg=!1,Ws=0;function Vi(s){s!==go&&s.next===null&&(go===null?uh=go=s:go=go.next=s),hh=!0,xg||(xg=!0,Fw())}function Xl(s,r){if(!Cg&&hh){Cg=!0;do for(var l=!1,u=uh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var b=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-pe(42|s)+1)-1,p&=g&~(b&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Xv(u,p))}else p=Nt,p=yi(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Zn(u,p)||(l=!0,Xv(u,p));u=u.next}while(l);Cg=!1}}function jw(){Yv()}function Yv(){hh=xg=!1;var s=0;Ws!==0&&Jw()&&(s=Ws);for(var r=un(),l=null,u=uh;u!==null;){var g=u.next,p=Kv(u,r);p===0?(u.next=null,l===null?uh=g:l.next=g,g===null&&(go=l)):(l=u,(s!==0||(p&3)!==0)&&(hh=!0)),u=g}ze!==0&&ze!==5||Xl(s),Ws!==0&&(Ws=0)}function Kv(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-pe(p),A=1<<b,k=g[b];k===-1?((A&l)===0||(A&u)!==0)&&(g[b]=nd(A,r)):k<=r&&(s.expiredLanes|=A),p&=~A}if(r=se,l=Nt,l=yi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&($t===2||$t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ws(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Zn(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&ws(u),Xi(l)){case 2:case 8:l=rl;break;case 32:l=xs;break;case 268435456:l=tu;break;default:l=xs}return u=Qv.bind(null,s),l=Le(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&ws(u),s.callbackPriority=2,s.callbackNode=null,2}function Qv(s,r){if(ze!==0&&ze!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(ch()&&s.callbackNode!==l)return null;var u=Nt;return u=yi(s,s===se?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Iv(s,u,r),Kv(s,un()),s.callbackNode!=null&&s.callbackNode===l?Qv.bind(null,s):null)}function Xv(s,r){if(ch())return null;Iv(s,r,!0)}function Fw(){ex(function(){(Kt&6)!==0?Le(sl,jw):Yv()})}function Rg(){if(Ws===0){var s=Za;s===0&&(s=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Ws=s}return Ws}function $v(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:La(""+s)}function Wv(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function qw(s,r,l,u,g){if(r==="submit"&&l&&l.stateNode===g){var p=$v((g[Be]||null).action),b=u.submitter;b&&(r=(r=b[Be]||null)?$v(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var A=new Ri("action","action",null,u,g);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ws!==0){var k=b?Wv(g,b):new FormData(g);Qd(l,{pending:!0,data:k,method:g.method,action:p},null,k)}}else typeof p=="function"&&(A.preventDefault(),k=b?Wv(g,b):new FormData(g),Qd(l,{pending:!0,data:k,method:g.method,action:p},p,k))},currentTarget:g}]})}}for(var Ig=0;Ig<hd.length;Ig++){var Dg=hd[Ig],Gw=Dg.toLowerCase(),Yw=Dg[0].toUpperCase()+Dg.slice(1);ai(Gw,"on"+Yw)}ai(Ry,"onAnimationEnd"),ai(Iy,"onAnimationIteration"),ai(Dy,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(lw,"onTransitionRun"),ai(cw,"onTransitionStart"),ai(uw,"onTransitionCancel"),ai(My,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Zv(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var A=u[b],k=A.instance,F=A.currentTarget;if(A=A.listener,k!==p&&g.isPropagationStopped())break t;p=A,g.currentTarget=F;try{p(g)}catch($){xu($)}g.currentTarget=null,p=k}else for(b=0;b<u.length;b++){if(A=u[b],k=A.instance,F=A.currentTarget,A=A.listener,k!==p&&g.isPropagationStopped())break t;p=A,g.currentTarget=F;try{p(g)}catch($){xu($)}g.currentTarget=null,p=k}}}}function Mt(s,r){var l=r[Oa];l===void 0&&(l=r[Oa]=new Set);var u=s+"__bubble";l.has(u)||(Jv(r,s,2,!1),l.add(u))}function Mg(s,r,l){var u=0;r&&(u|=4),Jv(l,s,u,r)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Og(s){if(!s[fh]){s[fh]=!0,ll.forEach(function(l){l!=="selectionchange"&&(Kw.has(l)||Mg(l,!1,s),Mg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[fh]||(r[fh]=!0,Mg("selectionchange",!1,r))}}function Jv(s,r,l,u){switch(R0(r)){case 2:var g=Tx;break;case 8:g=Ex;break;default:g=Kg}l=g.bind(null,r,l,s),g=void 0,!Hr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function Ng(s,r,l,u,g){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===g)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===g)return;b=b.return}for(;A!==null;){if(b=Ti(A),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){u=p=b;continue t}A=A.parentNode}}u=u.return}Os(function(){var F=p,$=Vn(l),tt=[];t:{var q=Oy.get(s);if(q!==void 0){var K=Ri,ut=s;switch(s){case"keypress":if(Fr(l)===0)break t;case"keydown":case"keyup":K=Su;break;case"focusin":ut="focus",K=Gr;break;case"focusout":ut="blur",K=Gr;break;case"beforeblur":case"afterblur":K=Gr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case Ry:case Iy:case Dy:K=pu;break;case My:K=w;break;case"scroll":case"scrollend":K=bl;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Zi;break;case"toggle":case"beforetoggle":K=At}var pt=(r&4)!==0,ne=!pt&&(s==="scroll"||s==="scrollend"),B=pt?q!==null?q+"Capture":null:q;pt=[];for(var z=F,j;z!==null;){var J=z;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||B===null||(J=ni(z,B),J!=null&&pt.push(Wl(z,J,j))),ne)break;z=z.return}0<pt.length&&(q=new K(q,ut,null,l,$),tt.push({event:q,listeners:pt}))}}if((r&7)===0){t:{if(q=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",q&&l!==yl&&(ut=l.relatedTarget||l.fromElement)&&(Ti(ut)||ut[vi]))break t;if((K||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ut=l.relatedTarget||l.toElement,K=F,ut=ut?Ti(ut):null,ut!==null&&(ne=o(ut),pt=ut.tag,ut!==ne||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(K=null,ut=F),K!==ut)){if(pt=Tl,J="onMouseLeave",B="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(pt=Zi,J="onPointerLeave",B="onPointerEnter",z="pointer"),ne=K==null?q:Sn(K),j=ut==null?q:Sn(ut),q=new pt(J,z+"leave",K,l,$),q.target=ne,q.relatedTarget=j,J=null,Ti($)===F&&(pt=new pt(B,z+"enter",ut,l,$),pt.target=j,pt.relatedTarget=ne,J=pt),ne=J,K&&ut)e:{for(pt=Qw,B=K,z=ut,j=0,J=B;J;J=pt(J))j++;J=0;for(var gt=z;gt;gt=pt(gt))J++;for(;0<j-J;)B=pt(B),j--;for(;0<J-j;)z=pt(z),J--;for(;j--;){if(B===z||z!==null&&B===z.alternate){pt=B;break e}B=pt(B),z=pt(z)}pt=null}else pt=null;K!==null&&t0(tt,q,K,pt,!1),ut!==null&&ne!==null&&t0(tt,ne,ut,pt,!0)}}t:{if(q=F?Sn(F):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var qt=yy;else if(my(q))if(_y)qt=rw;else{qt=iw;var ft=nw}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&Pa(F.elementType)&&(qt=yy):qt=sw;if(qt&&(qt=qt(s,F))){py(tt,qt,l,$);break t}ft&&ft(s,q,F),s==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&gl(q,"number",q.value)}switch(ft=F?Sn(F):window,s){case"focusin":(my(ft)||ft.contentEditable==="true")&&(qa=ft,ld=F,xl=null);break;case"focusout":xl=ld=qa=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,xy(tt,l,$);break;case"selectionchange":if(ow)break;case"keydown":case"keyup":xy(tt,l,$)}var Ct;if(Yt)t:{switch(s){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Fa?Yr(s,l)&&(kt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(kt="onCompositionStart");kt&&(Mi&&l.locale!=="ko"&&(Fa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Fa&&(Ct=vl()):(Ci=$,_l="value"in Ci?Ci.value:Ci.textContent,Fa=!0)),ft=dh(F,kt),0<ft.length&&(kt=new Di(kt,s,null,l,$),tt.push({event:kt,listeners:ft}),Ct?kt.data=Ct:(Ct=ja(l),Ct!==null&&(kt.data=Ct)))),(Ct=Ln?ZA(s,l):JA(s,l))&&(kt=dh(F,"onBeforeInput"),0<kt.length&&(ft=new Di("onBeforeInput","beforeinput",null,l,$),tt.push({event:ft,listeners:kt}),ft.data=Ct)),qw(tt,s,F,l,$)}Zv(tt,r)})}function Wl(s,r,l){return{instance:s,listener:r,currentTarget:l}}function dh(s,r){for(var l=r+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=ni(s,l),g!=null&&u.unshift(Wl(s,g,p)),g=ni(s,r),g!=null&&u.push(Wl(s,g,p))),s.tag===3)return u;s=s.return}return[]}function Qw(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function t0(s,r,l,u,g){for(var p=r._reactName,b=[];l!==null&&l!==u;){var A=l,k=A.alternate,F=A.stateNode;if(A=A.tag,k!==null&&k===u)break;A!==5&&A!==26&&A!==27||F===null||(k=F,g?(F=ni(l,p),F!=null&&b.unshift(Wl(l,F,k))):g||(F=ni(l,p),F!=null&&b.push(Wl(l,F,k)))),l=l.return}b.length!==0&&s.push({event:r,listeners:b})}var Xw=/\r\n?/g,$w=/\u0000|\uFFFD/g;function e0(s){return(typeof s=="string"?s:""+s).replace(Xw,`
`).replace($w,"")}function n0(s,r){return r=e0(r),e0(s)===r}function ee(s,r,l,u,g,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||gn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&gn(s,""+u);break;case"className":An(s,"class",u);break;case"tabIndex":An(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(s,l,u);break;case"style":pl(s,u,p);break;case"data":if(r!=="object"){An(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=La(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&ee(s,r,"name",g.name,g,null),ee(s,r,"formEncType",g.formEncType,g,null),ee(s,r,"formMethod",g.formMethod,g,null),ee(s,r,"formTarget",g.formTarget,g,null)):(ee(s,r,"encType",g.encType,g,null),ee(s,r,"method",g.method,g,null),ee(s,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=La(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ei);break;case"onScroll":u!=null&&Mt("scroll",s);break;case"onScrollEnd":u!=null&&Mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=La(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Mt("beforetoggle",s),Mt("toggle",s),ka(s,"popover",u);break;case"xlinkActuate":Ce(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ce(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ce(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ce(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ce(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ce(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ce(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ce(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ce(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ka(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=du.get(l)||l,ka(s,l,u))}}function kg(s,r,l,u,g,p){switch(l){case"style":pl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?gn(s,u):(typeof u=="number"||typeof u=="bigint")&&gn(s,""+u);break;case"onScroll":u!=null&&Mt("scroll",s);break;case"onScrollEnd":u!=null&&Mt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),p=s[Be]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ka(s,l,u)}}}function $e(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",s),Mt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ee(s,r,p,b,l,null)}}g&&ee(s,r,"srcSet",l.srcSet,l,null),u&&ee(s,r,"src",l.src,l,null);return;case"input":Mt("invalid",s);var A=p=b=g=null,k=null,F=null;for(u in l)if(l.hasOwnProperty(u)){var $=l[u];if($!=null)switch(u){case"name":g=$;break;case"type":b=$;break;case"checked":k=$;break;case"defaultChecked":F=$;break;case"value":p=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:ee(s,r,u,$,l,null)}}uu(s,p,A,k,F,b,g,!1);return;case"select":Mt("invalid",s),u=b=p=null;for(g in l)if(l.hasOwnProperty(g)&&(A=l[g],A!=null))switch(g){case"value":p=A;break;case"defaultValue":b=A;break;case"multiple":u=A;default:ee(s,r,g,A,l,null)}r=p,l=b,s.multiple=!!u,r!=null?Rs(s,!!u,r,!1):l!=null&&Rs(s,!!u,l,!0);return;case"textarea":Mt("invalid",s),p=g=u=null;for(b in l)if(l.hasOwnProperty(b)&&(A=l[b],A!=null))switch(b){case"value":u=A;break;case"defaultValue":g=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ee(s,r,b,A,l,null)}Is(s,u,g,p);return;case"option":for(k in l)l.hasOwnProperty(k)&&(u=l[k],u!=null)&&(k==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ee(s,r,k,u,l,null));return;case"dialog":Mt("beforetoggle",s),Mt("toggle",s),Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":Mt("load",s);break;case"video":case"audio":for(u=0;u<$l.length;u++)Mt($l[u],s);break;case"image":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"embed":case"source":case"link":Mt("error",s),Mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ee(s,r,F,u,l,null)}return;default:if(Pa(r)){for($ in l)l.hasOwnProperty($)&&(u=l[$],u!==void 0&&kg(s,r,$,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&ee(s,r,A,u,l,null))}function Ww(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,b=null,A=null,k=null,F=null,$=null;for(K in l){var tt=l[K];if(l.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=tt;default:u.hasOwnProperty(K)||ee(s,r,K,null,u,tt)}}for(var q in u){var K=u[q];if(tt=l[q],u.hasOwnProperty(q)&&(K!=null||tt!=null))switch(q){case"type":p=K;break;case"name":g=K;break;case"checked":F=K;break;case"defaultChecked":$=K;break;case"value":b=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==tt&&ee(s,r,q,K,u,tt)}}Va(s,b,A,k,F,$,p,g);return;case"select":K=b=A=q=null;for(p in l)if(k=l[p],l.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":K=k;default:u.hasOwnProperty(p)||ee(s,r,p,null,u,k)}for(g in u)if(p=u[g],k=l[g],u.hasOwnProperty(g)&&(p!=null||k!=null))switch(g){case"value":q=p;break;case"defaultValue":A=p;break;case"multiple":b=p;default:p!==k&&ee(s,r,g,p,u,k)}r=A,l=b,u=K,q!=null?Rs(s,!!l,q,!1):!!u!=!!l&&(r!=null?Rs(s,!!l,r,!0):Rs(s,!!l,l?[]:"",!1));return;case"textarea":K=q=null;for(A in l)if(g=l[A],l.hasOwnProperty(A)&&g!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ee(s,r,A,null,u,g)}for(b in u)if(g=u[b],p=l[b],u.hasOwnProperty(b)&&(g!=null||p!=null))switch(b){case"value":q=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ee(s,r,b,g,u,p)}hu(s,q,K);return;case"option":for(var ut in l)q=l[ut],l.hasOwnProperty(ut)&&q!=null&&!u.hasOwnProperty(ut)&&(ut==="selected"?s.selected=!1:ee(s,r,ut,null,u,q));for(k in u)q=u[k],K=l[k],u.hasOwnProperty(k)&&q!==K&&(q!=null||K!=null)&&(k==="selected"?s.selected=q&&typeof q!="function"&&typeof q!="symbol":ee(s,r,k,q,u,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in l)q=l[pt],l.hasOwnProperty(pt)&&q!=null&&!u.hasOwnProperty(pt)&&ee(s,r,pt,null,u,q);for(F in u)if(q=u[F],K=l[F],u.hasOwnProperty(F)&&q!==K&&(q!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:ee(s,r,F,q,u,K)}return;default:if(Pa(r)){for(var ne in l)q=l[ne],l.hasOwnProperty(ne)&&q!==void 0&&!u.hasOwnProperty(ne)&&kg(s,r,ne,void 0,u,q);for($ in u)q=u[$],K=l[$],!u.hasOwnProperty($)||q===K||q===void 0&&K===void 0||kg(s,r,$,q,u,K);return}}for(var B in l)q=l[B],l.hasOwnProperty(B)&&q!=null&&!u.hasOwnProperty(B)&&ee(s,r,B,null,u,q);for(tt in u)q=u[tt],K=l[tt],!u.hasOwnProperty(tt)||q===K||q==null&&K==null||ee(s,r,tt,q,u,K)}function i0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zw(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,b=g.initiatorType,A=g.duration;if(p&&A&&i0(b)){for(b=0,A=g.responseEnd,u+=1;u<l.length;u++){var k=l[u],F=k.startTime;if(F>A)break;var $=k.transferSize,tt=k.initiatorType;$&&i0(tt)&&(k=k.responseEnd,b+=$*(k<A?1:(A-F)/(k-F)))}if(--u,r+=8*(p+b)/(g.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Vg=null,Pg=null;function gh(s){return s.nodeType===9?s:s.ownerDocument}function s0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Lg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zg=null;function Jw(){var s=window.event;return s&&s.type==="popstate"?s===zg?!1:(zg=s,!0):(zg=null,!1)}var a0=typeof setTimeout=="function"?setTimeout:void 0,tx=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(s){return o0.resolve(null).then(s).catch(nx)}:a0;function nx(s){setTimeout(function(){throw s})}function Zs(s){return s==="head"}function l0(s,r){var l=r,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),_o(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Zl(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Zl(l);for(var p=l.firstChild;p;){var b=p.nextSibling,A=p.nodeName;p[bi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&Zl(s.ownerDocument.body);l=g}while(l);_o(r)}function c0(s,r){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Ug(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ug(l),Na(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function ix(s,r,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[bi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=qn(s.nextSibling),s===null)break}return null}function sx(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=qn(s.nextSibling),s===null))return null;return s}function u0(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=qn(s.nextSibling),s===null))return null;return s}function Bg(s){return s.data==="$?"||s.data==="$~"}function Hg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function rx(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function qn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var jg=null;function h0(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return qn(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function f0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function d0(s,r,l){switch(r=gh(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Zl(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Na(s)}var Gn=new Map,g0=new Set;function mh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ds=rt.d;rt.d={f:ax,r:ox,D:lx,C:cx,L:ux,m:hx,X:dx,S:fx,M:gx};function ax(){var s=ds.f(),r=ah();return s||r}function ox(s){var r=kn(s);r!==null&&r.tag===5&&r.type==="form"?M_(r):ds.r(s)}var mo=typeof document>"u"?null:document;function m0(s,r,l){var u=mo;if(u&&typeof r=="string"&&r){var g=dn(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),g0.has(g)||(g0.add(g),s={rel:s,crossOrigin:l,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),$e(r,"link",s),xe(r),u.head.appendChild(r)))}}function lx(s){ds.D(s),m0("dns-prefetch",s,null)}function cx(s,r){ds.C(s,r),m0("preconnect",s,r)}function ux(s,r,l){ds.L(s,r,l);var u=mo;if(u&&s&&r){var g='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+dn(l.imageSizes)+'"]')):g+='[href="'+dn(s)+'"]';var p=g;switch(r){case"style":p=po(s);break;case"script":p=yo(s)}Gn.has(p)||(s=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Gn.set(p,s),u.querySelector(g)!==null||r==="style"&&u.querySelector(Jl(p))||r==="script"&&u.querySelector(tc(p))||(r=u.createElement("link"),$e(r,"link",s),xe(r),u.head.appendChild(r)))}}function hx(s,r){ds.m(s,r);var l=mo;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=yo(s)}if(!Gn.has(p)&&(s=v({rel:"modulepreload",href:s},r),Gn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(tc(p)))return}u=l.createElement("link"),$e(u,"link",s),xe(u),l.head.appendChild(u)}}}function fx(s,r,l){ds.S(s,r,l);var u=mo;if(u&&s){var g=Ei(u).hoistableStyles,p=po(s);r=r||"default";var b=g.get(p);if(!b){var A={loading:0,preload:null};if(b=u.querySelector(Jl(p)))A.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Gn.get(p))&&Fg(s,l);var k=b=u.createElement("link");xe(k),$e(k,"link",s),k._p=new Promise(function(F,$){k.onload=F,k.onerror=$}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ph(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:A},g.set(p,b)}}}function dx(s,r){ds.X(s,r);var l=mo;if(l&&s){var u=Ei(l).hoistableScripts,g=yo(s),p=u.get(g);p||(p=l.querySelector(tc(g)),p||(s=v({src:s,async:!0},r),(r=Gn.get(g))&&qg(s,r),p=l.createElement("script"),xe(p),$e(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function gx(s,r){ds.M(s,r);var l=mo;if(l&&s){var u=Ei(l).hoistableScripts,g=yo(s),p=u.get(g);p||(p=l.querySelector(tc(g)),p||(s=v({src:s,async:!0,type:"module"},r),(r=Gn.get(g))&&qg(s,r),p=l.createElement("script"),xe(p),$e(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function p0(s,r,l,u){var g=(g=vt.current)?mh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=po(l.href),l=Ei(g).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=po(l.href);var p=Ei(g).hoistableStyles,b=p.get(s);if(b||(g=g.ownerDocument||g,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=g.querySelector(Jl(s)))&&!p._p&&(b.instance=p,b.state.loading=5),Gn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gn.set(s,l),p||mx(g,s,l,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=yo(l),l=Ei(g).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function po(s){return'href="'+dn(s)+'"'}function Jl(s){return'link[rel="stylesheet"]['+s+"]"}function y0(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function mx(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),$e(r,"link",l),xe(r),s.head.appendChild(r))}function yo(s){return'[src="'+dn(s)+'"]'}function tc(s){return"script[async]"+s}function _0(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+dn(l.href)+'"]');if(u)return r.instance=u,xe(u),u;var g=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),xe(u),$e(u,"style",g),ph(u,l.precedence,s),r.instance=u;case"stylesheet":g=po(l.href);var p=s.querySelector(Jl(g));if(p)return r.state.loading|=4,r.instance=p,xe(p),p;u=y0(l),(g=Gn.get(g))&&Fg(u,g),p=(s.ownerDocument||s).createElement("link"),xe(p);var b=p;return b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),$e(p,"link",u),r.state.loading|=4,ph(p,l.precedence,s),r.instance=p;case"script":return p=yo(l.src),(g=s.querySelector(tc(p)))?(r.instance=g,xe(g),g):(u=l,(g=Gn.get(p))&&(u=v({},l),qg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),xe(g),$e(g,"link",u),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ph(u,l.precedence,s));return r.instance}function ph(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,b=0;b<u.length;b++){var A=u[b];if(A.dataset.precedence===r)p=A;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Fg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function qg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var yh=null;function v0(s,r,l){if(yh===null){var u=new Map,g=yh=new Map;g.set(l,u)}else g=yh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[bi]||p[we]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var A=u.get(b);A?A.push(p):u.set(b,[p])}}return u}function b0(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function px(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function T0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function yx(s,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=po(u.href),p=r.querySelector(Jl(g));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=_h.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=p,xe(p);return}p=r.ownerDocument||r,u=y0(u),(g=Gn.get(g))&&Fg(u,g),p=p.createElement("link"),xe(p);var b=p;b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),$e(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=_h.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var Gg=0;function _x(s,r){return s.stylesheets&&s.count===0&&bh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&bh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&Gg===0&&(Gg=62500*Zw());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&bh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Gg?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function _h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var vh=null;function bh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,vh=new Map,r.forEach(vx,s),vh=null,_h.call(s))}function vx(s,r){if(!(r.state.loading&4)){var l=vh.get(s);if(l)var u=l.get(null);else{l=new Map,vh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var b=g[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}g=r.instance,b=g.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,g),l.set(b,g),this.count++,u=_h.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var ec={$$typeof:X,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function bx(s,r,l,u,g,p,b,A,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function E0(s,r,l,u,g,p,b,A,k,F,$,tt){return s=new bx(s,r,l,b,k,F,$,tt,A),r=1,p===!0&&(r|=24),p=xn(3,null,null,r),s.current=p,p.stateNode=s,r=Ad(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},Rd(p),s}function S0(s){return s?(s=Ka,s):Ka}function A0(s,r,l,u,g,p){g=S0(g),u.context===null?u.context=g:u.pendingContext=g,u=Hs(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=js(s,u,r),l!==null&&(vn(l,s,r),Nl(l,s,r))}function w0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Yg(s,r){w0(s,r),(s=s.alternate)&&w0(s,r)}function x0(s){if(s.tag===13||s.tag===31){var r=Xr(s,67108864);r!==null&&vn(r,s,67108864),Yg(s,67108864)}}function C0(s){if(s.tag===13||s.tag===31){var r=Mn();r=Lr(r);var l=Xr(s,r);l!==null&&vn(l,s,r),Yg(s,r)}}var Th=!0;function Tx(s,r,l,u){var g=Y.T;Y.T=null;var p=rt.p;try{rt.p=2,Kg(s,r,l,u)}finally{rt.p=p,Y.T=g}}function Ex(s,r,l,u){var g=Y.T;Y.T=null;var p=rt.p;try{rt.p=8,Kg(s,r,l,u)}finally{rt.p=p,Y.T=g}}function Kg(s,r,l,u){if(Th){var g=Qg(u);if(g===null)Ng(s,r,u,Eh,l),I0(s,u);else if(Ax(g,s,r,l,u))u.stopPropagation();else if(I0(s,u),r&4&&-1<Sx.indexOf(s)){for(;g!==null;){var p=kn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=pi(p.pendingLanes);if(b!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var k=1<<31-pe(b);A.entanglements[1]|=k,b&=~k}Vi(p),(Kt&6)===0&&(sh=un()+500,Xl(0))}}break;case 31:case 13:A=Xr(p,2),A!==null&&vn(A,p,2),ah(),Yg(p,2)}if(p=Qg(u),p===null&&Ng(s,r,u,Eh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else Ng(s,r,u,null,l)}}function Qg(s){return s=Vn(s),Xg(s)}var Eh=null;function Xg(s){if(Eh=null,s=Ti(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Eh=s,null}function R0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case sl:return 2;case rl:return 8;case xs:case ed:return 32;case tu:return 268435456;default:return 32}default:return 32}}var $g=!1,Js=null,tr=null,er=null,nc=new Map,ic=new Map,nr=[],Sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(s,r){switch(s){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":nc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(r.pointerId)}}function sc(s,r,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},r!==null&&(r=kn(r),r!==null&&x0(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function Ax(s,r,l,u,g){switch(r){case"focusin":return Js=sc(Js,s,r,l,u,g),!0;case"dragenter":return tr=sc(tr,s,r,l,u,g),!0;case"mouseover":return er=sc(er,s,r,l,u,g),!0;case"pointerover":var p=g.pointerId;return nc.set(p,sc(nc.get(p)||null,s,r,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,ic.set(p,sc(ic.get(p)||null,s,r,l,u,g)),!0}return!1}function D0(s){var r=Ti(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,Jn(s.priority,function(){C0(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,Jn(s.priority,function(){C0(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Qg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);yl=u,l.target.dispatchEvent(u),yl=null}else return r=kn(l),r!==null&&x0(r),s.blockedOn=l,!1;r.shift()}return!0}function M0(s,r,l){Sh(s)&&l.delete(r)}function wx(){$g=!1,Js!==null&&Sh(Js)&&(Js=null),tr!==null&&Sh(tr)&&(tr=null),er!==null&&Sh(er)&&(er=null),nc.forEach(M0),ic.forEach(M0)}function Ah(s,r){s.blockedOn===r&&(s.blockedOn=null,$g||($g=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wx)))}var wh=null;function O0(s){wh!==s&&(wh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wh===s&&(wh=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],g=s[r+2];if(typeof u!="function"){if(Xg(u||l)===null)continue;break}var p=kn(l);p!==null&&(s.splice(r,3),r-=3,Qd(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function _o(s){function r(k){return Ah(k,s)}Js!==null&&Ah(Js,s),tr!==null&&Ah(tr,s),er!==null&&Ah(er,s),nc.forEach(r),ic.forEach(r);for(var l=0;l<nr.length;l++){var u=nr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<nr.length&&(l=nr[0],l.blockedOn===null);)D0(l),l.blockedOn===null&&nr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],b=g[Be]||null;if(typeof p=="function")b||O0(l);else if(b){var A=null;if(p&&p.hasAttribute("formAction")){if(g=p,b=p[Be]||null)A=b.formAction;else if(Xg(g)!==null)continue}else A=b.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),O0(l)}}}function N0(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return g=b})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Wg(s){this._internalRoot=s}xh.prototype.render=Wg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Mn();A0(l,u,s,r,null,null)},xh.prototype.unmount=Wg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;A0(s.current,2,null,s,null,null),ah(),r[vi]=null}};function xh(s){this._internalRoot=s}xh.prototype.unstable_scheduleHydration=function(s){if(s){var r=au();s={blockedOn:null,target:s,priority:r};for(var l=0;l<nr.length&&r!==0&&r<nr[l].priority;l++);nr.splice(l,0,s),l===0&&D0(s)}};var k0=t.version;if(k0!=="19.2.3")throw Error(i(527,k0,"19.2.3"));rt.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var xx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Wn=Ch.inject(xx),Ge=Ch}catch{}}return ac.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",g=H_,p=j_,b=F_;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=E0(s,1,!1,null,null,l,u,null,g,p,b,N0),s[vi]=r.current,Og(s),new Wg(r)},ac.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,g="",p=H_,b=j_,A=F_,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),r=E0(s,1,!0,r,l??null,u,g,k,p,b,A,N0),r.context=S0(null),l=r.current,u=Mn(),u=Lr(u),g=Hs(u),g.callback=null,js(l,g,u),l=u,r.current.lanes=l,Vr(r,l),Vi(r),s[vi]=r.current,Og(s),new xh(r)},ac.version="19.2.3",ac}var q0;function Px(){if(q0)return tm.exports;q0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),tm.exports=Vx(),tm.exports}var Lx=Px();const zx=()=>{};var G0={};const FE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Ux=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,S=m&63;f||(S=64,c||(E=64)),i.push(e[y],e[v],e[E],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(FE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Ux(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||v==null)throw new Bx;const E=o<<2|h>>4;if(i.push(E),m!==64){const S=h<<4&240|m>>2;if(i.push(S),v!==64){const D=m<<6&192|v;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Bx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hx=function(n){const t=FE(n);return qE.encodeByteArray(t,!0)},of=function(n){return Hx(n).replace(/\./g,"")},GE=function(n){try{return qE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Fx=()=>jx().__FIREBASE_DEFAULTS__,qx=()=>{if(typeof process>"u"||typeof G0>"u")return;const n=G0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Gx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&GE(n[1]);return t&&JSON.parse(t)},If=()=>{try{return zx()||Fx()||qx()||Gx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},YE=n=>If()?.emulatorHosts?.[n],Yx=n=>{const t=YE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},KE=()=>If()?.config,QE=n=>If()?.[`_${n}`];class Kx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Yo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(n){return(await fetch(n,{credentials:"include"})).ok}function Qx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[of(JSON.stringify(e)),of(JSON.stringify(c)),""].join(".")}const vc={};function Xx(){const n={prod:[],emulator:[]};for(const t of Object.keys(vc))vc[t]?n.emulator.push(t):n.prod.push(t);return n}function $x(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Y0=!1;function $E(n,t){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||vc[n]===t||vc[n]||Y0)return;vc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=Xx().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Y0=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=$x(i),S=e("text"),D=document.getElementById(S)||document.createElement("span"),M=e("learnmore"),R=document.getElementById(M)||document.createElement("a"),U=e("preprendIcon"),Q=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const X=E.element;h(X),y(R,M);const it=m();f(Q,U),X.append(Q,D,R,it),document.body.appendChild(X)}o?(D.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Zx(){const n=If()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function e2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n2(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function i2(){return!Zx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s2(){try{return typeof indexedDB=="object"}catch{return!1}}function r2(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const a2="FirebaseError";class As extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=a2,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?o2(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new As(a,h,i)}}function o2(n,t){return n.replace(l2,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const l2=/\{\$([^}]+)}/g;function c2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ba(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(K0(o)&&K0(c)){if(!ba(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function K0(n){return n!==null&&typeof n=="object"}function qc(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function u2(n,t){const e=new h2(n,t);return e.subscribe.bind(e)}class h2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");f2(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=sm),a.error===void 0&&(a.error=sm),a.complete===void 0&&(a.complete=sm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function sm(){}function Xn(n){return n&&n._delegate?n._delegate:n}class Ta{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ha="[DEFAULT]";class d2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Kx;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(m2(t))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=ha){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ha){return this.instances.has(t)}getOptions(t=ha){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:g2(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ha){return this.component?this.component.multipleInstances?t:ha:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g2(n){return n===ha?void 0:n}function m2(n){return n.instantiationMode==="EAGER"}class p2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new d2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const y2={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},_2=Vt.INFO,v2={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},b2=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=v2[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mp{constructor(t){this.name=t,this._logLevel=_2,this._logHandler=b2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?y2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const T2=(n,t)=>t.some(e=>n instanceof e);let Q0,X0;function E2(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S2(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Om=new WeakMap,ZE=new WeakMap,rm=new WeakMap,pp=new WeakMap;function A2(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(mr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&WE.set(e,n)}).catch(()=>{}),pp.set(t,n),t}function w2(n){if(Om.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Om.set(n,t)}let Nm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Om.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ZE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return mr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function x2(n){Nm=n(Nm)}function C2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(am(this),t,...e);return ZE.set(i,t.sort?t.sort():[t]),mr(i)}:S2().includes(n)?function(...t){return n.apply(am(this),t),mr(WE.get(this))}:function(...t){return mr(n.apply(am(this),t))}}function R2(n){return typeof n=="function"?C2(n):(n instanceof IDBTransaction&&w2(n),T2(n,E2())?new Proxy(n,Nm):n)}function mr(n){if(n instanceof IDBRequest)return A2(n);if(rm.has(n))return rm.get(n);const t=R2(n);return t!==n&&(rm.set(n,t),pp.set(t,n)),t}const am=n=>pp.get(n);function I2(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=mr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(mr(c.result),f.oldVersion,f.newVersion,mr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const D2=["get","getKey","getAll","getAllKeys","count"],M2=["put","add","delete","clear"],om=new Map;function $0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(om.get(t))return om.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=M2.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||D2.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&f.done]))[0]};return om.set(t,o),o}x2(n=>({...n,get:(t,e,i)=>$0(t,e)||n.get(t,e,i),has:(t,e)=>!!$0(t,e)||n.has(t,e)}));class O2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(N2(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function N2(n){return n.getComponent()?.type==="VERSION"}const km="@firebase/app",W0="0.14.6";const bs=new mp("@firebase/app"),k2="@firebase/app-compat",V2="@firebase/analytics-compat",P2="@firebase/analytics",L2="@firebase/app-check-compat",z2="@firebase/app-check",U2="@firebase/auth",B2="@firebase/auth-compat",H2="@firebase/database",j2="@firebase/data-connect",F2="@firebase/database-compat",q2="@firebase/functions",G2="@firebase/functions-compat",Y2="@firebase/installations",K2="@firebase/installations-compat",Q2="@firebase/messaging",X2="@firebase/messaging-compat",$2="@firebase/performance",W2="@firebase/performance-compat",Z2="@firebase/remote-config",J2="@firebase/remote-config-compat",tC="@firebase/storage",eC="@firebase/storage-compat",nC="@firebase/firestore",iC="@firebase/ai",sC="@firebase/firestore-compat",rC="firebase",aC="12.6.0";const Vm="[DEFAULT]",oC={[km]:"fire-core",[k2]:"fire-core-compat",[P2]:"fire-analytics",[V2]:"fire-analytics-compat",[z2]:"fire-app-check",[L2]:"fire-app-check-compat",[U2]:"fire-auth",[B2]:"fire-auth-compat",[H2]:"fire-rtdb",[j2]:"fire-data-connect",[F2]:"fire-rtdb-compat",[q2]:"fire-fn",[G2]:"fire-fn-compat",[Y2]:"fire-iid",[K2]:"fire-iid-compat",[Q2]:"fire-fcm",[X2]:"fire-fcm-compat",[$2]:"fire-perf",[W2]:"fire-perf-compat",[Z2]:"fire-rc",[J2]:"fire-rc-compat",[tC]:"fire-gcs",[eC]:"fire-gcs-compat",[nC]:"fire-fst",[sC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[rC]:"fire-js-all"};const lf=new Map,lC=new Map,Pm=new Map;function Z0(n,t){try{n.container.addComponent(t)}catch(e){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Vo(n){const t=n.name;if(Pm.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;Pm.set(t,n);for(const e of lf.values())Z0(e,n);for(const e of lC.values())Z0(e,n);return!0}function yp(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ci(n){return n==null?!1:n.settings!==void 0}const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Fc("app","Firebase",cC);class uC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Ko=aC;function JE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Vm,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw pr.create("bad-app-name",{appName:String(a)});if(e||(e=KE()),!e)throw pr.create("no-options");const o=lf.get(a);if(o){if(ba(e,o.options)&&ba(i,o.config))return o;throw pr.create("duplicate-app",{appName:a})}const c=new p2(a);for(const f of Pm.values())c.addComponent(f);const h=new uC(e,i,c);return lf.set(a,h),h}function tS(n=Vm){const t=lf.get(n);if(!t&&n===Vm&&KE())return JE();if(!t)throw pr.create("no-app",{appName:n});return t}function yr(n,t,e){let i=oC[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(c.join(" "));return}Vo(new Ta(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const hC="firebase-heartbeat-database",fC=1,Ic="firebase-heartbeat-store";let lm=null;function eS(){return lm||(lm=I2(hC,fC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Ic)}catch(e){console.warn(e)}}}}).catch(n=>{throw pr.create("idb-open",{originalErrorMessage:n.message})})),lm}async function dC(n){try{const e=(await eS()).transaction(Ic),i=await e.objectStore(Ic).get(nS(n));return await e.done,i}catch(t){if(t instanceof As)bs.warn(t.message);else{const e=pr.create("idb-get",{originalErrorMessage:t?.message});bs.warn(e.message)}}}async function J0(n,t){try{const i=(await eS()).transaction(Ic,"readwrite");await i.objectStore(Ic).put(t,nS(n)),await i.done}catch(e){if(e instanceof As)bs.warn(e.message);else{const i=pr.create("idb-set",{originalErrorMessage:e?.message});bs.warn(i.message)}}}function nS(n){return`${n.name}!${n.options.appId}`}const gC=1024,mC=30;class pC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new _C(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>mC){const a=vC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tb(),{heartbeatsToSend:e,unsentEntries:i}=yC(this._heartbeatsCache.heartbeats),a=of(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return bs.warn(t),""}}}function tb(){return new Date().toISOString().substring(0,10)}function yC(n,t=gC){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),eb(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),eb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class _C{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s2()?r2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await dC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return J0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return J0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function eb(n){return of(JSON.stringify({version:2,heartbeats:n})).length}function vC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function bC(n){Vo(new Ta("platform-logger",t=>new O2(t),"PRIVATE")),Vo(new Ta("heartbeat",t=>new pC(t),"PRIVATE")),yr(km,W0,n),yr(km,W0,"esm2020"),yr("fire-js","")}bC("");var TC="firebase",EC="12.7.0";yr(TC,EC,"app");var nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,iS;(function(){var n;function t(C,x){function I(){}I.prototype=x.prototype,C.F=x.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,P){for(var O=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)O[Pt-2]=arguments[Pt];return x.prototype[N].apply(V,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,x,I){I||(I=0);const V=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)V[N]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=C.g[0],I=C.g[1],N=C.g[2];let P=C.g[3],O;O=x+(P^I&(N^P))+V[0]+3614090360&4294967295,x=I+(O<<7&4294967295|O>>>25),O=P+(N^x&(I^N))+V[1]+3905402710&4294967295,P=x+(O<<12&4294967295|O>>>20),O=N+(I^P&(x^I))+V[2]+606105819&4294967295,N=P+(O<<17&4294967295|O>>>15),O=I+(x^N&(P^x))+V[3]+3250441966&4294967295,I=N+(O<<22&4294967295|O>>>10),O=x+(P^I&(N^P))+V[4]+4118548399&4294967295,x=I+(O<<7&4294967295|O>>>25),O=P+(N^x&(I^N))+V[5]+1200080426&4294967295,P=x+(O<<12&4294967295|O>>>20),O=N+(I^P&(x^I))+V[6]+2821735955&4294967295,N=P+(O<<17&4294967295|O>>>15),O=I+(x^N&(P^x))+V[7]+4249261313&4294967295,I=N+(O<<22&4294967295|O>>>10),O=x+(P^I&(N^P))+V[8]+1770035416&4294967295,x=I+(O<<7&4294967295|O>>>25),O=P+(N^x&(I^N))+V[9]+2336552879&4294967295,P=x+(O<<12&4294967295|O>>>20),O=N+(I^P&(x^I))+V[10]+4294925233&4294967295,N=P+(O<<17&4294967295|O>>>15),O=I+(x^N&(P^x))+V[11]+2304563134&4294967295,I=N+(O<<22&4294967295|O>>>10),O=x+(P^I&(N^P))+V[12]+1804603682&4294967295,x=I+(O<<7&4294967295|O>>>25),O=P+(N^x&(I^N))+V[13]+4254626195&4294967295,P=x+(O<<12&4294967295|O>>>20),O=N+(I^P&(x^I))+V[14]+2792965006&4294967295,N=P+(O<<17&4294967295|O>>>15),O=I+(x^N&(P^x))+V[15]+1236535329&4294967295,I=N+(O<<22&4294967295|O>>>10),O=x+(N^P&(I^N))+V[1]+4129170786&4294967295,x=I+(O<<5&4294967295|O>>>27),O=P+(I^N&(x^I))+V[6]+3225465664&4294967295,P=x+(O<<9&4294967295|O>>>23),O=N+(x^I&(P^x))+V[11]+643717713&4294967295,N=P+(O<<14&4294967295|O>>>18),O=I+(P^x&(N^P))+V[0]+3921069994&4294967295,I=N+(O<<20&4294967295|O>>>12),O=x+(N^P&(I^N))+V[5]+3593408605&4294967295,x=I+(O<<5&4294967295|O>>>27),O=P+(I^N&(x^I))+V[10]+38016083&4294967295,P=x+(O<<9&4294967295|O>>>23),O=N+(x^I&(P^x))+V[15]+3634488961&4294967295,N=P+(O<<14&4294967295|O>>>18),O=I+(P^x&(N^P))+V[4]+3889429448&4294967295,I=N+(O<<20&4294967295|O>>>12),O=x+(N^P&(I^N))+V[9]+568446438&4294967295,x=I+(O<<5&4294967295|O>>>27),O=P+(I^N&(x^I))+V[14]+3275163606&4294967295,P=x+(O<<9&4294967295|O>>>23),O=N+(x^I&(P^x))+V[3]+4107603335&4294967295,N=P+(O<<14&4294967295|O>>>18),O=I+(P^x&(N^P))+V[8]+1163531501&4294967295,I=N+(O<<20&4294967295|O>>>12),O=x+(N^P&(I^N))+V[13]+2850285829&4294967295,x=I+(O<<5&4294967295|O>>>27),O=P+(I^N&(x^I))+V[2]+4243563512&4294967295,P=x+(O<<9&4294967295|O>>>23),O=N+(x^I&(P^x))+V[7]+1735328473&4294967295,N=P+(O<<14&4294967295|O>>>18),O=I+(P^x&(N^P))+V[12]+2368359562&4294967295,I=N+(O<<20&4294967295|O>>>12),O=x+(I^N^P)+V[5]+4294588738&4294967295,x=I+(O<<4&4294967295|O>>>28),O=P+(x^I^N)+V[8]+2272392833&4294967295,P=x+(O<<11&4294967295|O>>>21),O=N+(P^x^I)+V[11]+1839030562&4294967295,N=P+(O<<16&4294967295|O>>>16),O=I+(N^P^x)+V[14]+4259657740&4294967295,I=N+(O<<23&4294967295|O>>>9),O=x+(I^N^P)+V[1]+2763975236&4294967295,x=I+(O<<4&4294967295|O>>>28),O=P+(x^I^N)+V[4]+1272893353&4294967295,P=x+(O<<11&4294967295|O>>>21),O=N+(P^x^I)+V[7]+4139469664&4294967295,N=P+(O<<16&4294967295|O>>>16),O=I+(N^P^x)+V[10]+3200236656&4294967295,I=N+(O<<23&4294967295|O>>>9),O=x+(I^N^P)+V[13]+681279174&4294967295,x=I+(O<<4&4294967295|O>>>28),O=P+(x^I^N)+V[0]+3936430074&4294967295,P=x+(O<<11&4294967295|O>>>21),O=N+(P^x^I)+V[3]+3572445317&4294967295,N=P+(O<<16&4294967295|O>>>16),O=I+(N^P^x)+V[6]+76029189&4294967295,I=N+(O<<23&4294967295|O>>>9),O=x+(I^N^P)+V[9]+3654602809&4294967295,x=I+(O<<4&4294967295|O>>>28),O=P+(x^I^N)+V[12]+3873151461&4294967295,P=x+(O<<11&4294967295|O>>>21),O=N+(P^x^I)+V[15]+530742520&4294967295,N=P+(O<<16&4294967295|O>>>16),O=I+(N^P^x)+V[2]+3299628645&4294967295,I=N+(O<<23&4294967295|O>>>9),O=x+(N^(I|~P))+V[0]+4096336452&4294967295,x=I+(O<<6&4294967295|O>>>26),O=P+(I^(x|~N))+V[7]+1126891415&4294967295,P=x+(O<<10&4294967295|O>>>22),O=N+(x^(P|~I))+V[14]+2878612391&4294967295,N=P+(O<<15&4294967295|O>>>17),O=I+(P^(N|~x))+V[5]+4237533241&4294967295,I=N+(O<<21&4294967295|O>>>11),O=x+(N^(I|~P))+V[12]+1700485571&4294967295,x=I+(O<<6&4294967295|O>>>26),O=P+(I^(x|~N))+V[3]+2399980690&4294967295,P=x+(O<<10&4294967295|O>>>22),O=N+(x^(P|~I))+V[10]+4293915773&4294967295,N=P+(O<<15&4294967295|O>>>17),O=I+(P^(N|~x))+V[1]+2240044497&4294967295,I=N+(O<<21&4294967295|O>>>11),O=x+(N^(I|~P))+V[8]+1873313359&4294967295,x=I+(O<<6&4294967295|O>>>26),O=P+(I^(x|~N))+V[15]+4264355552&4294967295,P=x+(O<<10&4294967295|O>>>22),O=N+(x^(P|~I))+V[6]+2734768916&4294967295,N=P+(O<<15&4294967295|O>>>17),O=I+(P^(N|~x))+V[13]+1309151649&4294967295,I=N+(O<<21&4294967295|O>>>11),O=x+(N^(I|~P))+V[4]+4149444226&4294967295,x=I+(O<<6&4294967295|O>>>26),O=P+(I^(x|~N))+V[11]+3174756917&4294967295,P=x+(O<<10&4294967295|O>>>22),O=N+(x^(P|~I))+V[2]+718787259&4294967295,N=P+(O<<15&4294967295|O>>>17),O=I+(P^(N|~x))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+P&4294967295}i.prototype.v=function(C,x){x===void 0&&(x=C.length);const I=x-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<x;){if(N==0)for(;P<=I;)a(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<x;)if(V[N++]=C.charCodeAt(P++),N==this.blockSize){a(this,V),N=0;break}}else for(;P<x;)if(V[N++]=C[P++],N==this.blockSize){a(this,V),N=0;break}}this.h=N,this.o+=x},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[x++]=this.g[I]>>>V&255;return C};function o(C,x){var I=h;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=x(C)}function c(C,x){this.h=x;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const P=C[N]|0;V&&P==x||(I[N]=P,V=!1)}this.g=I}var h={};function f(C){return-128<=C&&C<128?o(C,function(x){return new c([x|0],x<0?-1:0)}):new c([C|0],C<0?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return R(m(-C));const x=[];let I=1;for(let V=0;C>=I;V++)x[V]=C/I|0,I*=4294967296;return new c(x,0)}function y(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return R(y(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(x,8));let V=v;for(let P=0;P<C.length;P+=8){var N=Math.min(8,C.length-P);const O=parseInt(C.substring(P,P+N),x);N<8?(N=m(Math.pow(x,N)),V=V.j(N).add(m(O))):(V=V.j(I),V=V.add(m(O)))}return V}var v=f(0),E=f(1),S=f(16777216);n=c.prototype,n.m=function(){if(M(this))return-R(this).m();let C=0,x=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*x,x*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(M(this))return"-"+R(this).toString(C);const x=m(Math.pow(C,6));var I=this;let V="";for(;;){const N=it(I,x).g;I=U(I,N.j(x));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,D(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function M(C){return C.h==-1}n.l=function(C){return C=U(this,C),M(C)?-1:D(C)?0:1};function R(C){const x=C.g.length,I=[];for(let V=0;V<x;V++)I[V]=~C.g[V];return new c(I,~C.h).add(E)}n.abs=function(){return M(this)?R(this):this},n.add=function(C){const x=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=x;N++){let P=V+(this.i(N)&65535)+(C.i(N)&65535),O=(P>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=O>>>16,P&=65535,O&=65535,I[N]=O<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function U(C,x){return C.add(R(x))}n.j=function(C){if(D(this)||D(C))return v;if(M(this))return M(C)?R(this).j(R(C)):R(R(this).j(C));if(M(C))return R(this.j(R(C)));if(this.l(S)<0&&C.l(S)<0)return m(this.m()*C.m());const x=this.g.length+C.g.length,I=[];for(var V=0;V<2*x;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const P=this.i(V)>>>16,O=this.i(V)&65535,Pt=C.i(N)>>>16,xt=C.i(N)&65535;I[2*V+2*N]+=O*xt,Q(I,2*V+2*N),I[2*V+2*N+1]+=P*xt,Q(I,2*V+2*N+1),I[2*V+2*N+1]+=O*Pt,Q(I,2*V+2*N+1),I[2*V+2*N+2]+=P*Pt,Q(I,2*V+2*N+2)}for(C=0;C<x;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=x;C<2*x;C++)I[C]=0;return new c(I,0)};function Q(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function X(C,x){this.g=C,this.h=x}function it(C,x){if(D(x))throw Error("division by zero");if(D(C))return new X(v,v);if(M(C))return x=it(R(C),x),new X(R(x.g),R(x.h));if(M(x))return x=it(C,R(x)),new X(R(x.g),x.h);if(C.g.length>30){if(M(C)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var I=E,V=x;V.l(C)<=0;)I=Z(I),V=Z(V);var N=nt(I,1),P=nt(V,1);for(V=nt(V,2),I=nt(I,2);!D(V);){var O=P.add(V);O.l(C)<=0&&(N=N.add(I),P=O),V=nt(V,1),I=nt(I,1)}return x=U(C,N.j(x)),new X(N,x)}for(N=v;C.l(x)>=0;){for(I=Math.max(1,Math.floor(C.m()/x.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=m(I),O=P.j(x);M(O)||O.l(C)>0;)I-=V,P=m(I),O=P.j(x);D(P)&&(P=E),N=N.add(P),C=U(C,O)}return new X(N,C)}n.B=function(C){return it(this,C).h},n.and=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)&C.i(V);return new c(I,this.h&C.h)},n.or=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)|C.i(V);return new c(I,this.h|C.h)},n.xor=function(C){const x=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)^C.i(V);return new c(I,this.h^C.h)};function Z(C){const x=C.g.length+1,I=[];for(let V=0;V<x;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(I,C.h)}function nt(C,x){const I=x>>5;x%=32;const V=C.g.length-I,N=[];for(let P=0;P<V;P++)N[P]=x>0?C.i(P+I)>>>x|C.i(P+I+1)<<32-x:C.i(P+I);return new c(N,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,iS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,_r=c}).apply(typeof nb<"u"?nb:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sS,fc,rS,Qh,Lm,aS,oS,lS;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function a(d,_){if(_)t:{var T=i;d=d.split(".");for(var w=0;w<d.length-1;w++){var H=d[w];if(!(H in T))break t;T=T[H]}d=d[d.length-1],w=T[d],_=_(w),_!=w&&_!=null&&t(T,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var T=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&T.push([w,_[w]]);return T}});var o=o||{},c=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function f(d,_,T){return d.call.apply(d.bind,arguments)}function m(d,_,T){return m=f,m.apply(null,arguments)}function y(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var w=T.slice();return w.push.apply(w,arguments),d.apply(this,w)}}function v(d,_){function T(){}T.prototype=_.prototype,d.Z=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(w,H,G){for(var at=Array(arguments.length-2),At=2;At<arguments.length;At++)at[At-2]=arguments[At];return _.prototype[H].apply(w,at)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const _=d.length;if(_>0){const T=Array(_);for(let w=0;w<_;w++)T[w]=d[w];return T}return[]}function D(d,_){for(let w=1;w<arguments.length;w++){const H=arguments[w];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=d.length||0;const G=H.length||0;d.length=T+G;for(let at=0;at<G;at++)d[T+at]=H[at]}else d.push(H)}}class M{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(d){c.setTimeout(()=>{throw d},0)}function U(){var d=C;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,T){const w=X.get();w.set(_,T),this.h?this.h.next=w:this.g=w,this.h=w}}var X=new M(()=>new it,d=>d.reset());class it{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,nt=!1,C=new Q,x=()=>{const d=Promise.resolve(void 0);Z=()=>{d.then(I)}};function I(){for(var d;d=U();){try{d.h.call(d.g)}catch(T){R(T)}var _=X;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}nt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Pt(d,_){N.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(Pt,N),Pt.prototype.init=function(d,_){const T=this.type=d.type,w=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Pt.Z.h.call(this)},Pt.prototype.h=function(){Pt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function rt(d,_,T,w,H){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!w,this.ha=H,this.key=++Y,this.da=this.fa=!1}function dt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Rt(d,_,T){for(const w in d)_.call(T,d[w],w,d)}function Ot(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function L(d){const _={};for(const T in d)_[T]=d[T];return _}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(d,_){let T,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(T in w)d[T]=w[T];for(let G=0;G<W.length;G++)T=W[G],Object.prototype.hasOwnProperty.call(w,T)&&(d[T]=w[T])}}function lt(d){this.src=d,this.g={},this.h=0}lt.prototype.add=function(d,_,T,w,H){const G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);const at=vt(d,_,w,H);return at>-1?(_=d[at],T||(_.fa=!1)):(_=new rt(_,this.src,G,!!w,H),_.fa=T,d.push(_)),_};function mt(d,_){const T=_.type;if(T in d.g){var w=d.g[T],H=Array.prototype.indexOf.call(w,_,void 0),G;(G=H>=0)&&Array.prototype.splice.call(w,H,1),G&&(dt(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function vt(d,_,T,w){for(let H=0;H<d.length;++H){const G=d[H];if(!G.da&&G.listener==_&&G.capture==!!T&&G.ha==w)return H}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Pe={};function le(d,_,T,w,H){if(Array.isArray(_)){for(let G=0;G<_.length;G++)le(d,_[G],T,w,H);return null}return T=il(T),d&&d[xt]?d.J(_,T,h(w)?!!w.capture:!1,H):Mr(d,_,T,!1,w,H)}function Mr(d,_,T,w,H,G){if(!_)throw Error("Invalid event type");const at=h(H)?!!H.capture:!!H;let At=Or(d);if(At||(d[Bt]=At=new lt(d)),T=At.add(_,T,w,at,G),T.proxy)return T;if(w=Ra(),T.proxy=w,w.src=d,w.listener=T,d.addEventListener)P||(H=at),H===void 0&&(H=!1),d.addEventListener(_.toString(),w,H);else if(d.attachEvent)d.attachEvent(gi(_.toString()),w);else if(d.addListener&&d.removeListener)d.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ra(){function d(T){return _.call(d.src,d.listener,T)}const _=el;return d}function Ia(d,_,T,w,H){if(Array.isArray(_))for(var G=0;G<_.length;G++)Ia(d,_[G],T,w,H);else w=h(w)?!!w.capture:!!w,T=il(T),d&&d[xt]?(d=d.i,G=String(_).toString(),G in d.g&&(_=d.g[G],T=vt(_,T,w,H),T>-1&&(dt(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete d.g[G],d.h--)))):d&&(d=Or(d))&&(_=d.g[_.toString()],d=-1,_&&(d=vt(_,T,w,H)),(T=d>-1?_[d]:null)&&Da(T))}function Da(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[xt])mt(_.i,d);else{var T=d.type,w=d.proxy;_.removeEventListener?_.removeEventListener(T,w,d.capture):_.detachEvent?_.detachEvent(gi(T),w):_.addListener&&_.removeListener&&_.removeListener(w),(T=Or(_))?(mt(T,d),T.h==0&&(T.src=null,_[Bt]=null)):dt(d)}}}function gi(d){return d in Pe?Pe[d]:Pe[d]="on"+d}function el(d,_){if(d.da)d=!0;else{_=new Pt(_,this);const T=d.listener,w=d.ha||d.src;d.fa&&Da(d),d=T.call(w,_)}return d}function Or(d){return d=d[Bt],d instanceof lt?d:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(d){return typeof d=="function"?d:(d[nl]||(d[nl]=function(_){return d.handleEvent(_)}),d[nl])}function Se(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}v(Se,V),Se.prototype[xt]=!0,Se.prototype.removeEventListener=function(d,_,T,w){Ia(this,d,_,T,w)};function Le(d,_){var T,w=d.G;if(w)for(T=[];w;w=w.G)T.push(w);if(d=d.M,w=_.type||_,typeof _=="string")_=new N(_,d);else if(_ instanceof N)_.target=_.target||d;else{var H=_;_=new N(w,d),ot(_,H)}H=!0;let G,at;if(T)for(at=T.length-1;at>=0;at--)G=_.g=T[at],H=ws(G,w,!0,_)&&H;if(G=_.g=d,H=ws(G,w,!0,_)&&H,H=ws(G,w,!1,_)&&H,T)for(at=0;at<T.length;at++)G=_.g=T[at],H=ws(G,w,!1,_)&&H}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const T=d.g[_];for(let w=0;w<T.length;w++)dt(T[w]);delete d.g[_],d.h--}}this.G=null},Se.prototype.J=function(d,_,T,w){return this.i.add(String(d),_,!1,T,w)},Se.prototype.K=function(d,_,T,w){return this.i.add(String(d),_,!0,T,w)};function ws(d,_,T,w){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let G=0;G<_.length;++G){const at=_[G];if(at&&!at.da&&at.capture==T){const At=at.listener,ye=at.ha||at.src;at.fa&&mt(d.i,at),H=At.call(ye,w)!==!1&&H}}return H&&!w.defaultPrevented}function td(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(d,_||0)}function Jc(d){d.g=td(()=>{d.g=null,d.i&&(d.i=!1,Jc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class un extends V{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Jc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(d){V.call(this),this.h=d,this.g={}}v(Nr,V);var sl=[];function rl(d){Rt(d.g,function(_,T){this.g.hasOwnProperty(T)&&Da(_)},d),d.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),rl(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=c.JSON.stringify,ed=c.JSON.parse,tu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function eu(){}function nu(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}v(Ge,N);function Nn(){N.call(this,"c")}v(Nn,N);var pe={},iu=null;function Ma(){return iu=iu||new Se}pe.Ia="serverreachability";function su(d){N.call(this,pe.Ia,d)}v(su,N);function mi(d){const _=Ma();Le(_,new su(_))}pe.STAT_EVENT="statevent";function kr(d,_){N.call(this,pe.STAT_EVENT,d),this.stat=_}v(kr,N);function Ae(d){const _=Ma();Le(_,new kr(_,d))}pe.Ja="timingevent";function pi(d,_){N.call(this,pe.Ja,d),this.size=_}v(pi,N);function yi(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function nd(d,_,T,w,H,G){d.info(function(){if(d.g)if(G){var at="",At=G.split("&");for(let Yt=0;Yt<At.length;Yt++){var ye=At[Yt].split("=");if(ye.length>1){const ce=ye[0];ye=ye[1];const Ln=ce.split("_");at=Ln.length>=2&&Ln[1]=="type"?at+(ce+"="+ye+"&"):at+(ce+"=redacted&")}}}else at=null;else at=G;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+_+`
`+T+`
`+at})}function ru(d,_,T,w,H,G,at){d.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+_+`
`+T+`
`+G+" "+at})}function _i(d,_,T,w){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+id(d,T)+(w?" "+w:"")})}function Vr(d,_){d.info(function(){return"TIMEOUT: "+_})}Zn.prototype.info=function(){};function id(d,_){if(!d.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(d=0;d<G.length;d++)if(Array.isArray(G[d])){var T=G[d];if(!(T.length<2)){var w=T[1];if(Array.isArray(w)&&!(w.length<1)){var H=w[0];if(H!="noop"&&H!="stop"&&H!="close")for(let at=1;at<w.length;at++)w[at]=""}}}}return xs(G)}catch{return _}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Lr(){}v(Lr,eu),Lr.prototype.g=function(){return new XMLHttpRequest},ol=new Lr;function Xi(d){return encodeURIComponent(String(d))}function au(d){var _=1;d=d.split(":");const T=[];for(;_>0&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function Jn(d,_,T,w){this.j=d,this.i=_,this.l=T,this.S=w||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var we={},Be={};function vi(d,_,T){d.M=1,d.A=zr(Ce(_)),d.u=T,d.R=!0,Oa(d,null)}function Oa(d,_){d.F=Date.now(),bi(d),d.B=Ce(d.A);var T=d.B,w=d.S;Array.isArray(w)||(w=[String(w)]),Pa(T.i,"t",w),d.C=0,T=d.j.L,d.h=new ti,d.g=Tu(d.j,T?_:null,!d.u),d.P>0&&(d.O=new un(m(d.Y,d,d.g),d.P)),_=d.V,T=d.g,w=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(sl[0]=H.toString()),H=sl);for(let G=0;G<H.length;G++){const at=le(T,H[G],w||_.handleEvent,!1,_.h||_);if(!at)break;_.g[at.key]=at}_=d.J?L(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),mi(),nd(d.i,d.v,d.B,d.l,d.S,d.u)}Jn.prototype.ba=function(d){d=d.target;const _=this.O;_&&ii(d)==3?_.j():this.Y(d)},Jn.prototype.Y=function(d){try{if(d==this.g)t:{const At=ii(this.g),ye=this.g.ya(),Yt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||At!=4||ye==7||(ye==8||Yt<=0?mi(3):mi(2)),Ti(this);var _=this.g.ca();this.X=_;var T=sd(this);if(this.o=_==200,ru(this.i,this.v,this.B,this.l,this.S,At,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,H=this.g;if((w=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(w)){var G=w;break e}}G=null}if(d=G)_i(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,d);else{this.o=!1,this.m=3,Ae(12),Sn(this),kn(this);break t}}if(this.R){d=!0;let ce;for(;!this.K&&this.C<T.length;)if(ce=lu(this,T),ce==Be){At==4&&(this.m=4,Ae(14),d=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==we){this.m=4,Ae(15),_i(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else _i(this.i,this.l,ce,null),Ei(this,ce);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||T.length!=0||this.h.h||(this.m=1,Ae(16),d=!1),this.o=this.o&&d,!d)_i(this.i,this.l,T,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(T.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),El(at),at.P=!0,Ae(11))}}else _i(this.i,this.l,T,null),Ei(this,T);At==4&&Sn(this),this.o&&!this.K&&(At==4?yu(this.j,this):(this.o=!1,bi(this)))}else Wi(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Sn(this),kn(this)}}}catch{}};function sd(d){if(!ou(d))return d.g.la();const _=Ye(d.g);if(_==="")return"";let T="";const w=_.length,H=ii(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Sn(d),kn(d),"";d.h.i=new c.TextDecoder}for(let G=0;G<w;G++)d.h.h=!0,T+=d.h.i.decode(_[G],{stream:!(H&&G==w-1)});return _.length=0,d.h.g+=T,d.C=0,d.h.g}function ou(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function lu(d,_){var T=d.C,w=_.indexOf(`
`,T);return w==-1?Be:(T=Number(_.substring(T,w)),isNaN(T)?we:(w+=1,w+T>_.length?Be:(_=_.slice(w,w+T),d.C=w+T,_)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function bi(d){d.T=Date.now()+d.H,Na(d,d.H)}function Na(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=yi(m(d.aa,d),_)}function Ti(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Jn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Vr(this.i,this.B),this.M!=2&&(mi(),Ae(17)),Sn(this),this.m=2,kn(this)):Na(this,this.T-d)};function kn(d){d.j.I==0||d.K||yu(d.j,d)}function Sn(d){Ti(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,rl(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Ei(d,_){try{var T=d.j;if(T.I!=0&&(T.g==d||Ai(T.h,d))){if(!d.L&&Ai(T.h,d)&&T.I==3){try{var w=T.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)Ha(T),ks(T);else break t;Gr(T),Ae(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=yi(m(T.Va,T),6e3));Si(T.h)<=1&&T.ta&&(T.ta=void 0)}else Di(T,11)}else if((d.L||T.g==d)&&Ha(T),!O(_))for(H=T.Ba.g.parse(_),_=0;_<H.length;_++){let Yt=H[_];const ce=Yt[0];if(!(ce<=T.K))if(T.K=ce,Yt=Yt[1],T.I==2)if(Yt[0]=="c"){T.M=Yt[1],T.ba=Yt[2];const Ln=Yt[3];Ln!=null&&(T.ka=Ln,T.j.info("VER="+T.ka));const Mi=Yt[4];Mi!=null&&(T.za=Mi,T.j.info("SVER="+T.za));const si=Yt[5];si!=null&&typeof si=="number"&&si>0&&(w=1.5*si,T.O=w,T.j.info("backChannelRequestTimeoutMs_="+w)),w=T;const ri=d.g;if(ri){const Yr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var G=w.h;G.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ul(G,G.h),G.h=null))}if(w.G){const ja=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(w.wa=ja,Xt(w.J,w.G,ja))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),w=T;var at=d;if(w.na=bu(w,w.L?w.ba:null,w.W),at.L){hl(w.h,at);var At=at,ye=w.O;ye&&(At.H=ye),At.D&&(Ti(At),bi(At)),w.g=at}else mu(w);T.i.length>0&&Ii(T)}else Yt[0]!="stop"&&Yt[0]!="close"||Di(T,7);else T.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Di(T,7):bl(T):Yt[0]!="noop"&&T.l&&T.l.qa(Yt),T.A=0)}}mi(4)}catch{}}var xe=class{constructor(d,_){this.g=d,this.map=_}};function ll(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Si(d){return d.h?1:d.g?d.g.size:0}function Ai(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function ul(d,_){d.g?d.g.add(_):d.h=_}function hl(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ll.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function fl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.G);return _}return S(d.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(d,_){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const w=d[T].indexOf("=");let H,G=null;w>=0?(H=d[T].substring(0,w),G=d[T].substring(w+1)):H=d[T],_(H,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function An(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof An?(this.l=d.l,He(this,d.j),this.o=d.o,this.g=d.g,Cs(this,d.u),this.h=d.h,dl(this,du(d.i)),this.m=d.m):d&&(_=String(d).match(cu))?(this.l=!1,He(this,_[1]||"",!0),this.o=wi(_[2]||""),this.g=wi(_[3]||"",!0),Cs(this,_[4]),this.h=wi(_[5]||"",!0),dl(this,_[6]||"",!0),this.m=wi(_[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}An.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Ur(_,Va,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ur(_,Va,!0),"@"),d.push(Xi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Ur(T,T.charAt(0)=="/"?gl:uu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Ur(T,hu)),d.join("")},An.prototype.resolve=function(d){const _=Ce(this);let T=!!d.j;T?He(_,d.j):T=!!d.o,T?_.o=d.o:T=!!d.g,T?_.g=d.g:T=d.u!=null;var w=d.h;if(T)Cs(_,d.u);else if(T=!!d.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var H=_.h.lastIndexOf("/");H!=-1&&(w=_.h.slice(0,H+1)+w)}if(H=w,H==".."||H==".")w="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){w=H.lastIndexOf("/",0)==0,H=H.split("/");const G=[];for(let at=0;at<H.length;){const At=H[at++];At=="."?w&&at==H.length&&G.push(""):At==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&at==H.length&&G.push("")):(G.push(At),w=!0)}w=G.join("/")}else w=H}return T?_.h=w:T=d.i.toString()!=="",T?dl(_,du(d.i)):T=!!d.m,T&&(_.m=d.m),_};function Ce(d){return new An(d)}function He(d,_,T){d.j=T?wi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Cs(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function dl(d,_,T){_ instanceof Is?(d.i=_,La(d.i,d.l)):(T||(_=Ur(_,Rs)),d.i=new Is(_,d.l))}function Xt(d,_,T){d.i.set(_,T)}function zr(d){return Xt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function wi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ur(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,dn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function dn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Va=/[#\/\?@]/g,uu=/[#\?:]/g,gl=/[#\?]/g,Rs=/[#\?@]/g,hu=/#/g;function Is(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function gn(d){d.g||(d.g=new Map,d.h=0,d.i&&ka(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Is.prototype,n.add=function(d,_){gn(this),this.i=null,d=Ds(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function fu(d,_){gn(d),_=Ds(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ml(d,_){return gn(d),_=Ds(d,_),d.g.has(_)}n.forEach=function(d,_){gn(this),this.g.forEach(function(T,w){T.forEach(function(H){d.call(_,H,w,this)},this)},this)};function pl(d,_){gn(d);let T=[];if(typeof _=="string")ml(d,_)&&(T=T.concat(d.g.get(Ds(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)T=T.concat(d[_]);return T}n.set=function(d,_){return gn(this),this.i=null,d=Ds(this,d),ml(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=pl(this,d),d.length>0?String(d[0]):_):_};function Pa(d,_,T){fu(d,_),T.length>0&&(d.i=null,d.g.set(Ds(d,_),S(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var T=_[w];const H=Xi(T);T=pl(this,T);for(let G=0;G<T.length;G++){let at=H;T[G]!==""&&(at+="="+Xi(T[G])),d.push(at)}}return this.i=d.join("&")};function du(d){const _=new Is;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Ds(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function La(d,_){_&&!d.j&&(gn(d),d.i=null,d.g.forEach(function(T,w){const H=w.toLowerCase();w!=H&&(fu(this,w),Pa(this,H,T))},d)),d.j=_}function ei(d,_){const T=new Zn;if(c.Image){const w=new Image;w.onload=y(Vn,T,"TestLoadImage: loaded",!0,_,w),w.onerror=y(Vn,T,"TestLoadImage: error",!1,_,w),w.onabort=y(Vn,T,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(Vn,T,"TestLoadImage: timeout",!1,_,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=d}else _(!1)}function yl(d,_){const T=new Zn,w=new AbortController,H=setTimeout(()=>{w.abort(),Vn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:w.signal}).then(G=>{clearTimeout(H),G.ok?Vn(T,"TestPingServer: ok",!0,_):Vn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Vn(T,"TestPingServer: error",!1,_)})}function Vn(d,_,T,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(T)}catch{}}function Ms(){this.g=new tu}function xi(d){this.i=d.Sb||null,this.h=d.ab||!1}v(xi,eu),xi.prototype.g=function(){return new Br(this.i,this.h)};function Br(d,_){Se.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Br,Se),n=Br.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,ni(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Os(this):ni(this),this.readyState==3&&za(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Os(this))},n.Na=function(d){this.g&&(this.response=d,Os(this))},n.ga=function(){this.g&&Os(this)};function Os(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ni(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function ni(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Pn(d){let _="";return Rt(d,function(T,w){_+=w,_+=":",_+=T,_+=`\r
`}),_}function Hr(d,_,T){t:{for(w in T){var w=!1;break t}w=!0}w||(T=Pn(T),typeof d=="string"?T!=null&&Xi(T):Xt(d,_,T))}function Jt(d){Se.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Jt,Se);var Ci=/^https?$/i,_l=["POST","PUT"];n=Jt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,T,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(G){jr(this,G);return}if(d=T||"",T=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)T.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())T.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(T.keys()).find(G=>G.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(_l,_,void 0)>=0)||w||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,at]of T)this.g.setRequestHeader(G,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(G){jr(this,G)}};function jr(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,vl(d),$i(d)}function vl(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Le(this,"complete"),Le(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Jt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Fr(this):this.Xa())},n.Xa=function(){Fr(this)};function Fr(d){if(d.h&&typeof o<"u"){if(d.v&&ii(d)==4)setTimeout(d.Ca.bind(d),0);else if(Le(d,"readystatechange"),ii(d)==4){d.h=!1;try{const G=d.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var w;if(w=G===0){let at=String(d.D).match(cu)[1]||null;!at&&c.self&&c.self.location&&(at=c.self.location.protocol.slice(0,-1)),w=!Ci.test(at?at.toLowerCase():"")}T=w}if(T)Le(d,"complete"),Le(d,"success");else{d.o=6;try{var H=ii(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",vl(d)}}finally{$i(d)}}}}function $i(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,_||Le(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ii(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),ed(_)}};function Ye(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(d){const _={};d=(d.g&&ii(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<d.length;w++){if(O(d[w]))continue;var T=au(d[w]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const G=_[H]||[];_[H]=G,G.push(T)}Ot(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Ns(d){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,d),this.Za=Ri("retryDelaySeedMs",1e4,d),this.Ta=Ri("forwardChannelMaxRetries",2,d),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(d&&d.concurrentRequestLimit),this.Ba=new Ms,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ns.prototype,n.ka=8,n.I=1,n.connect=function(d,_,T,w){Ae(0),this.W=d,this.H=_||{},T&&w!==void 0&&(this.H.OSID=T,this.H.OAID=w),this.F=this.X,this.J=bu(this,null,this.W),Ii(this)};function bl(d){if(Ua(d),d.I==3){var _=d.V++,T=Ce(d.J);if(Xt(T,"SID",d.M),Xt(T,"RID",_),Xt(T,"TYPE","terminate"),qr(d,T),_=new Jn(d,d.j,_),_.M=2,_.A=zr(Ce(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Tu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),bi(_)}vu(d)}function ks(d){d.g&&(El(d),d.g.cancel(),d.g=null)}function Ua(d){ks(d),d.v&&(c.clearTimeout(d.v),d.v=null),Ha(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Ii(d){if(!cl(d.h)&&!d.m){d.m=!0;var _=d.Ea;Z||x(),nt||(Z(),nt=!0),C.add(_,d),d.D=0}}function Ba(d,_){return Si(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=yi(m(d.Ea,d,_),_u(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new Jn(this,this.j,d);let G=this.o;if(this.U&&(G?(G=L(G),ot(G,this.U)):G=this.U),this.u!==null||this.R||(H.J=G,G=null),this.S)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var w=this.i[T];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=gu(this,H,_),T=Ce(this.J),Xt(T,"RID",d),Xt(T,"CVER",22),this.G&&Xt(T,"X-HTTP-Session-Id",this.G),qr(this,T),G&&(this.R?_="headers="+Xi(Pn(G))+"&"+_:this.u&&Hr(T,this.u,G)),ul(this.h,H),this.Ra&&Xt(T,"TYPE","init"),this.S?(Xt(T,"$req",_),Xt(T,"SID","null"),H.U=!0,vi(H,T,null)):vi(H,T,_),this.I=2}}else this.I==3&&(d?Tl(this,d):this.i.length==0||cl(this.h)||Tl(this))};function Tl(d,_){var T;_?T=_.l:T=d.V++;const w=Ce(d.J);Xt(w,"SID",d.M),Xt(w,"RID",T),Xt(w,"AID",d.K),qr(d,w),d.u&&d.o&&Hr(w,d.u,d.o),T=new Jn(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),_&&(d.i=_.G.concat(d.i)),_=gu(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ul(d.h,T),vi(T,w,_)}function qr(d,_){d.H&&Rt(d.H,function(T,w){Xt(_,w,T)}),d.l&&Rt({},function(T,w){Xt(_,w,T)})}function gu(d,_,T){T=Math.min(d.i.length,T);const w=d.l?m(d.l.Ka,d.l,d):null;t:{var H=d.i;let At=-1;for(;;){const ye=["count="+T];At==-1?T>0?(At=H[0].g,ye.push("ofs="+At)):At=0:ye.push("ofs="+At);let Yt=!0;for(let ce=0;ce<T;ce++){var G=H[ce].g;const Ln=H[ce].map;if(G-=At,G<0)At=Math.max(0,H[ce].g-100),Yt=!1;else try{G="req"+G+"_"||"";try{var at=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Mi,si]of at){let ri=si;h(si)&&(ri=xs(si)),ye.push(G+Mi+"="+encodeURIComponent(ri))}}catch(Mi){throw ye.push(G+"type="+encodeURIComponent("_badmap")),Mi}}catch{w&&w(Ln)}}if(Yt){at=ye.join("&");break t}}at=void 0}return d=d.i.splice(0,T),_.G=d,at}function mu(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;Z||x(),nt||(Z(),nt=!0),C.add(_,d),d.A=0}}function Gr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=yi(m(d.Da,d),_u(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=yi(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),ks(this),pu(this))};function El(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function pu(d){d.g=new Jn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Ce(d.na);Xt(_,"RID","rpc"),Xt(_,"SID",d.M),Xt(_,"AID",d.K),Xt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xt(_,"TO",d.ia),Xt(_,"TYPE","xmlhttp"),qr(d,_),d.u&&d.o&&Hr(_,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=zr(Ce(_)),T.u=null,T.R=!0,Oa(T,d)}n.Va=function(){this.C!=null&&(this.C=null,ks(this),Gr(this),Ae(19))};function Ha(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function yu(d,_){var T=null;if(d.g==_){Ha(d),El(d),d.g=null;var w=2}else if(Ai(d.h,_))T=_.G,hl(d.h,_),w=1;else return;if(d.I!=0){if(_.o)if(w==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var H=d.D;w=Ma(),Le(w,new pi(w,T)),Ii(d)}else mu(d);else if(H=_.m,H==3||H==0&&_.X>0||!(w==1&&Ba(d,_)||w==2&&Gr(d)))switch(T&&T.length>0&&(_=d.h,_.i=_.i.concat(T)),H){case 1:Di(d,5);break;case 4:Di(d,10);break;case 3:Di(d,6);break;default:Di(d,2)}}}function _u(d,_){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*_}function Di(d,_){if(d.j.info("Error code "+_),_==2){var T=m(d.bb,d),w=d.Ua;const H=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||He(w,"https"),zr(w),H?ei(w.toString(),T):yl(w.toString(),T)}else Ae(2);d.I=0,d.l&&d.l.pa(_),vu(d),Ua(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function vu(d){if(d.I=0,d.ja=[],d.l){const _=fl(d.h);(_.length!=0||d.i.length!=0)&&(D(d.ja,_),D(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function bu(d,_,T){var w=T instanceof An?Ce(T):new An(T);if(w.g!="")_&&(w.g=_+"."+w.g),Cs(w,w.u);else{var H=c.location;w=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const G=new An(null);w&&He(G,w),_&&(G.g=_),H&&Cs(G,H),T&&(G.h=T),w=G}return T=d.G,_=d.wa,T&&_&&Xt(w,T,_),Xt(w,"VER",d.ka),qr(d,w),w}function Tu(d,_,T){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new Jt(new xi({ab:T})):new Jt(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}n=Eu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Vs(){}Vs.prototype.g=function(d,_){return new hn(d,_)};function hn(d,_){Se.call(this),this.g=new Ns(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Zi(this)}v(hn,Se),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){bl(this.g)},hn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=xs(d),d=T);_.i.push(new xe(_.Ya++,d)),_.I==3&&Ii(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,hn.Z.N.call(this)};function Su(d){Ge.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const T in _){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(Su,Ge);function Au(){Nn.call(this),this.status=1}v(Au,Nn);function Zi(d){this.g=d}v(Zi,Eu),Zi.prototype.ra=function(){Le(this.g,"a")},Zi.prototype.qa=function(d){Le(this.g,new Su(d))},Zi.prototype.pa=function(d){Le(this.g,new Au)},Zi.prototype.oa=function(){Le(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,lS=function(){return new Vs},oS=function(){return Ma()},aS=pe,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,Qh=Pr,al.COMPLETE="complete",rS=al,nu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,fc=nu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,sS=Jt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const ib="@firebase/firestore",sb="4.9.3";class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Qo="12.7.0";const Ea=new mp("@firebase/firestore");function bo(){return Ea.logLevel}function ct(n,...t){if(Ea.logLevel<=Vt.DEBUG){const e=t.map(_p);Ea.debug(`Firestore (${Qo}): ${n}`,...e)}}function Ts(n,...t){if(Ea.logLevel<=Vt.ERROR){const e=t.map(_p);Ea.error(`Firestore (${Qo}): ${n}`,...e)}}function Po(n,...t){if(Ea.logLevel<=Vt.WARN){const e=t.map(_p);Ea.warn(`Firestore (${Qo}): ${n}`,...e)}}function _p(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,cS(n,i,e)}function cS(n,t,e){let i=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ts(i),new Error(i)}function de(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||cS(t,a,i)}function jt(n,t){return n}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends As{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wo{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class uS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(nn.UNAUTHENTICATED)))}shutdown(){}}class AC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class wC{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){de(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new wo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wo,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wo)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string",31837,{l:i}),new uS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class xC{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CC{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new xC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){de(this.o===void 0,3512);const i=o=>{o.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(de(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new rb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IC(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class hS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=IC(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function zm(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return cm(a)===cm(o)?zt(a,o):cm(a)?1:-1}return zt(n.length,t.length)}const DC=55296,MC=57343;function cm(n){const t=n.charCodeAt(0);return t>=DC&&t<=MC}function Lo(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const ab="__name__";class Ui{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Ui.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=Ui.isNumericId(t),a=Ui.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Ui.extractNumericId(t).compare(Ui.extractNumericId(e)):zm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _r.fromString(t.substring(4,t.length-2))}}class he extends Ui{construct(t,e,i){return new he(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new he(e)}static emptyPath(){return new he([])}}const OC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ui{construct(t,e,i){return new rn(t,e,i)}static isValidIdentifier(t){return OC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ab}static keyField(){return new rn([ab])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ht(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ht(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ht(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new ht(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(e)}static emptyPath(){return new rn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(he.fromString(t))}static fromName(t){return new yt(he.fromString(t).popFirst(5))}static empty(){return new yt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return he.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new he(t.slice()))}}function NC(n,t,e,i){if(t===!0&&i===!0)throw new ht(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function ob(n){if(yt.isDocumentKey(n))throw new ht(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Df(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function Xh(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Df(n);throw new ht(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ve(n,t){const e={typeString:n};return t&&(e.value=t),e}function Gc(n,t){if(!fS(n))throw new ht(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ht(st.INVALID_ARGUMENT,e);return!0}const lb=-62135596800,cb=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*cb);return new fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<lb)throw new ht(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cb}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gc(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-lb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Ve("string",fe._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new fe(0,0))}static max(){return new Et(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dc=-1;function kC(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Et.fromTimestamp(i===1e9?new fe(e+1,0):new fe(e,i));return new Tr(a,yt.empty(),t)}function VC(n){return new Tr(n.readTime,n.key,Dc)}class Tr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Tr(Et.min(),yt.empty(),Dc)}static max(){return new Tr(Et.max(),yt.empty(),Dc)}}function PC(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}const LC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Mf(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==LC)throw n;ct("LocalStore","Unexpectedly lost primary lease")}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):et.reject(e)}static resolve(t){return new et(((e,i)=>{e(t)}))}static reject(t){return new et(((e,i)=>{i(t)}))}static waitFor(t){return new et(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>i(f)))})),c=!0,o===a&&e()}))}static or(t){let e=et.resolve(!1);for(const i of t)e=e.next((a=>a?et.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new et(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new et(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function UC(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Xo(n){return n.name==="IndexedDbTransactionError"}class Of{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Of.ce=-1;const BC=-1;function Nf(n){return n==null}function cf(n){return n===0&&1/n==-1/0}function HC(n){return typeof n=="number"&&Number.isInteger(n)&&!cf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const dS="";function jC(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ub(t)),t=FC(n.get(e),t);return ub(t)}function FC(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case dS:e+="";break;default:e+=o}}return e}function ub(n){return n+dS+""}function hb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function $o(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function gS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ee{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new Ee(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ih(this.root,t,this.comparator,!0)}}class Ih{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??We.RED,this.left=a??We.EMPTY,this.right=o??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new We(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return We.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(t){return new fb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ue(this.comparator);return e.data=t,e}}class fb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cr{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new cr([])}unionWith(t){let e=new Ue(rn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new cr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class mS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mS("Invalid base64 string: "+o):o}})(t);return new Ze(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new Ze(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const qC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(n){if(de(!!n,39018),typeof n=="string"){let t=0;const e=qC.exec(n);if(de(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sr(n){return typeof n=="string"?Ze.fromBase64String(n):Ze.fromUint8Array(n)}const pS="server_timestamp",yS="__type__",_S="__previous_value__",vS="__local_write_time__";function vp(n){return(n?.mapValue?.fields||{})[yS]?.stringValue===pS}function kf(n){const t=n.mapValue.fields[_S];return vp(t)?kf(t):t}function Mc(n){const t=Er(n.mapValue.fields[vS].timestampValue);return new fe(t.seconds,t.nanos)}class GC{constructor(t,e,i,a,o,c,h,f,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const uf="(default)";class Oc{constructor(t,e){this.projectId=t,this.database=e||uf}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===uf}isEqual(t){return t instanceof Oc&&t.projectId===this.projectId&&t.database===this.database}}const bS="__type__",YC="__max__",Dh={mapValue:{}},TS="__vector__",hf="value";function Ar(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vp(n)?4:QC(n)?9007199254740991:KC(n)?10:11:St(28295,{value:n})}function Qi(n,t){if(n===t)return!0;const e=Ar(n);if(e!==Ar(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Mc(n).isEqual(Mc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Er(a.timestampValue),h=Er(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return Sr(a.bytesValue).isEqual(Sr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return be(a.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return be(a.integerValue)===be(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=be(a.doubleValue),h=be(o.doubleValue);return c===h?cf(c)===cf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Lo(n.arrayValue.values||[],t.arrayValue.values||[],Qi);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(hb(c)!==hb(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Qi(c[f],h[f])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function Nc(n,t){return(n.values||[]).find((e=>Qi(e,t)))!==void 0}function zo(n,t){if(n===t)return 0;const e=Ar(n),i=Ar(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=be(o.integerValue||o.doubleValue),f=be(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return db(n.timestampValue,t.timestampValue);case 4:return db(Mc(n),Mc(t));case 5:return zm(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Sr(o),f=Sr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=zt(h[m],f[m]);if(y!==0)return y}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(be(o.latitude),be(c.latitude));return h!==0?h:zt(be(o.longitude),be(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return gb(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[hf]?.arrayValue,y=f[hf]?.arrayValue,v=zt(m?.values?.length||0,y?.values?.length||0);return v!==0?v:gb(m,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Dh.mapValue&&c===Dh.mapValue)return 0;if(o===Dh.mapValue)return 1;if(c===Dh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const E=zm(f[v],y[v]);if(E!==0)return E;const S=zo(h[f[v]],m[y[v]]);if(S!==0)return S}return zt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function db(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=Er(n),i=Er(t),a=zt(e.seconds,i.seconds);return a!==0?a:zt(e.nanos,i.nanos)}function gb(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=zo(e[a],i[a]);if(o)return o}return zt(e.length,i.length)}function Uo(n){return Um(n)}function Um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Er(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Sr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=Um(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${Um(e.fields[c])}`;return a+"}"})(n.mapValue):St(61005,{value:n})}function $h(n){switch(Ar(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kf(n);return t?16+$h(t):16;case 5:return 2*n.stringValue.length;case 6:return Sr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+$h(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return $o(i.fields,((o,c)=>{a+=o.length+$h(c)})),a})(n.mapValue);default:throw St(13486,{value:n})}}function mb(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Bm(n){return!!n&&"integerValue"in n}function bp(n){return!!n&&"arrayValue"in n}function pb(n){return!!n&&"nullValue"in n}function yb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function um(n){return!!n&&"mapValue"in n}function KC(n){return(n?.mapValue?.fields||{})[bS]?.stringValue===TS}function bc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return $o(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=bc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=bc(n.arrayValue.values[e]);return t}return{...n}}function QC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===YC}class Hi{constructor(t){this.value=t}static empty(){return new Hi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!um(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=bc(e)}setAll(t){let e=rn.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=bc(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());um(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];um(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){$o(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new Hi(bc(this.value))}}class sn{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new sn(t,0,Et.min(),Et.min(),Et.min(),Hi.empty(),0)}static newFoundDocument(t,e,i,a){return new sn(t,1,e,Et.min(),i,a,0)}static newNoDocument(t,e){return new sn(t,2,e,Et.min(),Et.min(),Hi.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,Et.min(),Et.min(),Hi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ff{constructor(t,e){this.position=t,this.inclusive=e}}function _b(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(c.referenceValue),e.key):i=zo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function vb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qi(n.position[e],t.position[e]))return!1;return!0}class kc{constructor(t,e="asc"){this.field=t,this.dir=e}}function XC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class ES{}class Ne extends ES{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new WC(t,e,i):e==="array-contains"?new tR(t,i):e==="in"?new eR(t,i):e==="not-in"?new nR(t,i):e==="array-contains-any"?new iR(t,i):new Ne(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new ZC(t,i):new JC(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(zo(e,this.value)):e!==null&&Ar(this.value)===Ar(e)&&this.matchesComparison(zo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends ES{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new di(t,e)}matches(t){return SS(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SS(n){return n.op==="and"}function AS(n){return $C(n)&&SS(n)}function $C(n){for(const t of n.filters)if(t instanceof di)return!1;return!0}function Hm(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+Uo(n.value);if(AS(n))return n.filters.map((t=>Hm(t))).join(",");{const t=n.filters.map((e=>Hm(e))).join(",");return`${n.op}(${t})`}}function wS(n,t){return n instanceof Ne?(function(i,a){return a instanceof Ne&&i.op===a.op&&i.field.isEqual(a.field)&&Qi(i.value,a.value)})(n,t):n instanceof di?(function(i,a){return a instanceof di&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&wS(c,a.filters[h])),!0):!1})(n,t):void St(19439)}function xS(n){return n instanceof Ne?(function(e){return`${e.field.canonicalString()} ${e.op} ${Uo(e.value)}`})(n):n instanceof di?(function(e){return e.op.toString()+" {"+e.getFilters().map(xS).join(" ,")+"}"})(n):"Filter"}class WC extends Ne{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ZC extends Ne{constructor(t,e){super(t,"in",e),this.keys=CS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class JC extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=CS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function CS(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class tR extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return bp(e)&&Nc(e.arrayValue,this.value)}}class eR extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Nc(this.value.arrayValue,e)}}class nR extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Nc(this.value.arrayValue,e)}}class iR extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!bp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Nc(this.value.arrayValue,i)))}}class sR{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function bb(n,t=null,e=[],i=[],a=null,o=null,c=null){return new sR(n,t,e,i,a,o,c)}function Tp(n){const t=jt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Hm(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Nf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Uo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Uo(i))).join(",")),t.Te=e}return t.Te}function Ep(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!XC(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!wS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!vb(n.startAt,t.startAt)&&vb(n.endAt,t.endAt)}function jm(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Wo{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rR(n,t,e,i,a,o,c,h){return new Wo(n,t,e,i,a,o,c,h)}function Sp(n){return new Wo(n)}function Tb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RS(n){return n.collectionGroup!==null}function Tc(n){const t=jt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ue(rn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new kc(o,i))})),e.has(rn.keyField().canonicalString())||t.Ie.push(new kc(rn.keyField(),i))}return t.Ie}function ji(n){const t=jt(n);return t.Ee||(t.Ee=aR(t,Tc(n))),t.Ee}function aR(n,t){if(n.limitType==="F")return bb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new kc(a.field,o)}));const e=n.endAt?new ff(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ff(n.startAt.position,n.startAt.inclusive):null;return bb(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Fm(n,t){const e=n.filters.concat([t]);return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function qm(n,t,e){return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Vf(n,t){return Ep(ji(n),ji(t))&&n.limitType===t.limitType}function IS(n){return`${Tp(ji(n))}|lt:${n.limitType}`}function To(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>xS(a))).join(", ")}]`),Nf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Uo(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Uo(a))).join(",")),`Target(${i})`})(ji(n))}; limitType=${n.limitType})`}function Pf(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of Tc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const m=_b(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,Tc(i),a)||i.endAt&&!(function(c,h,f){const m=_b(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,Tc(i),a))})(n,t)}function oR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DS(n){return(t,e)=>{let i=!1;for(const a of Tc(n)){const o=lR(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function lR(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?zo(f,m):St(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}class wa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){$o(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}const cR=new Ee(yt.comparator);function wr(){return cR}const MS=new Ee(yt.comparator);function dc(...n){let t=MS;for(const e of n)t=t.insert(e.key,e);return t}function uR(n){let t=MS;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function ga(){return Ec()}function OS(){return Ec()}function Ec(){return new wa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const hR=new Ue(yt.comparator);function Ft(...n){let t=hR;for(const e of n)t=t.add(e);return t}const fR=new Ue(zt);function dR(){return fR}function Ap(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(t)?"-0":t}}function NS(n){return{integerValue:""+n}}function gR(n,t){return HC(t)?NS(t):Ap(n,t)}class Lf{constructor(){this._=void 0}}function mR(n,t,e){return n instanceof Gm?(function(a,o){const c={fields:{[yS]:{stringValue:pS},[vS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&vp(o)&&(o=kf(o)),o&&(c.fields[_S]=o),{mapValue:c}})(e,t):n instanceof df?kS(n,t):n instanceof gf?VS(n,t):(function(a,o){const c=yR(a,o),h=Eb(c)+Eb(a.Ae);return Bm(c)&&Bm(a.Ae)?NS(h):Ap(a.serializer,h)})(n,t)}function pR(n,t,e){return n instanceof df?kS(n,t):n instanceof gf?VS(n,t):e}function yR(n,t){return n instanceof Ym?(function(i){return Bm(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Gm extends Lf{}class df extends Lf{constructor(t){super(),this.elements=t}}function kS(n,t){const e=PS(t);for(const i of n.elements)e.some((a=>Qi(a,i)))||e.push(i);return{arrayValue:{values:e}}}class gf extends Lf{constructor(t){super(),this.elements=t}}function VS(n,t){let e=PS(t);for(const i of n.elements)e=e.filter((a=>!Qi(a,i)));return{arrayValue:{values:e}}}class Ym extends Lf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Eb(n){return be(n.integerValue||n.doubleValue)}function PS(n){return bp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _R(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof df&&a instanceof df||i instanceof gf&&a instanceof gf?Lo(i.elements,a.elements,Qi):i instanceof Ym&&a instanceof Ym?Qi(i.Ae,a.Ae):i instanceof Gm&&a instanceof Gm})(n.transform,t.transform)}class ya{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ya}static exists(t){return new ya(void 0,t)}static updateTime(t){return new ya(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class wp{}function LS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new bR(n.key,ya.none()):new xp(n.key,n.data,ya.none());{const e=n.data,i=Hi.empty();let a=new Ue(rn.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new zf(n.key,i,new cr(a.toArray()),ya.none())}}function vR(n,t,e){n instanceof xp?(function(a,o,c){const h=a.value.clone(),f=Ab(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof zf?(function(a,o,c){if(!Wh(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Ab(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(zS(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Sc(n,t,e,i){return n instanceof xp?(function(o,c,h,f){if(!Wh(o.precondition,c))return h;const m=o.value.clone(),y=wb(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof zf?(function(o,c,h,f){if(!Wh(o.precondition,c))return h;const m=wb(o.fieldTransforms,f,c),y=c.data;return y.setAll(zS(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(o,c,h){return Wh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function Sb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Lo(i,a,((o,c)=>_R(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class xp extends wp{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zf extends wp{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function Ab(n,t,e){const i=new Map;de(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,pR(c,h,e[a]))}return i}function wb(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,mR(o,c,t))}return i}class bR extends wp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TR{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&vR(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Sc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Sc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=OS();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=LS(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Et.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,((e,i)=>Sb(e,i)))&&Lo(this.baseMutations,t.baseMutations,((e,i)=>Sb(e,i)))}}class ER{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SR{constructor(t,e){this.count=t,this.unchangedNames=e}}var Oe,Ht;function US(n){if(n===void 0)return Ts("GRPC error has no .code"),st.UNKNOWN;switch(n){case Oe.OK:return st.OK;case Oe.CANCELLED:return st.CANCELLED;case Oe.UNKNOWN:return st.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return st.INTERNAL;case Oe.UNAVAILABLE:return st.UNAVAILABLE;case Oe.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Oe.NOT_FOUND:return st.NOT_FOUND;case Oe.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Oe.ABORTED:return st.ABORTED;case Oe.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Oe.DATA_LOSS:return st.DATA_LOSS;default:return St(39323,{code:n})}}(Ht=Oe||(Oe={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function AR(){return new TextEncoder}const wR=new _r([4294967295,4294967295],0);function xb(n){const t=AR().encode(n),e=new iS;return e.update(t),new Uint8Array(e.digest())}function Cb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new _r([e,i],0),new _r([a,o],0)]}class Cp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new gc(`Invalid padding: ${e}`);if(i<0)throw new gc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new gc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new gc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=_r.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(_r.fromNumber(i)));return a.compare(wR)===1&&(a=new _r([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=xb(t),[i,a]=Cb(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Cp(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=xb(t),[i,a]=Cb(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uf{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,Yc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Uf(Et.min(),a,new Ee(zt),wr(),Ft())}}class Yc{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Yc(i,e,Ft(),Ft(),Ft())}}class Zh{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class BS{constructor(t,e){this.targetId=t,this.Ce=e}}class HS{constructor(t,e,i=Ze.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class Rb{constructor(){this.ve=0,this.Fe=Ib(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),e=Ft(),i=Ft();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:St(38017,{changeType:o})}})),new Yc(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=Ib()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xR{constructor(t){this.Ge=t,this.ze=new Map,this.je=wr(),this.Je=Mh(),this.He=Mh(),this.Ye=new Ee(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(jm(o))if(i===0){const c=new yt(o.path);this.et(e,c,sn.newNoDocument(c,Et.min()))}else de(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=Sr(i).toUint8Array()}catch(f){if(f instanceof mS)return Po("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Cp(c,a,o)}catch(f){return Po(f instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&jm(h.target)){const f=new yt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,sn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ft();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new Uf(t,e,this.Ye,this.je,i);return this.je=wr(),this.Je=Mh(),this.He=Mh(),this.Ye=new Ee(zt),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Rb,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ue(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ue(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ct("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Rb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Mh(){return new Ee(yt.comparator)}function Ib(){return new Ee(yt.comparator)}const CR={asc:"ASCENDING",desc:"DESCENDING"},RR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IR={and:"AND",or:"OR"};class DR{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Km(n,t){return n.useProto3Json||Nf(t)?t:{value:t}}function Qm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function xo(n){return de(!!n,49232),Et.fromTimestamp((function(e){const i=Er(e);return new fe(i.seconds,i.nanos)})(n))}function FS(n,t){return Xm(n,t).canonicalString()}function Xm(n,t){const e=(function(a){return new he(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function qS(n){const t=he.fromString(n);return de(XS(t),10190,{key:t.toString()}),t}function hm(n,t){const e=qS(t);if(e.get(1)!==n.databaseId.projectId)throw new ht(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ht(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(YS(e))}function GS(n,t){return FS(n.databaseId,t)}function MR(n){const t=qS(n);return t.length===4?he.emptyPath():YS(t)}function Db(n){return new he(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YS(n){return de(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function OR(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:St(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(de(y===void 0||typeof y=="string",58123),Ze.fromBase64String(y||"")):(de(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ze.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?st.UNKNOWN:US(m.code);return new ht(y,m.message||"")})(c);e=new HS(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=hm(n,i.document.name),o=xo(i.document.updateTime),c=i.document.createTime?xo(i.document.createTime):Et.min(),h=new Hi({mapValue:{fields:i.document.fields}}),f=sn.newFoundDocument(a,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new Zh(m,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=hm(n,i.document),o=i.readTime?xo(i.readTime):Et.min(),c=sn.newNoDocument(a,o),h=i.removedTargetIds||[];e=new Zh([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=hm(n,i.document),o=i.removedTargetIds||[];e=new Zh([],o,a,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new SR(a,o),h=i.targetId;e=new BS(h,c)}}return e}function NR(n,t){return{documents:[GS(n,t.path)]}}function kR(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=GS(n,a);const o=(function(m){if(m.length!==0)return QS(di.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:Eo(E.field),direction:LR(E.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Km(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function VR(n){let t=MR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){de(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(v){const E=KS(v);return E instanceof di&&AS(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((E=>(function(D){return new kc(So(D.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,Nf(E)?null:E})(e.limit));let f=null;e.startAt&&(f=(function(v){const E=!!v.before,S=v.values||[];return new ff(S,E)})(e.startAt));let m=null;return e.endAt&&(m=(function(v){const E=!v.before,S=v.values||[];return new ff(S,E)})(e.endAt)),rR(t,a,c,o,h,"F",f,m)}function PR(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function KS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=So(e.unaryFilter.field);return Ne.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=So(e.unaryFilter.field);return Ne.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=So(e.unaryFilter.field);return Ne.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(e.unaryFilter.field);return Ne.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ne.create(So(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return di.create(e.compositeFilter.filters.map((i=>KS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(n):St(30097,{filter:n})}function LR(n){return CR[n]}function zR(n){return RR[n]}function UR(n){return IR[n]}function Eo(n){return{fieldPath:n.canonicalString()}}function So(n){return rn.fromServerFormat(n.fieldPath)}function QS(n){return n instanceof Ne?(function(e){if(e.op==="=="){if(yb(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NAN"}};if(pb(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(yb(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NOT_NAN"}};if(pb(e.value))return{unaryFilter:{field:Eo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(e.field),op:zR(e.op),value:e.value}}})(n):n instanceof di?(function(e){const i=e.getFilters().map((a=>QS(a)));return i.length===1?i[0]:{compositeFilter:{op:UR(e.op),filters:i}}})(n):St(54877,{filter:n})}function XS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ur{constructor(t,e,i,a,o=Et.min(),c=Et.min(),h=Ze.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BR{constructor(t){this.yt=t}}function HR(n){const t=VR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qm(t,t.limit,"L"):t}class jR{constructor(){this.Cn=new FR}addToCollectionParentIndex(t,e){return this.Cn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(Tr.min())}updateCollectionGroup(t,e,i){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class FR{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Ue(he.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Ue(he.comparator)).toArray()}}const Mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn($S,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Bo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}const Ob="LruGarbageCollector",qR=1048576;function Nb([n,t],[e,i]){const a=zt(n,e);return a===0?zt(t,i):a}class GR{constructor(t){this.Ir=t,this.buffer=new Ue(Nb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Nb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class YR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(Ob,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Xo(e)?ct(Ob,"Ignoring IndexedDB error during garbage collection: ",e):await Mf(e)}await this.Vr(3e5)}))}}class KR{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return et.resolve(Of.ce);const i=new GR(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Mb)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,c,h,f,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(m=Date.now(),bo()<=Vt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function QR(n,t){return new KR(n,t)}class XR{constructor(){this.changes=new wa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $R{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class WR{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Sc(i.mutation,a,cr.empty(),fe.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ft()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ft()){const a=ga();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=dc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=ga();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ft())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=wr();const c=Ec(),h=(function(){return Ec()})();return e.forEach(((f,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof zf)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Sc(y.mutation,m,y.mutation.getFieldMask(),fe.now())):c.set(m.key,cr.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new $R(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Ec();let a=new Ee(((c,h)=>c-h)),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let y=i.get(f)||cr.empty();y=h.applyToLocalView(m,y),i.set(f,y);const v=(a.get(h.batchId)||Ft()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,v=OS();y.forEach((E=>{if(!o.has(E)){const S=LS(e.get(E),i.get(E));S!==null&&v.set(E,S),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return et.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):RS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):et.resolve(ga());let h=Dc,f=o;return c.next((m=>et.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Ft()))).next((y=>({batchId:h,changes:uR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let a=dc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=dc();return this.indexManager.getCollectionParents(t,o).next((h=>et.forEach(h,(f=>{const m=(function(v,E){return new Wo(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,a).next((y=>{y.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,sn.newInvalidDocument(y)))}));let h=dc();return c.forEach(((f,m)=>{const y=o.get(f);y!==void 0&&Sc(y.mutation,m,cr.empty(),fe.now()),Pf(e,m)&&(h=h.insert(f,m))})),h}))}}class ZR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return et.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:xo(a.createTime)}})(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:HR(a.bundledQuery),readTime:xo(a.readTime)}})(e)),et.resolve()}}class JR{constructor(){this.overlays=new Ee(yt.comparator),this.qr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ga();return et.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),et.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),et.resolve()}getOverlaysForCollection(t,e,i){const a=ga(),o=e.length+1,c=new yt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return et.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new Ee(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=ga(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=ga(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return et.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ER(e,i));let o=this.qr.get(e);o===void 0&&(o=Ft(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class tI{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}class Rp{constructor(){this.Qr=new Ue(Fe.$r),this.Ur=new Ue(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Fe(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Fe(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new yt(new he([])),i=new Fe(e,t),a=new Fe(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new he([])),i=new Fe(e,t),a=new Fe(e,t+1);let o=Ft();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Fe(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Fe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}class eI{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(Fe.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TR(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Fe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return et.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?BC:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fe(e,0),a=new Fe(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),et.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ue(zt);return e.forEach((a=>{const o=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),et.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const c=new Fe(new yt(o),0);let h=new Ue(zt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Yr)),!0)}),c),et.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){de(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return et.forEach(e.mutations,(a=>{const o=new Fe(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Fe(e,0),a=this.Zr.firstAfterOrEqual(i);return et.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class nI{constructor(t){this.ri=t,this.docs=(function(){return new Ee(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return et.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let i=wr();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():sn.newInvalidDocument(a))})),et.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=wr();const c=e.path,h=new yt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||PC(VC(y),i)<=0||(a.has(y.key)||Pf(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return et.resolve(o)}getAllFromCollectionGroup(t,e,i,a){St(9500)}ii(t,e){return et.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new iI(this)}getSize(t){return et.resolve(this.size)}}class iI extends XR{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),et.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class sI{constructor(t){this.persistence=t,this.si=new wa((e=>Tp(e)),Ep),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Rp,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),et.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Bo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.Pr(e),et.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),et.waitFor(o).next((()=>a))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return et.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),et.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),et.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),et.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return et.resolve(i)}containsKey(t,e){return et.resolve(this._i.containsKey(e))}}class WS{constructor(t,e){this.ui={},this.overlays={},this.ci=new Of(0),this.li=!1,this.li=!0,this.hi=new tI,this.referenceDelegate=t(this),this.Pi=new sI(this),this.indexManager=new jR,this.remoteDocumentCache=(function(a){return new nI(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new BR(e),this.Ii=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new JR,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new eI(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ct("MemoryPersistence","Starting transaction:",t);const a=new rI(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return et.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class rI extends zC{constructor(t){super(),this.currentSequenceNumber=t}}class Ip{constructor(t){this.persistence=t,this.Ri=new Rp,this.Vi=null}static mi(t){return new Ip(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),et.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(i=>{const a=yt.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,Et.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return et.or([()=>et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class mf{constructor(t,e){this.persistence=t,this.pi=new wa((i=>jC(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=QR(this,e)}static mi(t,e){return new mf(t,e)}Ei(){}di(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return et.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?et.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,Et.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),et.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=$h(t.data.value)),e}br(t,e,i){return et.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return et.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Dp{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=Ft(),a=Ft();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Dp(t,e.fromCache,i,a)}}class aI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class oI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return i2()?8:UC(ln())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new aI;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(bo()<=Vt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",To(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(bo()<=Vt.DEBUG&&ct("QueryEngine","Query:",To(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(bo()<=Vt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",To(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(e))):et.resolve())}ys(t,e){if(Tb(e))return et.resolve(null);let i=ji(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=qm(e,null,"F"),i=ji(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ft(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,qm(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,a){return Tb(e)||a.isEqual(Et.min())?et.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,a)?et.resolve(null):(bo()<=Vt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),To(e)),this.vs(t,c,e,kC(a,Dc)).next((h=>h)))}))}Ds(t,e){let i=new Ue(DS(t));return e.forEach(((a,o)=>{Pf(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return bo()<=Vt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",To(e)),this.ps.getDocumentsMatchingQuery(t,e,Tr.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Mp="LocalStore",lI=3e8;class cI{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Ee(zt),this.xs=new wa((o=>Tp(o)),Ep),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new WR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function uI(n,t,e,i){return new cI(n,t,e,i)}async function ZS(n,t){const e=jt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ft();for(const m of a){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function JS(n){const t=jt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function hI(n,t){const e=jt(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,v))));let S=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(Ze.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(v,S),(function(M,R,U){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=lI?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,S,y)&&h.push(e.Pi.updateTargetData(o,S))}));let f=wr(),m=Ft();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(fI(o,c,t.documentUpdates).next((y=>{f=y.ks,m=y.qs}))),!i.isEqual(Et.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((v=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return et.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function fI(n,t,e){let i=Ft(),a=Ft();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=wr();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Et.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ct(Mp,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function dI(n,t){const e=jt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,et.resolve(a)):e.Pi.allocateTargetId(i).next((c=>(a=new ur(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function $m(n,t,e){const i=jt(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Xo(c))throw c;ct(Mp,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function kb(n,t,e){const i=jt(n);let a=Et.min(),o=Ft();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const v=jt(f),E=v.xs.get(y);return E!==void 0?et.resolve(v.Ms.get(E)):v.Pi.getTargetData(m,y)})(i,c,ji(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?a:Et.min(),e?o:Ft()))).next((h=>(gI(i,oR(t),h),{documents:h,Qs:o})))))}function gI(n,t,e){let i=n.Os.get(t)||Et.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class Vb{constructor(){this.activeTargetIds=dR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mI{constructor(){this.Mo=new Vb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Vb,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class pI{Oo(t){}shutdown(){}}const Pb="ConnectivityMonitor";class Lb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(Pb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(Pb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oh=null;function Wm(){return Oh===null?Oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oh++,"0x"+Oh.toString(16)}const fm="RestConnection",yI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _I{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===uf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const c=Wm(),h=this.zo(t,e.toUriEncodedString());ct(fm,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:m}=new URL(h),y=Yo(m);return this.Jo(t,h,f,i,y).then((v=>(ct(fm,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Po(fm,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(t,e,i,a,o,c){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=yI[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class vI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const tn="WebChannelConnection";class bI extends _I{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const c=Wm();return new Promise(((h,f)=>{const m=new sS;m.setWithCredentials(!0),m.listenOnce(rS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Qh.NO_ERROR:const v=m.getResponseJson();ct(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case Qh.TIMEOUT:ct(tn,`RPC '${t}' ${c} timed out`),f(new ht(st.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const E=m.getStatus();if(ct(tn,`RPC '${t}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S?.error;if(D&&D.status&&D.message){const M=(function(U){const Q=U.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Q)>=0?Q:st.UNKNOWN})(D.status);f(new ht(M,D.message))}else f(new ht(st.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ht(st.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ct(tn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ct(tn,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=Wm(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=lS(),h=oS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ct(tn,`Creating RPC '${t}' stream ${a}: ${y}`,f);const v=c.createWebChannel(y,f);this.I_(v);let E=!1,S=!1;const D=new vI({Yo:R=>{S?ct(tn,`Not sending because RPC '${t}' stream ${a} is closed:`,R):(E||(ct(tn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),E=!0),ct(tn,`RPC '${t}' stream ${a} sending:`,R),v.send(R))},Zo:()=>v.close()}),M=(R,U,Q)=>{R.listen(U,(X=>{try{Q(X)}catch(it){setTimeout((()=>{throw it}),0)}}))};return M(v,fc.EventType.OPEN,(()=>{S||(ct(tn,`RPC '${t}' stream ${a} transport opened.`),D.o_())})),M(v,fc.EventType.CLOSE,(()=>{S||(S=!0,ct(tn,`RPC '${t}' stream ${a} transport closed`),D.a_(),this.E_(v))})),M(v,fc.EventType.ERROR,(R=>{S||(S=!0,Po(tn,`RPC '${t}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),D.a_(new ht(st.UNAVAILABLE,"The operation could not be completed")))})),M(v,fc.EventType.MESSAGE,(R=>{if(!S){const U=R.data[0];de(!!U,16349);const Q=U,X=Q?.error||Q[0]?.error;if(X){ct(tn,`RPC '${t}' stream ${a} received error:`,X);const it=X.status;let Z=(function(x){const I=Oe[x];if(I!==void 0)return US(I)})(it),nt=X.message;Z===void 0&&(Z=st.INTERNAL,nt="Unknown error status: "+it+" with message "+X.message),S=!0,D.a_(new ht(Z,nt)),v.close()}else ct(tn,`RPC '${t}' stream ${a} received:`,U),D.u_(U)}})),M(h,aS.STAT_EVENT,(R=>{R.stat===Lm.PROXY?ct(tn,`RPC '${t}' stream ${a} detected buffering proxy`):R.stat===Lm.NOPROXY&&ct(tn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function dm(){return typeof document<"u"?document:null}function Bf(n){return new DR(n,!0)}class t1{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zb="PersistentStream";class TI{constructor(t,e,i,a,o,c,h,f){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(Ts(e.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ht(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(zb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ct(zb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EI extends TI{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=OR(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Et.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?xo(c.readTime):Et.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Db(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=jm(f)?{documents:NR(o,f)}:{query:kR(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=jS(o,c.resumeToken);const m=Km(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Et.min())>0){h.readTime=Qm(o,c.snapshotVersion.toTimestamp());const m=Km(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=PR(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Db(this.serializer),e.removeTarget=t,this.q_(e)}}class SI{}class AI extends SI{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ht(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,Xm(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(st.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,Xm(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wI{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(e),this.aa=!1):ct("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ho="RemoteStore";class xI{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Qc(this)&&(ct(Ho,"Restarting streams for network reachability change."),await(async function(f){const m=jt(f);m.Ea.add(4),await Kc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Hf(m)})(this))}))})),this.Ra=new wI(i,a)}}async function Hf(n){if(Qc(n))for(const t of n.da)await t(!0)}async function Kc(n){for(const t of n.da)await t(!1)}function e1(n,t){const e=jt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Vp(e)?kp(e):Zo(e).O_()&&Np(e,t))}function Op(n,t){const e=jt(n),i=Zo(e);e.Ia.delete(t),i.O_()&&n1(e,t),e.Ia.size===0&&(i.O_()?i.L_():Qc(e)&&e.Ra.set("Unknown"))}function Np(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Zo(n).Y_(t)}function n1(n,t){n.Va.Ue(t),Zo(n).Z_(t)}function kp(n){n.Va=new xR({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Zo(n).start(),n.Ra.ua()}function Vp(n){return Qc(n)&&!Zo(n).x_()&&n.Ia.size>0}function Qc(n){return jt(n).Ea.size===0}function i1(n){n.Va=void 0}async function CI(n){n.Ra.set("Online")}async function RI(n){n.Ia.forEach(((t,e)=>{Np(n,t)}))}async function II(n,t){i1(n),Vp(n)?(n.Ra.ha(t),kp(n)):n.Ra.set("Unknown")}async function DI(n,t,e){if(n.Ra.set("Online"),t instanceof HS&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){ct(Ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ub(n,i)}else if(t instanceof Zh?n.Va.Ze(t):t instanceof BS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Et.min()))try{const i=await JS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(Ze.EMPTY_BYTE_STRING,y.snapshotVersion)),n1(o,f);const v=new ur(y.target,f,m,y.sequenceNumber);Np(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){ct(Ho,"Failed to raise snapshot:",i),await Ub(n,i)}}async function Ub(n,t,e){if(!Xo(t))throw t;n.Ea.add(1),await Kc(n),n.Ra.set("Offline"),e||(e=()=>JS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(Ho,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Hf(n)}))}async function Bb(n,t){const e=jt(n);e.asyncQueue.verifyOperationInProgress(),ct(Ho,"RemoteStore received new credentials");const i=Qc(e);e.Ea.add(3),await Kc(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Hf(e)}async function MI(n,t){const e=jt(n);t?(e.Ea.delete(2),await Hf(e)):t||(e.Ea.add(2),await Kc(e),e.Ra.set("Unknown"))}function Zo(n){return n.ma||(n.ma=(function(e,i,a){const o=jt(e);return o.sa(),new EI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:CI.bind(null,n),t_:RI.bind(null,n),r_:II.bind(null,n),H_:DI.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Vp(n)?kp(n):n.Ra.set("Unknown")):(await n.ma.stop(),i1(n))}))),n.ma}class Pp{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new Pp(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s1(n,t){if(Ts("AsyncQueue",`${t}: ${n}`),Xo(n))return new ht(st.UNAVAILABLE,`${t}: ${n}`);throw n}class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=dc(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Co;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Hb{constructor(){this.ga=new Ee(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class jo{constructor(t,e,i,a,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new jo(t,e,Co.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class OI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class NI{constructor(){this.queries=jb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=jt(e),o=a.queries;a.queries=jb(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new ht(st.ABORTED,"Firestore shutting down"))}}function jb(){return new wa((n=>IS(n)),Vf)}async function kI(n,t){const e=jt(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new OI,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=s1(c,`Initialization of query '${To(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Lp(e)}async function VI(n,t){const e=jt(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function PI(n,t){const e=jt(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&Lp(e)}function LI(n,t,e){const i=jt(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function Lp(n){n.Ca.forEach((t=>{t.next()}))}var Zm,Fb;(Fb=Zm||(Zm={})).Ma="default",Fb.Cache="cache";class zI{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new jo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=jo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zm.Cache}}class r1{constructor(t){this.key=t}}class a1{constructor(t){this.key=t}}class UI{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=DS(t),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new Hb,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),S=Pf(this.query,v)?v:null,D=!!E&&this.mutatedKeys.has(E.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;E&&S?E.data.isEqual(S.data)?D!==M&&(i.track({type:3,doc:S}),R=!0):this.su(E,S)||(i.track({type:2,doc:S}),R=!0,(f&&this.eu(S,f)>0||m&&this.eu(S,m)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),R=!0):E&&!S&&(i.track({type:1,doc:E}),R=!0,(f||m)&&(h=!0)),R&&(S?(c=c.add(S),o=M?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,v)=>(function(S,D){const M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:R})}};return M(S)-M(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new jo(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ft(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new a1(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new r1(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ft();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zp="SyncEngine";class BI{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class HI{constructor(t){this.key=t,this.hu=!1}}class jI{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new wa((h=>IS(h)),Vf),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(yt.comparator),this.Au=new Map,this.Ru=new Rp,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FI(n,t,e=!0){const i=h1(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await o1(i,t,e,!0),a}async function qI(n,t){const e=h1(n);await o1(e,t,!0,!1)}async function o1(n,t,e,i){const a=await dI(n.localStore,ji(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await GI(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&e1(n.remoteStore,a),h}async function GI(n,t,e,i,a){n.pu=(v,E,S)=>(async function(M,R,U,Q){let X=R.view.ru(U);X.Cs&&(X=await kb(M.localStore,R.query,!1).then((({documents:C})=>R.view.ru(C,X))));const it=Q&&Q.targetChanges.get(R.targetId),Z=Q&&Q.targetMismatches.get(R.targetId)!=null,nt=R.view.applyChanges(X,M.isPrimaryClient,it,Z);return Gb(M,R.targetId,nt.au),nt.snapshot})(n,v,E,S);const o=await kb(n.localStore,t,!0),c=new UI(t,o.Qs),h=c.ru(o.documents),f=Yc.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,f);Gb(n,e,m.au);const y=new BI(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function YI(n,t,e){const i=jt(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!Vf(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await $m(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Op(i.remoteStore,a.targetId),Jm(i,a.targetId)})).catch(Mf)):(Jm(i,a.targetId),await $m(i.localStore,a.targetId,!0))}async function KI(n,t){const e=jt(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Op(e.remoteStore,i.targetId))}async function l1(n,t){const e=jt(n);try{const i=await hI(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(de(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?de(c.hu,14607):a.removedDocuments.size>0&&(de(c.hu,42227),c.hu=!1))})),await u1(e,i,t)}catch(i){await Mf(i)}}function qb(n,t,e){const i=jt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=jt(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,v)=>{for(const E of v.Sa)E.va(h)&&(m=!0)})),m&&Lp(f)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function QI(n,t,e){const i=jt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new Ee(yt.comparator);c=c.insert(o,sn.newNoDocument(o,Et.min()));const h=Ft().add(o),f=new Uf(Et.min(),new Map,new Ee(zt),c,h);await l1(i,f),i.du=i.du.remove(o),i.Au.delete(t),Up(i)}else await $m(i.localStore,t,!1).then((()=>Jm(i,t,e))).catch(Mf)}function Jm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||c1(n,i)}))}function c1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Op(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Up(n))}function Gb(n,t,e){for(const i of e)i instanceof r1?(n.Ru.addReference(i.key,t),XI(n,i)):i instanceof a1?(ct(zp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||c1(n,i.key)):St(19791,{wu:i})}function XI(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ct(zp,"New document in limbo: "+e),n.Eu.add(i),Up(n))}function Up(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(he.fromString(t)),i=n.fu.next();n.Au.set(i,new HI(e)),n.du=n.du.insert(e,i),e1(n.remoteStore,new ur(ji(Sp(e.path)),i,"TargetPurposeLimboResolution",Of.ce))}}async function u1(n,t,e){const i=jt(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Dp.As(f.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,m){const y=jt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>et.forEach(m,(E=>et.forEach(E.Es,(S=>y.persistence.referenceDelegate.addReference(v,E.targetId,S))).next((()=>et.forEach(E.ds,(S=>y.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))))))}catch(v){if(!Xo(v))throw v;ct(Mp,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const S=y.Ms.get(E),D=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,M)}}})(i.localStore,o))}async function $I(n,t){const e=jt(n);if(!e.currentUser.isEqual(t)){ct(zp,"User change. New user:",t.toKey());const i=await ZS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ht(st.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await u1(e,i.Ls)}}function WI(n,t){const e=jt(n),i=e.Au.get(t);if(i&&i.hu)return Ft().add(i.key);{let a=Ft();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function h1(n){const t=jt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QI.bind(null,t),t.Pu.H_=PI.bind(null,t.eventManager),t.Pu.yu=LI.bind(null,t.eventManager),t}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return uI(this.persistence,new oI,t.initialUser,this.serializer)}Cu(t){return new WS(Ip.mi,this.serializer)}Du(t){return new mI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class ZI extends pf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){de(this.persistence.referenceDelegate instanceof mf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YR(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new WS((i=>mf.mi(i,e)),this.serializer)}}class tp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$I.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new NI})()}createDatastore(t){const e=Bf(t.databaseInfo.databaseId),i=(function(o){return new bI(o)})(t.databaseInfo);return(function(o,c,h,f){return new AI(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new xI(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>qb(this.syncEngine,e,0)),(function(){return Lb.v()?new Lb:new pI})())}createSyncEngine(t,e){return(function(a,o,c,h,f,m,y){const v=new jI(a,o,c,h,f,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=jt(e);ct(Ho,"RemoteStore shutting down."),i.Ea.add(5),await Kc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tp.provider={build:()=>new tp};class JI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const xr="FirestoreClient";class tD{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=hS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ct(xr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ct(xr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=s1(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function gm(n,t){n.asyncQueue.verifyOperationInProgress(),ct(xr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await ZS(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Yb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await eD(n);ct(xr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Bb(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>Bb(t.remoteStore,a))),n._onlineComponents=t}async function eD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(xr,"Using user provided OfflineComponentProvider");try{await gm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Po("Error using user provided cache. Falling back to memory cache: "+e),await gm(n,new pf)}}else ct(xr,"Using default OfflineComponentProvider"),await gm(n,new ZI(void 0));return n._offlineComponents}async function nD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(xr,"Using user provided OnlineComponentProvider"),await Yb(n,n._uninitializedComponentsProvider._online)):(ct(xr,"Using default OnlineComponentProvider"),await Yb(n,new tp))),n._onlineComponents}async function Kb(n){const t=await nD(n),e=t.eventManager;return e.onListen=FI.bind(null,t.syncEngine),e.onUnlisten=YI.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=qI.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=KI.bind(null,t.syncEngine),e}function f1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const Qb=new Map;const d1="firestore.googleapis.com",Xb=!0;class $b{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=Xb}else this.host=t.host,this.ssl=t.ssl??Xb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qR)throw new ht(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bp{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $b(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new SC;switch(i.type){case"firstParty":return new CC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Qb.get(e);i&&(ct("ComponentProvider","Removing Datastore"),Qb.delete(e),i.terminate())})(this),Promise.resolve()}}function iD(n,t,e,i={}){n=Xh(n,Bp);const a=Yo(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(XE(`https://${h}`),$E("Firestore",!0)),o.host!==d1&&o.host!==h&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!ba(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=nn.MOCK_USER;else{m=Qx(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ht(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nn(v)}n._authCredentials=new AC(new uS(m,y))}}class xa{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xa(this.firestore,t,this._query)}}class an{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new an(this.firestore,t,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Gc(e,an._jsonSchema))return new an(t,i||null,new yt(he.fromString(e.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:Ve("string",an._jsonSchemaVersion),referencePath:Ve("string")};class Ro extends xa{constructor(t,e,i){super(t,e,Sp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new an(this.firestore,null,new yt(t))}withConverter(t){return new Ro(this.firestore,t,this._path)}}function sD(n,t,...e){if(n=Xn(n),n instanceof Bp){const i=he.fromString(t,...e);return ob(i),new Ro(n,null,i)}{if(!(n instanceof an||n instanceof Ro))throw new ht(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(he.fromString(t,...e));return ob(i),new Ro(n.firestore,null,i)}}const Wb="AsyncQueue";class Zb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t1(this,"async_queue_retry"),this._c=()=>{const i=dm();i&&ct(Wb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=dm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=dm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new wo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xo(t))throw t;ct(Wb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",Jb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Pp.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&St(47125,{Pc:Jb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Jb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function tT(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ep extends Bp{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new Zb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zb(t),this._firestoreClient=void 0,await t}}}function rD(n,t){const e=typeof n=="object"?n:tS(),i=typeof n=="string"?n:uf,a=yp(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=Yx("firestore");o&&iD(a,...o)}return a}function aD(n){if(n._terminated)throw new ht(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oD(n),n._firestoreClient}function oD(n){const t=n._freezeSettings(),e=(function(a,o,c,h){return new GC(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,f1(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new tD(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(Ze.fromBase64String(t))}catch(e){throw new ht(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gc(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ve("string",Kn._jsonSchemaVersion),bytes:Ve("string")};class g1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class m1{constructor(t){this._methodName=t}}class Fi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(t){if(Gc(t,Fi._jsonSchema))return new Fi(t.latitude,t.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Ve("string",Fi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class qi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gc(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new qi(t.vectorValues);throw new ht(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Ve("string",qi._jsonSchemaVersion),vectorValues:Ve("object")};const lD=/^__.*__$/;function p1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:n})}}class Hp{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Hp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return np(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(p1(this.Ac)&&lD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cD{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Bf(t)}Cc(t,e,i,a=!1){return new Hp({Ac:t,methodName:e,Dc:i,path:rn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uD(n){const t=n._freezeSettings(),e=Bf(n._databaseId);return new cD(n._databaseId,!!t.ignoreUndefinedProperties,e)}function hD(n,t,e,i=!1){return jp(e,n.Cc(i?4:3,t))}function jp(n,t){if(y1(n=Xn(n)))return dD("Unsupported field value:",t,n),fD(n,t);if(n instanceof m1)return(function(i,a){if(!p1(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let f=jp(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=Xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gR(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=fe.fromDate(i);return{timestampValue:Qm(a.serializer,o)}}if(i instanceof fe){const o=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qm(a.serializer,o)}}if(i instanceof Fi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Kn)return{bytesValue:jS(a.serializer,i._byteString)};if(i instanceof an){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:FS(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof qi)return(function(c,h){return{mapValue:{fields:{[bS]:{stringValue:TS},[hf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ap(h.serializer,m)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Df(i)}`)})(n,t)}function fD(n,t){const e={};return gS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$o(n,((i,a)=>{const o=jp(a,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function y1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fe||n instanceof Fi||n instanceof Kn||n instanceof an||n instanceof m1||n instanceof qi)}function dD(n,t,e){if(!y1(e)||!fS(e)){const i=Df(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}const gD=new RegExp("[~\\*/\\[\\]]");function mD(n,t,e){if(t.search(gD)>=0)throw np(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new g1(...t.split("."))._internalPath}catch{throw np(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function np(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new ht(st.INVALID_ARGUMENT,h+n+f)}class _1{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Fp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class pD extends _1{data(){return super.data()}}function Fp(n,t){return typeof t=="string"?mD(n,t):t instanceof g1?t._internalPath:t._delegate._internalPath}function yD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class v1 extends qp{}function _D(n,t,...e){let i=[];t instanceof qp&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof Yp)).length,h=o.filter((f=>f instanceof Gp)).length;if(c>1||c>0&&h>0)throw new ht(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Gp extends v1{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Gp(t,e,i)}_apply(t){const e=this._parse(t);return b1(t._query,e),new xa(t.firestore,t.converter,Fm(t._query,e))}_parse(t){const e=uD(t.firestore);return(function(o,c,h,f,m,y,v){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){nT(v,y);const D=[];for(const M of v)D.push(eT(f,o,M));E={arrayValue:{values:D}}}else E=eT(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||nT(v,y),E=hD(h,c,v,y==="in"||y==="not-in");return Ne.create(m,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Yp extends qp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Yp(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:di.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)b1(c,f),c=Fm(c,f)})(t._query,e),new xa(t.firestore,t.converter,Fm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kp extends v1{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Kp(t,e)}_apply(t){const e=(function(a,o,c){if(a.startAt!==null)throw new ht(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ht(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kc(o,c)})(t._query,this._field,this._direction);return new xa(t.firestore,t.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new Wo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function vD(n,t="asc"){const e=t,i=Fp("orderBy",n);return Kp._create(i,e)}function eT(n,t,e){if(typeof(e=Xn(e))=="string"){if(e==="")throw new ht(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(t)&&e.indexOf("/")!==-1)throw new ht(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(he.fromString(e));if(!yt.isDocumentKey(i))throw new ht(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return mb(n,new yt(i))}if(e instanceof an)return mb(n,e._key);throw new ht(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(e)}.`)}function nT(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function b1(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class bD{convertValue(t,e="none"){switch(Ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return $o(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[hf].arrayValue?.values?.map((i=>be(i.doubleValue)));return new qi(e)}convertGeoPoint(t){return new Fi(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=kf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Mc(t));default:return null}}convertTimestamp(t){const e=Er(t);return new fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=he.fromString(t);de(XS(i),9688,{name:t});const a=new Oc(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return a.isEqual(e)||Ts(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class mc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _a extends _1{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Fp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=_a._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Ve("string",_a._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Jh extends _a{data(t={}){return super.data(t)}}class Io{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new mc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Jh(this._firestore,this._userDataWriter,i.key,i,new mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Jh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new mc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Jh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new mc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:TD(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Io._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function TD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:Ve("string",Io._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class T1 extends bD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new an(this.firestore,null,e)}}function ED(n,...t){n=Xn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||tT(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(tT(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof an)c=Xh(n.firestore,ep),h=Sp(n._key.path),o={next:f=>{t[i]&&t[i](SD(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=Xh(n,xa);c=Xh(f.firestore,ep),h=f._query;const m=new T1(c);o={next:y=>{t[i]&&t[i](new Io(c,m,f,y))},error:t[i+1],complete:t[i+2]},yD(n._query)}return(function(m,y,v,E){const S=new JI(E),D=new zI(y,S,v);return m.asyncQueue.enqueueAndForget((async()=>kI(await Kb(m),D))),()=>{S.Nu(),m.asyncQueue.enqueueAndForget((async()=>VI(await Kb(m),D)))}})(aD(c),h,a,o)}function SD(n,t,e){const i=e.docs.get(t._key),a=new T1(n);return new _a(n,a,t._key,i,new mc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Qo=a})(Ko),Vo(new Ta("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new ep(new wC(i.getProvider("auth-internal")),new RC(c,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ht(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(m.options.projectId,y)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),yr(ib,sb,t),yr(ib,sb,"esm2020")})();function E1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AD=E1,S1=new Fc("auth","Firebase",E1());const yf=new mp("@firebase/auth");function wD(n,...t){yf.logLevel<=Vt.WARN&&yf.warn(`Auth (${Ko}): ${n}`,...t)}function tf(n,...t){yf.logLevel<=Vt.ERROR&&yf.error(`Auth (${Ko}): ${n}`,...t)}function Es(n,...t){throw Qp(n,...t)}function Gi(n,...t){return Qp(n,...t)}function A1(n,t,e){const i={...AD(),[t]:e};return new Fc("auth","Firebase",i).create(t,{appName:n.name})}function vr(n){return A1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return S1.create(n,...t)}function bt(n,t,...e){if(!n)throw Qp(t,...e)}function _s(n){const t="INTERNAL ASSERTION FAILED: "+n;throw tf(t),new Error(t)}function Ss(n,t){n||_s(t)}function ip(){return typeof self<"u"&&self.location?.href||""}function xD(){return iT()==="http:"||iT()==="https:"}function iT(){return typeof self<"u"&&self.location?.protocol||null}function CD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xD()||t2()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Xc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ss(e>t,"Short delay should be less than long delay!"),this.isMobile=Wx()||e2()}get(){return CD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xp(n,t){Ss(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class w1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ID={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MD=new Xc(3e4,6e4);function jf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Jo(n,t,e,i,a={}){return x1(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=qc({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return Jx()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Yo(n.emulatorConfig.host)&&(m.credentials="include"),w1.fetch()(await R1(n,n.config.apiHost,e,h),m)})}async function x1(n,t,e){n._canInitEmulator=!1;const i={...ID,...t};try{const a=new OD(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Nh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Nh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Nh(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw A1(n,y,m);Es(n,y)}}catch(a){if(a instanceof As)throw a;Es(n,"network-request-failed",{message:String(a)})}}async function C1(n,t,e,i,a={}){const o=await Jo(n,t,e,i,a);return"mfaPendingCredential"in o&&Es(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function R1(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?Xp(n.config,a):`${n.config.apiScheme}://${a}`;return DD.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class OD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Gi(this.auth,"network-request-failed")),MD.get())})}}function Nh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Gi(n,t,i);return a.customData._tokenResponse=e,a}async function ND(n,t){return Jo(n,"POST","/v1/accounts:delete",t)}async function _f(n,t){return Jo(n,"POST","/v1/accounts:lookup",t)}function Ac(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kD(n,t=!1){const e=Xn(n),i=await e.getIdToken(t),a=$p(i);bt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Ac(mm(a.auth_time)),issuedAtTime:Ac(mm(a.iat)),expirationTime:Ac(mm(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function mm(n){return Number(n)*1e3}function $p(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{const a=GE(e);return a?JSON.parse(a):(tf("Failed to decode base64 JWT payload"),null)}catch(a){return tf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function sT(n){const t=$p(n);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof As&&VD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function VD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class PD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vf(n){const t=n.auth,e=await n.getIdToken(),i=await Vc(n,_f(t,{idToken:e}));bt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?I1(a.providerUserInfo):[],c=zD(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,m=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new sp(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function LD(n){const t=Xn(n);await vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zD(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function I1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function UD(n,t){const e=await x1(n,{},async()=>{const i=qc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await R1(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&Yo(n.emulatorConfig.host)&&(f.credentials="include"),w1.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function BD(n,t){return Jo(n,"POST","/v2/accounts:revokeToken",jf(n,t))}class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const e=sT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await UD(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Do;return i&&(bt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(bt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(bt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return _s("not implemented")}}function sr(n,t){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new PD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Vc(this,this.stsTokenManager.getToken(this.auth,t));return bt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return kD(this,t)}reload(){return LD(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await vf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(vr(this.auth));const t=await this.getIdToken();return await Vc(this,ND(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:D,stsTokenManager:M}=e;bt(v&&M,t,"internal-error");const R=Do.fromJSON(this.name,M);bt(typeof v=="string",t,"internal-error"),sr(i,t.name),sr(a,t.name),bt(typeof E=="boolean",t,"internal-error"),bt(typeof S=="boolean",t,"internal-error"),sr(o,t.name),sr(c,t.name),sr(h,t.name),sr(f,t.name),sr(m,t.name),sr(y,t.name);const U=new ui({uid:v,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:R,createdAt:m,lastLoginAt:y});return D&&Array.isArray(D)&&(U.providerData=D.map(Q=>({...Q}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(t,e,i=!1){const a=new Do;a.updateFromServerResponse(e);const o=new ui({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await vf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];bt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?I1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Do;h.updateFromIdToken(i);const f=new ui({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new sp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const rT=new Map;function vs(n){Ss(n instanceof Function,"Expected a class definition");let t=rT.get(n);return t?(Ss(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,rT.set(n,t),t)}class D1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}D1.type="NONE";const aT=D1;function ef(n,t,e){return`firebase:${n}:${t}:${e}`}class Mo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=ef(this.userKey,a.apiKey,o),this.fullPersistenceKey=ef("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await _f(this.auth,{idToken:t}).catch(()=>{});return e?ui._fromGetAccountInfoResponse(this.auth,e,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Mo(vs(aT),t,i);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||vs(aT);const c=ef(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const E=await _f(t,{idToken:y}).catch(()=>{});if(!E)break;v=await ui._fromGetAccountInfoResponse(t,E,y)}else v=ui._fromJSON(t,y);m!==o&&(h=v),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Mo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Mo(o,t,i))}}function oT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(M1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P1(t))return"Blackberry";if(L1(t))return"Webos";if(O1(t))return"Safari";if((t.includes("chrome/")||N1(t))&&!t.includes("edge/"))return"Chrome";if(V1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function M1(n=ln()){return/firefox\//i.test(n)}function O1(n=ln()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function N1(n=ln()){return/crios\//i.test(n)}function k1(n=ln()){return/iemobile/i.test(n)}function V1(n=ln()){return/android/i.test(n)}function P1(n=ln()){return/blackberry/i.test(n)}function L1(n=ln()){return/webos/i.test(n)}function Wp(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HD(n=ln()){return Wp(n)&&!!window.navigator?.standalone}function jD(){return n2()&&document.documentMode===10}function z1(n=ln()){return Wp(n)||V1(n)||L1(n)||P1(n)||/windows phone/i.test(n)||k1(n)}function U1(n,t=[]){let e;switch(n){case"Browser":e=oT(ln());break;case"Worker":e=`${oT(ln())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ko}/${i}`}class FD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function qD(n,t={}){return Jo(n,"GET","/v2/passwordPolicy",jf(n,t))}const GD=6;class YD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??GD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class KD{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new FD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=vs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await _f(this,{idToken:t}),i=await ui._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ci(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(vr(this));const e=t?Xn(t):null;return e&&bt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qD(this),e=new YD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await BD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&vs(t)||this._popupRedirectResolver;bt(e,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[vs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=U1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&wD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ff(n){return Xn(n)}class lT{constructor(t){this.auth=t,this.observer=null,this.addObserver=u2(e=>this.observer=e)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QD(n){Zp=n}function XD(n){return Zp.loadJS(n)}function $D(){return Zp.gapiScript}function WD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function ZD(n,t){const e=yp(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(ba(o,t??{}))return a;Es(a,"already-initialized")}return e.initialize({options:t})}function JD(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(vs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function tM(n,t,e){const i=Ff(n);bt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=B1(t),{host:c,port:h}=eM(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),bt(ba(m,i.config.emulator)&&ba(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Yo(c)?(XE(`${o}//${c}${f}`),$E("Auth",!0)):nM()}function B1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function eM(n){const t=B1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:cT(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:cT(c)}}}function cT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function nM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class H1{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _s("not implemented")}_getIdTokenResponse(t){return _s("not implemented")}_linkToIdToken(t,e){return _s("not implemented")}_getReauthenticationResolver(t){return _s("not implemented")}}async function Oo(n,t){return C1(n,"POST","/v1/accounts:signInWithIdp",jf(n,t))}const iM="http://localhost";class Sa extends H1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Es("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new Sa(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Oo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Oo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Oo(t,e)}buildRequest(){const t={requestUri:iM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=qc(e)}return t}}class j1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $c extends j1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class rr extends $c{constructor(){super("facebook.com")}static credential(t){return Sa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Sa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ar.credential(e,i)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class or extends $c{constructor(){super("github.com")}static credential(t){return Sa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class lr extends $c{constructor(){super("twitter.com")}static credential(t,e){return Sa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return lr.credential(e,i)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function sM(n,t){return C1(n,"POST","/v1/accounts:signUp",jf(n,t))}class Cr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await ui._fromIdTokenResponse(t,i,a),c=uT(i);return new Cr({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=uT(i);return new Cr({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function uT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function rM(n){if(ci(n.app))return Promise.reject(vr(n));const t=Ff(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Cr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await sM(t,{returnSecureToken:!0}),i=await Cr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class bf extends As{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new bf(t,e,i,a)}}function F1(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(n,o,t,i):o})}async function aM(n,t,e=!1){const i=await Vc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Cr._forOperation(n,"link",i)}async function oM(n,t,e=!1){const{auth:i}=n;if(ci(i.app))return Promise.reject(vr(i));const a="reauthenticate";try{const o=await Vc(n,F1(i,a,t,n),e);bt(o.idToken,i,"internal-error");const c=$p(o.idToken);bt(c,i,"internal-error");const{sub:h}=c;return bt(n.uid===h,i,"user-mismatch"),Cr._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Es(i,"user-mismatch"),o}}async function lM(n,t,e=!1){if(ci(n.app))return Promise.reject(vr(n));const i="signIn",a=await F1(n,i,t),o=await Cr._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}function cM(n,t,e,i){return Xn(n).onIdTokenChanged(t,e,i)}function uM(n,t,e){return Xn(n).beforeAuthStateChanged(t,e)}function hM(n,t,e,i){return Xn(n).onAuthStateChanged(t,e,i)}const Tf="__sak";class q1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const fM=1e3,dM=10;class G1 extends q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);jD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,dM):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},fM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}G1.type="LOCAL";const gM=G1;class Y1 extends q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Y1.type="SESSION";const K1=Y1;function mM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class qf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new qf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await mM(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];function Jp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class pM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=Jp("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Yi(){return window}function yM(n){Yi().location.href=n}function Q1(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function _M(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vM(){return navigator?.serviceWorker?.controller||null}function bM(){return Q1()?self:null}const X1="firebaseLocalStorageDb",TM=1,Ef="firebaseLocalStorage",$1="fbase_key";class Wc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Gf(n,t){return n.transaction([Ef],t?"readwrite":"readonly").objectStore(Ef)}function EM(){const n=indexedDB.deleteDatabase(X1);return new Wc(n).toPromise()}function rp(){const n=indexedDB.open(X1,TM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ef,{keyPath:$1})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ef)?t(i):(i.close(),await EM(),t(await rp()))})})}async function hT(n,t,e){const i=Gf(n,!0).put({[$1]:t,value:e});return new Wc(i).toPromise()}async function SM(n,t){const e=Gf(n,!1).get(t),i=await new Wc(e).toPromise();return i===void 0?null:i.value}function fT(n,t){const e=Gf(n,!0).delete(t);return new Wc(e).toPromise()}const AM=800,wM=3;class W1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>wM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(bM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _M(),!this.activeServiceWorker)return;this.sender=new pM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rp();return await hT(t,Tf,"1"),await fT(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>hT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>SM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>fT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Gf(a,!1).getAll();return new Wc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W1.type="LOCAL";const xM=W1;new Xc(3e4,6e4);function CM(n,t){return t?vs(t):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ty extends H1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Oo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function RM(n){return lM(n.auth,new ty(n),n.bypassAuthState)}function IM(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),oM(e,new ty(n),n.bypassAuthState)}async function DM(n){const{auth:t,user:e}=n;return bt(e,t,"internal-error"),aM(e,new ty(n),n.bypassAuthState)}class Z1{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RM;case"linkViaPopup":case"linkViaRedirect":return DM;case"reauthViaPopup":case"reauthViaRedirect":return IM;default:Es(this.auth,"internal-error")}}resolve(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const MM=new Xc(2e3,1e4);class Ao extends Z1{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const t=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MM.get())};t()}}Ao.currentPopupAction=null;const OM="pendingRedirect",nf=new Map;class NM extends Z1{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=nf.get(this.auth._key());if(!t){try{const i=await kM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}nf.set(this.auth._key(),t)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kM(n,t){const e=LM(t),i=PM(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function VM(n,t){nf.set(n._key(),t)}function PM(n){return vs(n._redirectPersistence)}function LM(n){return ef(OM,n.config.apiKey,n.name)}async function zM(n,t,e=!1){if(ci(n.app))return Promise.reject(vr(n));const i=Ff(n),a=CM(i,t),c=await new NM(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const UM=600*1e3;class BM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!HM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!J1(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Gi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UM&&this.cachedEventUids.clear(),this.cachedEventUids.has(dT(t))}saveEventToCache(t){this.cachedEventUids.add(dT(t)),this.lastProcessedEventTime=Date.now()}}function dT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function J1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function HM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(n);default:return!1}}async function jM(n,t={}){return Jo(n,"GET","/v1/projects",t)}const FM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qM=/^https?/;async function GM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await jM(n);for(const e of t)try{if(YM(e))return}catch{}Es(n,"unauthorized-domain")}function YM(n){const t=ip(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!qM.test(e))return!1;if(FM.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const KM=new Xc(3e4,6e4);function gT(){const n=Yi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function QM(n){return new Promise((t,e)=>{function i(){gT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gT(),e(Gi(n,"network-request-failed"))},timeout:KM.get()})}if(Yi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Yi().gapi?.load)i();else{const a=WD("iframefcb");return Yi()[a]=()=>{gapi.load?i():e(Gi(n,"network-request-failed"))},XD(`${$D()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw sf=null,t})}let sf=null;function XM(n){return sf=sf||QM(n),sf}const $M=new Xc(5e3,15e3),WM="__/auth/iframe",ZM="emulator/auth/iframe",JM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eO(n){const t=n.config;bt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Xp(t,ZM):`https://${n.config.authDomain}/${WM}`,i={apiKey:t.apiKey,appName:n.name,v:Ko},a=tO.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${qc(i).slice(1)}`}async function nO(n){const t=await XM(n),e=Yi().gapi;return bt(e,n,"internal-error"),t.open({where:document.body,url:eO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JM,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=Gi(n,"network-request-failed"),h=Yi().setTimeout(()=>{o(c)},$M.get());function f(){Yi().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}const iO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sO=500,rO=600,aO="_blank",oO="http://localhost";class mT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lO(n,t,e,i=sO,a=rO){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...iO,width:i.toString(),height:a.toString(),top:o,left:c},m=ln().toLowerCase();e&&(h=N1(m)?aO:e),M1(m)&&(t=t||oO,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[S,D])=>`${E}${S}=${D},`,"");if(HD(m)&&h!=="_self")return cO(t||"",h),new mT(null);const v=window.open(t||"",h,y);bt(v,n,"popup-blocked");try{v.focus()}catch{}return new mT(v)}function cO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const uO="__/auth/handler",hO="emulator/auth/handler",fO=encodeURIComponent("fac");async function pT(n,t,e,i,a,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ko,eventId:a};if(t instanceof j1){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",c2(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof $c){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${fO}=${encodeURIComponent(f)}`:"";return`${dO(n)}?${qc(h).slice(1)}${m}`}function dO({config:n}){return n.emulator?Xp(n,hO):`https://${n.authDomain}/${uO}`}const pm="webStorageSupport";class gO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=zM,this._overrideRedirectResult=VM}async _openPopup(t,e,i,a){Ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await pT(t,e,i,ip(),a);return lO(t,o,Jp())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await pT(t,e,i,ip(),a);return yM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Ss(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await nO(t),i=new BM(t);return e.register("authEvent",a=>(bt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(pm,{type:pm},a=>{const o=a?.[0]?.[pm];o!==void 0&&e(!!o),Es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=GM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return z1()||O1()||Wp()}}const mO=gO;var yT="@firebase/auth",_T="1.12.0";class pO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _O(n){Vo(new Ta("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U1(n)},m=new KD(i,a,o,f);return JD(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Vo(new Ta("auth-internal",t=>{const e=Ff(t.getProvider("auth").getImmediate());return(i=>new pO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(yT,_T,yO(n)),yr(yT,_T,"esm2020")}const vO=300,bO=QE("authIdTokenMaxAge")||vO;let vT=null;const TO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>bO)return;const a=e?.token;vT!==a&&(vT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function EO(n=tS()){const t=yp(n,"auth");if(t.isInitialized())return t.getImmediate();const e=ZD(n,{popupRedirectResolver:mO,persistence:[xM,gM,K1]}),i=QE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=TO(o.toString());uM(e,c,()=>c(e.currentUser)),cM(e,h=>c(h))}}const a=YE("auth");return a&&tM(e,`http://${a}`),e}function SO(){return document.getElementsByTagName("head")?.[0]??document}QD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=Gi("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",SO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_O("Browser");function Zc(n){return n+.5|0}const hr=(n,t,e)=>Math.max(Math.min(n,e),t);function pc(n){return hr(Zc(n*2.55),0,255)}function br(n){return hr(Zc(n*255),0,255)}function ys(n){return hr(Zc(n/2.55)/100,0,1)}function bT(n){return hr(Zc(n*100),0,100)}const Yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ap=[..."0123456789ABCDEF"],AO=n=>ap[n&15],wO=n=>ap[(n&240)>>4]+ap[n&15],kh=n=>(n&240)>>4===(n&15),xO=n=>kh(n.r)&&kh(n.g)&&kh(n.b)&&kh(n.a);function CO(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Yn[n[1]]*17,g:255&Yn[n[2]]*17,b:255&Yn[n[3]]*17,a:t===5?Yn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Yn[n[1]]<<4|Yn[n[2]],g:Yn[n[3]]<<4|Yn[n[4]],b:Yn[n[5]]<<4|Yn[n[6]],a:t===9?Yn[n[7]]<<4|Yn[n[8]]:255})),e}const RO=(n,t)=>n<255?t(n):"";function IO(n){var t=xO(n)?AO:wO;return n?"#"+t(n.r)+t(n.g)+t(n.b)+RO(n.a,t):void 0}const DO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tA(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function MO(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function OO(n,t,e){const i=tA(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function NO(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function ey(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let f,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),f=NO(e,i,a,y,o),f=f*60+.5),[f|0,m||0,h]}function ny(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(br)}function iy(n,t,e){return ny(tA,n,t,e)}function kO(n,t,e){return ny(OO,n,t,e)}function VO(n,t,e){return ny(MO,n,t,e)}function eA(n){return(n%360+360)%360}function PO(n){const t=DO.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?pc(+t[5]):br(+t[5]));const a=eA(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=kO(a,o,c):t[1]==="hsv"?i=VO(a,o,c):i=iy(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function LO(n,t){var e=ey(n);e[0]=eA(e[0]+t),e=iy(e),n.r=e[0],n.g=e[1],n.b=e[2]}function zO(n){if(!n)return;const t=ey(n),e=t[0],i=bT(t[1]),a=bT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${ys(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const TT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ET={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UO(){const n={},t=Object.keys(ET),e=Object.keys(TT);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,TT[o]);o=parseInt(ET[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Vh;function BO(n){Vh||(Vh=UO(),Vh.transparent=[0,0,0,0]);const t=Vh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const HO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jO(n){const t=HO.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?pc(c):hr(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?pc(i):hr(i,0,255)),a=255&(t[4]?pc(a):hr(a,0,255)),o=255&(t[6]?pc(o):hr(o,0,255)),{r:i,g:a,b:o,a:e}}}function FO(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ys(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ym=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,vo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function qO(n,t,e){const i=vo(ys(n.r)),a=vo(ys(n.g)),o=vo(ys(n.b));return{r:br(ym(i+e*(vo(ys(t.r))-i))),g:br(ym(a+e*(vo(ys(t.g))-a))),b:br(ym(o+e*(vo(ys(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Ph(n,t,e){if(n){let i=ey(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=iy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function nA(n,t){return n&&Object.assign(t||{},n)}function ST(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=br(n[3]))):(t=nA(n,{r:0,g:0,b:0,a:1}),t.a=br(t.a)),t}function GO(n){return n.charAt(0)==="r"?jO(n):PO(n)}class Pc{constructor(t){if(t instanceof Pc)return t;const e=typeof t;let i;e==="object"?i=ST(t):e==="string"&&(i=CO(t)||BO(t)||GO(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=nA(this._rgb);return t&&(t.a=ys(t.a)),t}set rgb(t){this._rgb=ST(t)}rgbString(){return this._valid?FO(this._rgb):void 0}hexString(){return this._valid?IO(this._rgb):void 0}hslString(){return this._valid?zO(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-a.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*a.r+.5,i.g=255&m*i.g+o*a.g+.5,i.b=255&m*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=qO(this._rgb,t._rgb,e)),this}clone(){return new Pc(this.rgb)}alpha(t){return this._rgb.a=br(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Zc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ph(this._rgb,2,t),this}darken(t){return Ph(this._rgb,2,-t),this}saturate(t){return Ph(this._rgb,1,t),this}desaturate(t){return Ph(this._rgb,1,-t),this}rotate(t){return LO(this._rgb,t),this}}function gs(){}const YO=(()=>{let n=0;return()=>n++})();function Qt(n){return n==null}function ke(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ut(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function cn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Pi(n,t){return cn(n)?n:t}function It(n,t){return typeof n>"u"?t:n}const KO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function oe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Zt(n,t,e,i){let a,o,c;if(ke(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Ut(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function Sf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Af(n){if(ke(n))return n.map(Af);if(Ut(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Af(n[e[a]]);return t}return n}function iA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function QO(n,t,e,i){if(!iA(n))return;const a=t[n],o=e[n];Ut(a)&&Ut(o)?Lc(a,o,i):t[n]=Af(o)}function Lc(n,t,e){const i=ke(t)?t:[t],a=i.length;if(!Ut(n))return n;e=e||{};const o=e.merger||QO;let c;for(let h=0;h<a;++h){if(c=i[h],!Ut(c))continue;const f=Object.keys(c);for(let m=0,y=f.length;m<y;++m)o(f[m],n,c,e)}return n}function wc(n,t){return Lc(n,t,{merger:XO})}function XO(n,t,e){if(!iA(n))return;const i=t[n],a=e[n];Ut(i)&&Ut(a)?wc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Af(a))}const AT={"":n=>n,x:n=>n.x,y:n=>n.y};function $O(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function WO(n){const t=$O(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Fo(n,t){return(AT[t]||(AT[t]=WO(t)))(n)}function sy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const zc=n=>typeof n<"u",Rr=n=>typeof n=="function",wT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function ZO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const qe=Math.PI,fi=2*qe,JO=fi+qe,wf=Number.POSITIVE_INFINITY,tN=qe/180,hi=qe/2,la=qe/4,xT=qe*2/3,sA=Math.log10,Ki=Math.sign;function xc(n,t,e){return Math.abs(n-t)<e}function CT(n){const t=Math.round(n);n=xc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(sA(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function eN(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function nN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Uc(n){return!nN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function iN(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function sN(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ma(n){return n*(qe/180)}function rN(n){return n*(180/qe)}function RT(n){if(!cn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function aN(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*qe&&(o+=fi),{angle:o,distance:a}}function op(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function oN(n,t){return(n-t+JO)%fi-qe}function Bi(n){return(n%fi+fi)%fi}function rA(n,t,e,i){const a=Bi(n),o=Bi(t),c=Bi(e),h=Bi(o-a),f=Bi(c-a),m=Bi(a-o),y=Bi(a-c);return a===o||a===c||i&&o===c||h>f&&m<y}function On(n,t,e){return Math.max(t,Math.min(e,n))}function lN(n){return On(n,-32768,32767)}function fr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function ry(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const pa=(n,t,e,i)=>ry(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),cN=(n,t,e)=>ry(n,e,i=>n[i][t]>=e);function uN(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const aA=["push","pop","shift","splice","unshift"];function hN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),aA.forEach(e=>{const i="_onData"+sy(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function IT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(aA.forEach(o=>{delete n[o]}),delete n._chartjs)}function oA(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const lA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function cA(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,lA.call(window,()=>{i=!1,n.apply(t,e)}))}}function fN(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const ay=n=>n==="start"?"left":n==="end"?"right":"center",en=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,dN=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function gN(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:v,max:E,minDefined:S,maxDefined:D}=c.getUserBounds();if(S){if(a=Math.min(pa(f,y,v).lo,e?i:pa(t,y,c.getPixelForValue(v)).lo),m){const M=f.slice(0,a+1).reverse().findIndex(R=>!Qt(R[h.axis]));a-=Math.max(0,M)}a=On(a,0,i-1)}if(D){let M=Math.max(pa(f,c.axis,E,!0).hi+1,e?0:pa(t,y,c.getPixelForValue(E),!0).hi+1);if(m){const R=f.slice(M-1).findIndex(U=>!Qt(U[h.axis]));M+=Math.max(0,R)}o=On(M,a,i)-a}else o=i-a}return{start:a,count:o}}function mN(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const Lh=n=>n===0||n===1,DT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*fi/e)),MT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*fi/e)+1,Cc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*hi)+1,easeOutSine:n=>Math.sin(n*hi),easeInOutSine:n=>-.5*(Math.cos(qe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Lh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Lh(n)?n:DT(n,.075,.3),easeOutElastic:n=>Lh(n)?n:MT(n,.075,.3),easeInOutElastic(n){return Lh(n)?n:n<.5?.5*DT(n*2,.1125,.45):.5+.5*MT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Cc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Cc.easeInBounce(n*2)*.5:Cc.easeOutBounce(n*2-1)*.5+.5};function oy(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function OT(n){return oy(n)?n:new Pc(n)}function _m(n){return oy(n)?n:new Pc(n).saturate(.5).darken(.1).hexString()}const pN=["x","y","borderWidth","radius","tension"],yN=["color","borderColor","backgroundColor"];function _N(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:yN},numbers:{type:"number",properties:pN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function vN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const NT=new Map;function bN(n,t){t=t||{};const e=n+JSON.stringify(t);let i=NT.get(e);return i||(i=new Intl.NumberFormat(n,t),NT.set(e,i)),i}function uA(n,t,e){return bN(t,e).format(n)}const TN={values(n){return ke(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=EN(n,e)}const c=sA(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),uA(n,i,f)}};function EN(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var hA={formatters:TN};function SN(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Aa=Object.create(null),lp=Object.create(null);function Rc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function vm(n,t,e){return typeof t=="string"?Lc(Rc(n,t),e):Lc(Rc(n,""),t)}class AN{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>_m(a.backgroundColor),this.hoverBorderColor=(i,a)=>_m(a.borderColor),this.hoverColor=(i,a)=>_m(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return vm(this,t,e)}get(t){return Rc(this,t)}describe(t,e){return vm(lp,t,e)}override(t,e){return vm(Aa,t,e)}route(t,e,i,a){const o=Rc(this,t),c=Rc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[a];return Ut(f)?Object.assign({},m,f):It(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Te=new AN({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_N,vN,SN]);function wN(n){return!n||Qt(n.size)||Qt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function kT(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function ca(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function VT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function cp(n,t,e,i){fA(n,t,e,i,null)}function fA(n,t,e,i,a){let o,c,h,f,m,y,v,E;const S=t.pointStyle,D=t.rotation,M=t.radius;let R=(D||0)*tN;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(M)||M<=0)){switch(n.beginPath(),S){default:a?n.ellipse(e,i,a/2,M,0,0,fi):n.arc(e,i,M,0,fi),n.closePath();break;case"triangle":y=a?a/2:M,n.moveTo(e+Math.sin(R)*y,i-Math.cos(R)*M),R+=xT,n.lineTo(e+Math.sin(R)*y,i-Math.cos(R)*M),R+=xT,n.lineTo(e+Math.sin(R)*y,i-Math.cos(R)*M),n.closePath();break;case"rectRounded":m=M*.516,f=M-m,c=Math.cos(R+la)*f,v=Math.cos(R+la)*(a?a/2-m:f),h=Math.sin(R+la)*f,E=Math.sin(R+la)*(a?a/2-m:f),n.arc(e-v,i-h,m,R-qe,R-hi),n.arc(e+E,i-c,m,R-hi,R),n.arc(e+v,i+h,m,R,R+hi),n.arc(e-E,i+c,m,R+hi,R+qe),n.closePath();break;case"rect":if(!D){f=Math.SQRT1_2*M,y=a?a/2:f,n.rect(e-y,i-f,2*y,2*f);break}R+=la;case"rectRot":v=Math.cos(R)*(a?a/2:M),c=Math.cos(R)*M,h=Math.sin(R)*M,E=Math.sin(R)*(a?a/2:M),n.moveTo(e-v,i-h),n.lineTo(e+E,i-c),n.lineTo(e+v,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":R+=la;case"cross":v=Math.cos(R)*(a?a/2:M),c=Math.cos(R)*M,h=Math.sin(R)*M,E=Math.sin(R)*(a?a/2:M),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":v=Math.cos(R)*(a?a/2:M),c=Math.cos(R)*M,h=Math.sin(R)*M,E=Math.sin(R)*(a?a/2:M),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),R+=la,v=Math.cos(R)*(a?a/2:M),c=Math.cos(R)*M,h=Math.sin(R)*M,E=Math.sin(R)*(a?a/2:M),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=a?a/2:Math.cos(R)*M,h=Math.sin(R)*M,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(a?a/2:M),i+Math.sin(R)*M);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Bc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Yf(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Kf(n){n.restore()}function xN(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function CN(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function RN(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Qt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function IN(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=a.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function DN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Hc(n,t,e,i,a,o={}){const c=ke(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=a.string,RN(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&DN(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Qt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),IN(n,e,i,m,o),i+=Number(a.lineHeight);n.restore()}function xf(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*qe,qe,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,qe,hi,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,hi,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-hi,!0),n.lineTo(e+c.topLeft,i)}const MN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ON=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function NN(n,t){const e=(""+n).match(MN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const kN=n=>+n||0;function dA(n,t){const e={},i=Ut(t),a=i?Object.keys(t):t,o=Ut(n)?i?c=>It(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=kN(o(c));return e}function gA(n){return dA(n,{top:"y",right:"x",bottom:"y",left:"x"})}function No(n){return dA(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $n(n){const t=gA(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function on(n,t){n=n||{},t=t||Te.font;let e=It(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=It(n.style,t.style);i&&!(""+i).match(ON)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:It(n.family,t.family),lineHeight:NN(It(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:It(n.weight,t.weight),string:""};return a.string=wN(a),a}function zh(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function VN(n,t,e){const{min:i,max:a}=n,o=KO(t,(a-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Ca(n,t){return Object.assign(Object.create(n),t)}function ly(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=_A("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>ly([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return pA(h,f,()=>FN(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return LT(h).includes(f)},ownKeys(h){return LT(h)},set(h,f,m){const y=h._storage||(h._storage=a());return h[f]=y[f]=m,delete h._keys,!0}})}function qo(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:mA(n,i),setContext:o=>qo(n,o,e,i),override:o=>qo(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return pA(o,c,()=>LN(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function mA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Rr(e)?e:()=>e,isIndexable:Rr(i)?i:()=>i}}const PN=(n,t)=>n?n+sy(t):t,cy=(n,t)=>Ut(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function pA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function LN(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return Rr(h)&&c.isScriptable(t)&&(h=zN(t,h,n,e)),ke(h)&&h.length&&(h=UN(t,h,n,c.isIndexable)),cy(t,h)&&(h=qo(h,a,o&&o[t],c)),h}function zN(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),cy(n,f)&&(f=uy(a._scopes,a,n,f)),f}function UN(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Ut(t[0])){const f=t,m=a._scopes.filter(y=>y!==f);t=[];for(const y of f){const v=uy(m,a,n,y);t.push(qo(v,o,c&&c[n],h))}}return t}function yA(n,t,e){return Rr(n)?n(t,e):n}const BN=(n,t)=>n===!0?t:typeof n=="string"?Fo(t,n):void 0;function HN(n,t,e,i,a){for(const o of t){const c=BN(e,o);if(c){n.add(c);const h=yA(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function uy(n,t,e,i){const a=t._rootScopes,o=yA(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let f=PT(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=PT(h,c,o,f,i),f===null)?!1:ly(Array.from(h),[""],a,o,()=>jN(t,e,i))}function PT(n,t,e,i,a){for(;e;)e=HN(n,t,e,i,a);return e}function jN(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return ke(a)&&Ut(e)?e:a||{}}function FN(n,t,e,i){let a;for(const o of t)if(a=_A(PN(o,n),e),typeof a<"u")return cy(n,a)?uy(e,i,n,a):a}function _A(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function LT(n){let t=n._keys;return t||(t=n._keys=qN(n._scopes)),t}function qN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const GN=Number.EPSILON||1e-14,Go=(n,t)=>t<n.length&&!n[t].skip&&n[t],vA=n=>n==="x"?"y":"x";function YN(n,t,e,i){const a=n.skip?t:n,o=t,c=e.skip?t:e,h=op(o,a),f=op(c,o);let m=h/(h+f),y=f/(h+f);m=isNaN(m)?0:m,y=isNaN(y)?0:y;const v=i*m,E=i*y;return{previous:{x:o.x-v*(c.x-a.x),y:o.y-v*(c.y-a.y)},next:{x:o.x+E*(c.x-a.x),y:o.y+E*(c.y-a.y)}}}function KN(n,t,e){const i=n.length;let a,o,c,h,f,m=Go(n,0);for(let y=0;y<i-1;++y)if(f=m,m=Go(n,y+1),!(!f||!m)){if(xc(t[y],0,GN)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=a*c*t[y],e[y+1]=o*c*t[y])}}function QN(n,t,e="x"){const i=vA(e),a=n.length;let o,c,h,f=Go(n,0);for(let m=0;m<a;++m){if(c=h,h=f,f=Go(n,m+1),!h)continue;const y=h[e],v=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=v-o*t[m]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=v+o*t[m])}}function XN(n,t="x"){const e=vA(t),i=n.length,a=Array(i).fill(0),o=Array(i);let c,h,f,m=Go(n,0);for(c=0;c<i;++c)if(h=f,f=m,m=Go(n,c+1),!!f){if(m){const y=m[t]-f[t];a[c]=y!==0?(m[e]-f[e])/y:0}o[c]=h?m?Ki(a[c-1])!==Ki(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}KN(n,a,o),QN(n,o,t)}function Uh(n,t,e){return Math.max(Math.min(n,e),t)}function $N(n,t){let e,i,a,o,c,h=Bc(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Bc(n[e+1],t),o&&(a=n[e],c&&(a.cp1x=Uh(a.cp1x,t.left,t.right),a.cp1y=Uh(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=Uh(a.cp2x,t.left,t.right),a.cp2y=Uh(a.cp2y,t.top,t.bottom)))}function WN(n,t,e,i,a){let o,c,h,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")XN(n,a);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=YN(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}t.capBezierPoints&&$N(n,e)}function hy(){return typeof window<"u"&&typeof document<"u"}function fy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Cf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Qf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ZN(n,t){return Qf(n).getPropertyValue(t)}const JN=["top","right","bottom","left"];function va(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=JN[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const tk=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function ek(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,f;if(tk(a,o,n.target))h=a,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function fa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=Qf(e),o=a.boxSizing==="border-box",c=va(a,"padding"),h=va(a,"border","width"),{x:f,y:m,box:y}=ek(n,e),v=c.left+(y&&h.left),E=c.top+(y&&h.top);let{width:S,height:D}=t;return o&&(S-=c.width+h.width,D-=c.height+h.height),{x:Math.round((f-v)/S*e.width/i),y:Math.round((m-E)/D*e.height/i)}}function nk(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&fy(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Qf(o),f=va(h,"border","width"),m=va(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=Cf(h.maxWidth,o,"clientWidth"),a=Cf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||wf,maxHeight:a||wf}}const dr=n=>Math.round(n*10)/10;function ik(n,t,e,i){const a=Qf(n),o=va(a,"margin"),c=Cf(a.maxWidth,n,"clientWidth")||wf,h=Cf(a.maxHeight,n,"clientHeight")||wf,f=nk(n,t,e);let{width:m,height:y}=f;if(a.boxSizing==="content-box"){const E=va(a,"border","width"),S=va(a,"padding");m-=S.width+E.width,y-=S.height+E.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=dr(Math.min(m,c,f.maxWidth)),y=dr(Math.min(y,h,f.maxHeight)),m&&!y&&(y=dr(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,m=dr(Math.floor(y*i))),{width:m,height:y}}function zT(n,t,e){const i=t||1,a=dr(n.height*i),o=dr(n.width*i);n.height=dr(n.height),n.width=dr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const sk=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};hy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function UT(n,t){const e=ZN(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function da(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function rk(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function ak(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=da(n,a,e),h=da(a,o,e),f=da(o,t,e),m=da(c,h,e),y=da(h,f,e);return da(m,y,e)}const ok=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},lk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ko(n,t,e){return n?ok(t,e):lk()}function bA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function TA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function EA(n){return n==="angle"?{between:rA,compare:oN,normalize:Bi}:{between:fr,compare:(t,e)=>t-e,normalize:t=>t}}function BT({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function ck(n,t,e){const{property:i,start:a,end:o}=e,{between:c,normalize:h}=EA(i),f=t.length;let{start:m,end:y,loop:v}=n,E,S;if(v){for(m+=f,y+=f,E=0,S=f;E<S&&c(h(t[m%f][i]),a,o);++E)m--,y--;m%=f,y%=f}return y<m&&(y+=f),{start:m,end:y,loop:v,style:n.style}}function SA(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,c=t.length,{compare:h,between:f,normalize:m}=EA(i),{start:y,end:v,loop:E,style:S}=ck(n,t,e),D=[];let M=!1,R=null,U,Q,X;const it=()=>f(a,X,U)&&h(a,X)!==0,Z=()=>h(o,U)===0||f(o,X,U),nt=()=>M||it(),C=()=>!M||Z();for(let x=y,I=y;x<=v;++x)Q=t[x%c],!Q.skip&&(U=m(Q[i]),U!==X&&(M=f(U,a,o),R===null&&nt()&&(R=h(U,a)===0?x:I),R!==null&&C()&&(D.push(BT({start:R,end:x,loop:E,count:c,style:S})),R=null),I=x,X=U));return R!==null&&D.push(BT({start:R,end:v,loop:E,count:c,style:S})),D}function AA(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=SA(i[a],n.points,t);o.length&&e.push(...o)}return e}function uk(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function hk(n,t,e,i){const a=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const m=n[f%a];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%a,end:(f-1)%a,loop:i}),t=c=m.stop?f:null):(c=f,h.skip&&(t=f)),h=m}return c!==null&&o.push({start:t%a,end:c%a,loop:i}),o}function fk(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:c,end:h}=uk(e,a,o,i);if(i===!0)return HT(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+a:h,m=!!n._fullLoop&&c===0&&h===a-1;return HT(n,hk(e,c,f,m),e,t)}function HT(n,t,e,i){return!i||!i.setContext||!e?t:dk(n,t,e,i)}function dk(n,t,e,i){const a=n._chart.getContext(),o=jT(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,m=[];let y=o,v=t[0].start,E=v;function S(D,M,R,U){const Q=h?-1:1;if(D!==M){for(D+=f;e[D%f].skip;)D-=Q;for(;e[M%f].skip;)M+=Q;D%f!==M%f&&(m.push({start:D%f,end:M%f,loop:R,style:U}),y=U,v=M%f)}}for(const D of t){v=h?v:D.start;let M=e[v%f],R;for(E=v+1;E<=D.end;E++){const U=e[E%f];R=jT(i.setContext(Ca(a,{type:"segment",p0:M,p1:U,p0DataIndex:(E-1)%f,p1DataIndex:E%f,datasetIndex:c}))),gk(R,y)&&S(v,E-1,D.loop,y),M=U,y=R}v<E-1&&S(v,E-1,D.loop,y)}return m}function jT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function gk(n,t){if(!t)return!1;const e=[],i=function(a,o){return oy(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Bh(n,t,e){return n.options.clip?n[e]:t[e]}function mk(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Bh(e,t,"left"),right:Bh(e,t,"right"),top:Bh(i,t,"top"),bottom:Bh(i,t,"bottom")}:t}function wA(n,t){const e=t._clip;if(e.disabled)return!1;const i=mk(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class pk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=lA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ms=new pk;const FT="transparent",yk={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=OT(n||FT),a=i.valid&&OT(t||FT);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class _k{constructor(t,e,i,a){const o=e[i];a=zh([t.to,a,o,t.from]);const c=zh([t.from,o,a]);this._active=!0,this._fn=t.fn||yk[t.type||typeof c],this._easing=Cc[t.easing]||Cc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=zh([t.to,e,a,t.from]),this._from=zh([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class xA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ut(t))return;const e=Object.keys(Te.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Ut(o))return;const c={};for(const h of e)c[h]=o[h];(ke(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=bk(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&vk(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[m];let v=o[m];const E=i.get(m);if(v)if(E&&v.active()){v.update(E,y,h);continue}else v.cancel();if(!E||!E.duration){t[m]=y;continue}o[m]=v=new _k(E,t,m,y),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ms.add(this._chart,i),!0}}function vk(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function bk(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function qT(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function Tk(n,t,e){if(e===!1)return!1;const i=qT(n,e),a=qT(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function Ek(n){let t,e,i,a;return Ut(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function CA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function GT(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(f=+a[c],f===e){if(y=!0,i.all)continue;break}m=n.values[f],cn(m)&&(o||t===0||Ki(t)===Ki(m))&&(t+=m)}return!y&&!i.all?0:t}function Sk(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,y;for(f=0,m=c.length;f<m;++f)y=c[f],h[f]={[a]:y,[o]:n[y]};return h}function bm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Ak(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function wk(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function xk(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function YT(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function KT(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,y=Ak(o,c,i),v=t.length;let E;for(let S=0;S<v;++S){const D=t[S],{[f]:M,[m]:R}=D,U=D._stacks||(D._stacks={});E=U[m]=xk(a,y,M),E[h]=R,E._top=YT(E,c,!0,i.type),E._bottom=YT(E,c,!1,i.type);const Q=E._visualValues||(E._visualValues={});Q[h]=R}}function Tm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Ck(n,t){return Ca(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Rk(n,t,e){return Ca(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function oc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Em=n=>n==="reset"||n==="none",QT=(n,t)=>t?n:Object.assign({},n),Ik=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:CA(e,!0),values:null};class dy{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&oc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(v,E,S,D)=>v==="x"?E:v==="r"?D:S,o=e.xAxisID=It(i.xAxisID,Tm(t,"x")),c=e.yAxisID=It(i.yAxisID,Tm(t,"y")),h=e.rAxisID=It(i.rAxisID,Tm(t,"r")),f=e.indexAxis,m=e.iAxisID=a(f,o,c,h),y=e.vAxisID=a(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&IT(this._data,this),t._stacked&&oc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ut(e)){const a=this._cachedMeta;this._data=Sk(e,a)}else if(i!==e){if(i){IT(i,this);const a=this._cachedMeta;oc(a),a._parsed=[]}e&&Object.isExtensible(e)&&hN(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=bm(e.vScale,e),e.stack!==i.stack&&(a=!0,oc(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(KT(this,e._parsed),e._stacked=bm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,v,E;if(this._parsing===!1)i._parsed=a,i._sorted=!0,E=a;else{ke(a[t])?E=this.parseArrayData(i,a,t,e):Ut(a[t])?E=this.parseObjectData(i,a,t,e):E=this.parsePrimitiveData(i,a,t,e);const S=()=>v[h]===null||m&&v[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=v=E[y],f&&(S()&&(f=!1),m=v);i._sorted=f}c&&KT(this,E)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),y=o===c,v=new Array(a);let E,S,D;for(E=0,S=a;E<S;++E)D=E+i,v[E]={[h]:y||o.parse(m[D],D),[f]:c.parse(e[D],D)};return v}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let f,m,y,v;for(f=0,m=a;f<m;++f)y=f+i,v=e[y],h[f]={x:o.parse(v[0],y),y:c.parse(v[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let y,v,E,S;for(y=0,v=a;y<v;++y)E=y+i,S=e[E],m[y]={x:o.parse(Fo(S,h),E),y:c.parse(Fo(S,f),E)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:CA(a,!0),values:e._stacks[t.axis]._visualValues};return GT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=GT(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),f=Ik(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=wk(h);let E,S;function D(){S=a[E];const M=S[h.axis];return!cn(S[t.axis])||y>M||v<M}for(E=0;E<c&&!(!D()&&(this.updateRangeFromParsed(m,t,S,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!D()){this.updateRangeFromParsed(m,t,S,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],cn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Ek(It(this.options.clip,Tk(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||a.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const v=a[y];v.hidden||(v.active&&m?c.push(v):v.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=Rk(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Ck(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&zc(i);if(h)return QT(h,f);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],E=m.getOptionScopes(this.getDataset(),y),S=Object.keys(Te.elements[t]),D=()=>this.getContext(i,a,e),M=m.resolveNamedOptions(E,S,D,v);return M.$shared&&(M.$shared=f,o[c]=Object.freeze(QT(M,f))),M}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(a.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),E=y.getOptionScopes(this.getDataset(),v);f=y.createResolver(E,this.getContext(t,i,e))}const m=new xA(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Em(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){Em(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!Em(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&oc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Dk(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,o=e.length;a<o;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=oA(i.sort((a,o)=>a-o))}return n._cache.$bar}function Mk(n){const t=n.iScale,e=Dk(t,n.type);let i=t._length,a,o,c,h;const f=()=>{c===32767||c===-32768||(zc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(a=0,o=e.length;a<o;++a)c=t.getPixelForValue(e[a]),f();for(h=void 0,a=0,o=t.ticks.length;a<o;++a)c=t.getPixelForTick(a),f();return i}function Ok(n,t,e,i){const a=e.barThickness;let o,c;return Qt(a)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function Nk(n,t,e,i){const a=t.pixels,o=a[n];let c=n>0?a[n-1]:null,h=n<a.length-1?a[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function kk(n,t,e,i){const a=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(a,o),h=Math.max(a,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:h}}function RA(n,t,e,i){return ke(n)?kk(n,t,e,i):t[e.axis]=e.parse(n,i),t}function XT(n,t,e,i){const a=n.iScale,o=n.vScale,c=a.getLabels(),h=a===o,f=[];let m,y,v,E;for(m=e,y=e+i;m<y;++m)E=t[m],v={},v[a.axis]=h||a.parse(c[m],m),f.push(RA(E,v,o,m));return f}function Sm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Vk(n,t,e){return n!==0?Ki(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Pk(n){let t,e,i,a,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",o="start"):(a="start",o="end"),{start:e,end:i,reverse:t,top:a,bottom:o}}function Lk(n,t,e,i){let a=t.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:y}=Pk(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=m:(e._bottom||0)===i?a=y:(o[$T(y,c,h,f)]=!0,a=m)),o[$T(a,c,h,f)]=!0,n.borderSkipped=o}function $T(n,t,e,i){return i?(n=zk(n,t,e),n=WT(n,e,t)):n=WT(n,t,e),n}function zk(n,t,e){return n===t?e:n===e?t:n}function WT(n,t,e){return n==="start"?t:n==="end"?e:n}function Uk(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Bk extends dy{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,a){return XT(t,e,i,a)}parseArrayData(t,e,i,a){return XT(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,y=c.axis==="x"?h:f,v=[];let E,S,D,M;for(E=i,S=i+a;E<S;++E)M=e[E],D={},D[o.axis]=o.parse(Fo(M,m),E),v.push(RA(Fo(M,y),D,c,E));return v}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,o=this.getParsed(t),c=o._custom,h=Sm(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),y=this._getRuler(),{sharedOptions:v,includeOptions:E}=this._getSharedOptions(e,a);for(let S=e;S<e+i;S++){const D=this.getParsed(S),M=o||Qt(D[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),R=this._calculateBarIndexPixels(S,y),U=(D._stacks||{})[h.axis],Q={horizontal:m,base:M.base,enableBorderRadius:!U||Sm(D._custom)||c===U._top||c===U._bottom,x:m?M.head:R.center,y:m?R.center:M.head,height:m?R.size:Math.abs(M.size),width:m?Math.abs(M.size):R.size};E&&(Q.options=v||this.resolveDataElementOptions(S,t[S].active?"active":a));const X=Q.options||t[S].options;Lk(Q,X,U,c),Uk(Q,X,y.ratio),this.updateElement(t[S],S,Q,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=y=>{const v=y._parsed.find(S=>S[i.axis]===f),E=v&&v[y.vScale.axis];if(Qt(E)||isNaN(E))return!0};for(const y of a)if(!(e!==void 0&&m(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[It(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const a=this._getStacks(t,i),o=e!==void 0?a.indexOf(e):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let o,c;for(o=0,c=e.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||Mk(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,y=Sm(m);let v=f[e.axis],E=0,S=i?this.applyStack(e,f,i):v,D,M;S!==v&&(E=S-v,S=v),y&&(v=m.barStart,S=m.barEnd-m.barStart,v!==0&&Ki(v)!==Ki(m.barEnd)&&(E=0),E+=v);const R=!Qt(o)&&!y?o:E;let U=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?D=e.getPixelForValue(E+S):D=U,M=D-U,Math.abs(M)<c){M=Vk(M,e,h)*c,v===h&&(U-=M/2);const Q=e.getPixelForDecimal(0),X=e.getPixelForDecimal(1),it=Math.min(Q,X),Z=Math.max(Q,X);U=Math.max(Math.min(U,Z),it),D=U+M,i&&!y&&(f._stacks[e.axis]._visualValues[a]=e.getValueForPixel(D)-e.getValueForPixel(U))}if(U===e.getPixelForValue(h)){const Q=Ki(M)*e.getLineWidthForValue(h)/2;U+=Q,M-=Q}return{size:M,base:U,head:D,center:D+M/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,o=a.skipNull,c=It(a.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,v=a.barThickness==="flex"?Nk(t,e,a,y*m):Ok(t,e,a,y*m),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(It(E,this.getFirstScaleIdForIndexAxis())),D=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=v.start+v.chunk*D+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class Hk extends dy{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=gN(e,a,c);this._drawStart=h,this._drawCount=f,mN(e)&&(h=0,f=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(a,h,f,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,a),E=c.axis,S=h.axis,{spanGaps:D,segment:M}=this.options,R=Uc(D)?D:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||o||a==="none",Q=e+i,X=t.length;let it=e>0&&this.getParsed(e-1);for(let Z=0;Z<X;++Z){const nt=t[Z],C=U?nt:{};if(Z<e||Z>=Q){C.skip=!0;continue}const x=this.getParsed(Z),I=Qt(x[S]),V=C[E]=c.getPixelForValue(x[E],Z),N=C[S]=o||I?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,x,f):x[S],Z);C.skip=isNaN(V)||isNaN(N)||I,C.stop=Z>0&&Math.abs(x[E]-it[E])>R,M&&(C.parsed=x,C.raw=m.data[Z]),v&&(C.options=y||this.resolveDataElementOptions(Z,nt.active?"active":a)),U||this.updateElement(nt,Z,C,a),it=x}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ua(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gy{static override(t){Object.assign(gy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ua()}parse(){return ua()}format(){return ua()}add(){return ua()}diff(){return ua()}startOf(){return ua()}endOf(){return ua()}}var jk={_date:gy};function Fk(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?cN:pa;if(i){if(a._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const E=m(o,t,e-v),S=m(o,t,e+v);return{lo:E.lo,hi:S.hi}}}}else{const y=m(o,t,e);if(f){const{vScale:v}=a._cachedMeta,{_parsed:E}=n,S=E.slice(0,y.lo+1).reverse().findIndex(M=>!Qt(M[v.axis]));y.lo-=Math.max(0,S);const D=E.slice(y.hi).findIndex(M=>!Qt(M[v.axis]));y.hi+=Math.max(0,D)}return y}}return{lo:0,hi:o.length-1}}function Xf(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:y}=o[h],{lo:v,hi:E}=Fk(o[h],t,c,a);for(let S=v;S<=E;++S){const D=y[S];D.skip||i(D,m,S)}}}function qk(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Am(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||Xf(n,e,t,function(h,f,m){!a&&!Bc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function Gk(n,t,e,i){let a=[];function o(c,h,f){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:v}=aN(c,{x:t.x,y:t.y});rA(v,m,y)&&a.push({element:c,datasetIndex:h,index:f})}return Xf(n,e,t,o),a}function Yk(n,t,e,i,a,o){let c=[];const h=qk(e);let f=Number.POSITIVE_INFINITY;function m(y,v,E){const S=y.inRange(t.x,t.y,a);if(i&&!S)return;const D=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(D))&&!S)return;const R=h(t,D);R<f?(c=[{element:y,datasetIndex:v,index:E}],f=R):R===f&&c.push({element:y,datasetIndex:v,index:E})}return Xf(n,e,t,m),c}function wm(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?Gk(n,t,e,a):Yk(n,t,e,i,a,o)}function ZT(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Xf(n,e,t,(f,m,y)=>{f[c]&&f[c](t[e],a)&&(o.push({element:f,datasetIndex:m,index:y}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var Kk={modes:{index(n,t,e,i){const a=fa(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Am(n,a,o,i,c):wm(n,a,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,v=m.data[y];v&&!v.skip&&f.push({element:v,datasetIndex:m.index,index:y})}),f):[]},dataset(n,t,e,i){const a=fa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Am(n,a,o,i,c):wm(n,a,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const a=fa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Am(n,a,o,i,c)},nearest(n,t,e,i){const a=fa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return wm(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=fa(t,n);return ZT(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=fa(t,n);return ZT(n,a,"y",e.intersect,i)}}};const IA=["left","top","right","bottom"];function lc(n,t){return n.filter(e=>e.pos===t)}function JT(n,t){return n.filter(e=>IA.indexOf(e.pos)===-1&&e.box.axis===t)}function cc(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function Qk(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function Xk(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!IA.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function $k(n,t){const e=Xk(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:f&&t.availableHeight)}return e}function Wk(n){const t=Qk(n),e=cc(t.filter(m=>m.box.fullSize),!0),i=cc(lc(t,"left"),!0),a=cc(lc(t,"right")),o=cc(lc(t,"top"),!0),c=cc(lc(t,"bottom")),h=JT(t,"x"),f=JT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(h),chartArea:lc(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(h)}}function tE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function DA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Zk(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!Ut(a)){e.size&&(n[a]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[a]+=e.size}o.getPadding&&DA(c,o.getPadding());const h=Math.max(0,t.outerWidth-tE(c,n,"left","right")),f=Math.max(0,t.outerHeight-tE(c,n,"top","bottom")),m=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:y}:{same:y,other:m}}function Jk(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function t4(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function yc(n,t,e,i){const a=[];let o,c,h,f,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,t4(h.horizontal,t));const{same:v,other:E}=Zk(t,e,h,i);m|=v&&a.length,y=y||E,f.fullSize||a.push(h)}return m&&yc(a,t,e,i)||y}function Hh(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function eE(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const v=t.w*y,E=m.size||f.height;zc(m.start)&&(c=m.start),f.fullSize?Hh(f,a.left,c,e.outerWidth-a.right-a.left,E):Hh(f,t.left+m.placed,c,v,E),m.start=c,m.placed+=v,c=f.bottom}else{const v=t.h*y,E=m.size||f.width;zc(m.start)&&(o=m.start),f.fullSize?Hh(f,o,a.top,E,e.outerHeight-a.bottom-a.top):Hh(f,o,t.top+m.placed,E,v),m.start=o,m.placed+=v,o=f.right}}t.x=o,t.y=c}var Qn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=$n(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=Wk(n.boxes),f=h.vertical,m=h.horizontal;Zt(n.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const y=f.reduce((M,R)=>R.box.options&&R.box.options.display===!1?M:M+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),E=Object.assign({},a);DA(E,$n(i));const S=Object.assign({maxPadding:E,w:o,h:c,x:a.left,y:a.top},a),D=$k(f.concat(m),v);yc(h.fullSize,S,v,D),yc(f,S,v,D),yc(m,S,v,D)&&yc(f,S,v,D),Jk(S),eE(h.leftAndTop,S,v,D),S.x+=S.w,S.y+=S.h,eE(h.rightAndBottom,S,v,D),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Zt(h.chartArea,M=>{const R=M.box;Object.assign(R,n.chartArea),R.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class MA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class e4 extends MA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const rf="$chartjs",n4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nE=n=>n===null||n==="";function i4(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[rf]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",nE(a)){const o=UT(n,"width");o!==void 0&&(n.width=o)}if(nE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=UT(n,"height");o!==void 0&&(n.height=o)}return n}const OA=sk?{passive:!0}:!1;function s4(n,t,e){n&&n.addEventListener(t,e,OA)}function r4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,OA)}function a4(n,t){const e=n4[n.type]||n.type,{x:i,y:a}=fa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Rf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function o4(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Rf(h.addedNodes,i),c=c&&!Rf(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function l4(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Rf(h.removedNodes,i),c=c&&!Rf(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const jc=new Map;let iE=0;function NA(){const n=window.devicePixelRatio;n!==iE&&(iE=n,jc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function c4(n,t){jc.size||window.addEventListener("resize",NA),jc.set(n,t)}function u4(n){jc.delete(n),jc.size||window.removeEventListener("resize",NA)}function h4(n,t,e){const i=n.canvas,a=i&&fy(i);if(!a)return;const o=cA((h,f)=>{const m=a.clientWidth;e(h,f),m<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,y=f.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(a),c4(n,o),c}function xm(n,t,e){e&&e.disconnect(),t==="resize"&&u4(n)}function f4(n,t,e){const i=n.canvas,a=cA(o=>{n.ctx!==null&&e(a4(o,n))},n);return s4(i,t,a),a}class d4 extends MA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(i4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[rf])return!1;const i=e[rf].initial;["height","width"].forEach(o=>{const c=i[o];Qt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[rf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:o4,detach:l4,resize:h4}[e]||f4;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:xm,detach:xm,resize:xm}[e]||r4)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return ik(t,e,i,a)}isAttached(t){const e=t&&fy(t);return!!(e&&e.isConnected)}}function g4(n){return!hy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?e4:d4}class Ir{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Uc(this.x)&&Uc(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function m4(n,t){const e=n.options.ticks,i=p4(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?_4(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>a)return v4(t,m,o,c/a),m;const y=y4(o,t,a);if(c>0){let v,E;const S=c>1?Math.round((f-h)/(c-1)):null;for(jh(t,m,y,Qt(S)?0:h-S,h),v=0,E=c-1;v<E;v++)jh(t,m,y,o[v],o[v+1]);return jh(t,m,y,f,Qt(S)?t.length:f+S),m}return jh(t,m,y),m}function p4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function y4(n,t,e){const i=b4(n),a=t.length/e;if(!i)return Math.max(a,1);const o=eN(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function _4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function v4(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function jh(n,t,e,i,a){const o=It(i,0),c=Math.min(It(a,n.length),n.length);let h=0,f,m,y;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function b4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const T4=n=>n==="left"?"right":n==="right"?"left":n,sE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,rE=(n,t)=>Math.min(t||n,n);function aE(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function E4(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(a-1))/2,f+=a<t?m:-m,f<o-h||f>c+h)))return f}function S4(n,t){Zt(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function uc(n){return n.drawTicks?n.tickLength:0}function oE(n,t){if(!n.display)return 0;const e=on(n.font,t),i=$n(n.padding);return(ke(n.text)?n.text.length:1)*e.lineHeight+i.height}function A4(n,t){return Ca(n,{scale:t,type:"scale"})}function w4(n,t,e){return Ca(n,{tick:e,index:t,type:"tick"})}function x4(n,t,e){let i=ay(n);return(e&&t!=="right"||!e&&t==="right")&&(i=T4(i)),i}function C4(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:y}=f;let v=0,E,S,D;const M=c-a,R=h-o;if(n.isHorizontal()){if(S=en(i,o,h),Ut(e)){const U=Object.keys(e)[0],Q=e[U];D=y[U].getPixelForValue(Q)+M-t}else e==="center"?D=(m.bottom+m.top)/2+M-t:D=sE(n,e,t);E=h-o}else{if(Ut(e)){const U=Object.keys(e)[0],Q=e[U];S=y[U].getPixelForValue(Q)-R+t}else e==="center"?S=(m.left+m.right)/2-R+t:S=sE(n,e,t);D=en(i,c,a),v=e==="left"?-hi:hi}return{titleX:S,titleY:D,maxWidth:E,rotation:v}}class tl extends Ir{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Pi(t,Number.POSITIVE_INFINITY),e=Pi(e,Number.NEGATIVE_INFINITY),i=Pi(i,Number.POSITIVE_INFINITY),a=Pi(a,Number.NEGATIVE_INFINITY),{min:Pi(t,i),max:Pi(e,a),minDefined:cn(t),maxDefined:cn(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:Pi(e,Pi(i,e)),max:Pi(i,Pi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=VN(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?aE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=m4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=oe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=rE(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,f,m;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),v=y.widest.width,E=y.highest.height,S=On(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),v+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-uc(t.grid)-e.padding-oE(t.title,this.chart.options.font),m=Math.sqrt(v*v+E*E),c=rN(Math.min(Math.asin(On((y.highest.height+6)/h,-1,1)),Math.asin(On(f/m,-1,1))-Math.asin(On(E/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=oE(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=uc(o)+f):(t.height=this.maxHeight,t.width=uc(o)+f),i.display&&this.ticks.length){const{first:m,last:y,widest:v,highest:E}=this._getLabelSizes(),S=i.padding*2,D=ma(this.labelRotation),M=Math.cos(D),R=Math.sin(D);if(h){const U=i.mirror?0:R*v.width+M*E.height;t.height=Math.min(this.maxHeight,t.height+U+S)}else{const U=i.mirror?0:M*v.width+R*E.height;t.width=Math.min(this.maxWidth,t.width+U+S)}this._calculatePadding(m,y,R,M)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,S=0;f?m?(E=a*t.width,S=i*e.height):(E=i*t.height,S=a*e.width):o==="start"?S=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,S=e.width/2),this.paddingLeft=Math.max((E-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-v+c)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Qt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=aE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/rE(e,i));let m=0,y=0,v,E,S,D,M,R,U,Q,X,it,Z;for(v=0;v<e;v+=f){if(D=t[v].label,M=this._resolveTickFontOptions(v),a.font=R=M.string,U=o[R]=o[R]||{data:{},gc:[]},Q=M.lineHeight,X=it=0,!Qt(D)&&!ke(D))X=kT(a,U.data,U.gc,X,D),it=Q;else if(ke(D))for(E=0,S=D.length;E<S;++E)Z=D[E],!Qt(Z)&&!ke(Z)&&(X=kT(a,U.data,U.gc,X,Z),it+=Q);c.push(X),h.push(it),m=Math.max(X,m),y=Math.max(it,y)}S4(o,e);const nt=c.indexOf(m),C=h.indexOf(y),x=I=>({width:c[I]||0,height:h[I]||0});return{first:x(0),last:x(e-1),widest:x(nt),highest:x(C),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return lN(this._alignToPixels?ca(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=w4(this.getContext(),t,i))}return this.$context||(this.$context=A4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ma(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,f=o.offset,m=this.isHorizontal(),v=this.ticks.length+(f?1:0),E=uc(o),S=[],D=h.setContext(this.getContext()),M=D.display?D.width:0,R=M/2,U=function(Y){return ca(i,Y,M)};let Q,X,it,Z,nt,C,x,I,V,N,P,O;if(c==="top")Q=U(this.bottom),C=this.bottom-E,I=Q-R,N=U(t.top)+R,O=t.bottom;else if(c==="bottom")Q=U(this.top),N=t.top,O=U(t.bottom)-R,C=Q+R,I=this.top+E;else if(c==="left")Q=U(this.right),nt=this.right-E,x=Q-R,V=U(t.left)+R,P=t.right;else if(c==="right")Q=U(this.left),V=t.left,P=U(t.right)-R,nt=Q+R,x=this.left+E;else if(e==="x"){if(c==="center")Q=U((t.top+t.bottom)/2+.5);else if(Ut(c)){const Y=Object.keys(c)[0],rt=c[Y];Q=U(this.chart.scales[Y].getPixelForValue(rt))}N=t.top,O=t.bottom,C=Q+R,I=C+E}else if(e==="y"){if(c==="center")Q=U((t.left+t.right)/2);else if(Ut(c)){const Y=Object.keys(c)[0],rt=c[Y];Q=U(this.chart.scales[Y].getPixelForValue(rt))}nt=Q-R,x=nt-E,V=t.left,P=t.right}const Pt=It(a.ticks.maxTicksLimit,v),xt=Math.max(1,Math.ceil(v/Pt));for(X=0;X<v;X+=xt){const Y=this.getContext(X),rt=o.setContext(Y),dt=h.setContext(Y),Rt=rt.lineWidth,Ot=rt.color,L=dt.dash||[],W=dt.dashOffset,ot=rt.tickWidth,lt=rt.tickColor,mt=rt.tickBorderDash||[],vt=rt.tickBorderDashOffset;it=E4(this,X,f),it!==void 0&&(Z=ca(i,it,Rt),m?nt=x=V=P=Z:C=I=N=O=Z,S.push({tx1:nt,ty1:C,tx2:x,ty2:I,x1:V,y1:N,x2:P,y2:O,width:Rt,color:Ot,borderDash:L,borderDashOffset:W,tickWidth:ot,tickColor:lt,tickBorderDash:mt,tickBorderDashOffset:vt}))}return this._ticksLength=v,this._borderValue=Q,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:y,mirror:v}=o,E=uc(i.grid),S=E+y,D=v?-y:S,M=-ma(this.labelRotation),R=[];let U,Q,X,it,Z,nt,C,x,I,V,N,P,O="middle";if(a==="top")nt=this.bottom-D,C=this._getXAxisLabelAlignment();else if(a==="bottom")nt=this.top+D,C=this._getXAxisLabelAlignment();else if(a==="left"){const xt=this._getYAxisLabelAlignment(E);C=xt.textAlign,Z=xt.x}else if(a==="right"){const xt=this._getYAxisLabelAlignment(E);C=xt.textAlign,Z=xt.x}else if(e==="x"){if(a==="center")nt=(t.top+t.bottom)/2+S;else if(Ut(a)){const xt=Object.keys(a)[0],Y=a[xt];nt=this.chart.scales[xt].getPixelForValue(Y)+S}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")Z=(t.left+t.right)/2-S;else if(Ut(a)){const xt=Object.keys(a)[0],Y=a[xt];Z=this.chart.scales[xt].getPixelForValue(Y)}C=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Pt=this._getLabelSizes();for(U=0,Q=h.length;U<Q;++U){X=h[U],it=X.label;const xt=o.setContext(this.getContext(U));x=this.getPixelForTick(U)+o.labelOffset,I=this._resolveTickFontOptions(U),V=I.lineHeight,N=ke(it)?it.length:1;const Y=N/2,rt=xt.color,dt=xt.textStrokeColor,Rt=xt.textStrokeWidth;let Ot=C;c?(Z=x,C==="inner"&&(U===Q-1?Ot=this.options.reverse?"left":"right":U===0?Ot=this.options.reverse?"right":"left":Ot="center"),a==="top"?m==="near"||M!==0?P=-N*V+V/2:m==="center"?P=-Pt.highest.height/2-Y*V+V:P=-Pt.highest.height+V/2:m==="near"||M!==0?P=V/2:m==="center"?P=Pt.highest.height/2-Y*V:P=Pt.highest.height-N*V,v&&(P*=-1),M!==0&&!xt.showLabelBackdrop&&(Z+=V/2*Math.sin(M))):(nt=x,P=(1-N)*V/2);let L;if(xt.showLabelBackdrop){const W=$n(xt.backdropPadding),ot=Pt.heights[U],lt=Pt.widths[U];let mt=P-W.top,vt=0-W.left;switch(O){case"middle":mt-=ot/2;break;case"bottom":mt-=ot;break}switch(C){case"center":vt-=lt/2;break;case"right":vt-=lt;break;case"inner":U===Q-1?vt-=lt:U>0&&(vt-=lt/2);break}L={left:vt,top:mt,width:lt+W.width,height:ot+W.height,color:xt.backdropColor}}R.push({label:it,font:I,textOffset:P,options:{rotation:M,color:rt,strokeColor:dt,strokeWidth:Rt,textAlign:Ot,textBaseline:O,translation:[Z,nt],backdrop:L}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ma(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,y;return e==="left"?a?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y+=f)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y-=f)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,y,v,E;this.isHorizontal()?(m=ca(t,this.left,c)-c/2,y=ca(t,this.right,h)+h/2,v=E=f):(v=ca(t,this.top,c)-c/2,E=ca(t,this.bottom,h)+h/2,m=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,v),e.lineTo(y,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Yf(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,y=c.textOffset;Hc(i,m,0,y,f,h)}a&&Kf(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=on(i.font),c=$n(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Ut(e)?(f+=c.bottom,ke(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:y,maxWidth:v,rotation:E}=C4(this,f,e,h);Hc(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:E,textAlign:x4(h,e,a),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=It(t.grid&&t.grid.z,-1),a=It(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==tl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return on(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Fh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;D4(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,R4(t,c,i),this.override&&Te.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in Te[a]&&(delete Te[a][i],this.override&&delete Aa[i])}}function R4(n,t,e){const i=Lc(Object.create(null),[e?Te.get(e):{},Te.get(t),n.defaults]);Te.set(t,i),n.defaultRoutes&&I4(t,n.defaultRoutes),n.descriptors&&Te.describe(t,n.descriptors)}function I4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Te.route(o,a,f,h)})}function D4(n){return"id"in n&&"defaults"in n}class M4{constructor(){this.controllers=new Fh(dy,"datasets",!0),this.elements=new Fh(Ir,"elements"),this.plugins=new Fh(Object,"plugins"),this.scales=new Fh(tl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Zt(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=sy(t);oe(i["before"+a],[],i),e[t](i),oe(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var zi=new M4;class O4{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,a,o.options];if(oe(h,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=It(i.options&&i.options.plugins,{}),o=N4(i);return a===!1&&!e?[]:V4(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function N4(n){const t={},e=[],i=Object.keys(zi.plugins.items);for(let o=0;o<i.length;o++)e.push(zi.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function k4(n,t){return!t&&n===!1?null:n===!0?{}:n}function V4(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=k4(i[f],a);m!==null&&o.push({plugin:h,options:P4(n.config,{plugin:h,local:e[f]},m,c)})}return o}function P4(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function up(n,t){const e=Te.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function L4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function z4(n,t){return n===t?"_index_":"_value_"}function lE(n){if(n==="x"||n==="y"||n==="r")return n}function U4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function hp(n,...t){if(lE(n))return n;for(const e of t){const i=e.axis||U4(e.position)||n.length>1&&lE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function cE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function B4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return cE(n,"x",e[0])||cE(n,"y",e[0])}return{}}function H4(n,t){const e=Aa[n.type]||{scales:{}},i=t.scales||{},a=up(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Ut(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=hp(c,h,B4(c,n),Te.scales[h.type]),m=z4(f,a),y=e.scales||{};o[c]=wc(Object.create(null),[{axis:f},h,y[f],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||up(h,t),y=(Aa[h]||{}).scales||{};Object.keys(y).forEach(v=>{const E=L4(v,f),S=c[E+"AxisID"]||E;o[S]=o[S]||Object.create(null),wc(o[S],[{axis:E},i[S],y[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];wc(h,[Te.scales[h.type],Te.scale])}),o}function kA(n){const t=n.options||(n.options={});t.plugins=It(t.plugins,{}),t.scales=H4(n,t)}function VA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function j4(n){return n=n||{},n.data=VA(n.data),kA(n),n}const uE=new Map,PA=new Set;function qh(n,t){let e=uE.get(n);return e||(e=t(),uE.set(n,e),PA.add(e)),e}const hc=(n,t,e)=>{const i=Fo(t,e);i!==void 0&&n.add(i)};class F4{constructor(t){this._config=j4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=VA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),kA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return qh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return qh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return qh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return qh(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(v=>hc(f,t,v))),y.forEach(v=>hc(f,a,v)),y.forEach(v=>hc(f,Aa[o]||{},v)),y.forEach(v=>hc(f,Te,v)),y.forEach(v=>hc(f,lp,v))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),PA.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Aa[e]||{},Te.datasets[e]||{},{type:e},Te,lp]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=hE(this._resolverCache,t,a);let f=c;if(G4(c,e)){o.$shared=!1,i=Rr(i)?i():i;const m=this.createResolver(t,i,h);f=qo(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],a){const{resolver:o}=hE(this._resolverCache,t,i);return Ut(e)?qo(o,e,void 0,a):o}}function hE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:ly(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const q4=n=>Ut(n)&&Object.getOwnPropertyNames(n).some(t=>Rr(n[t]));function G4(n,t){const{isScriptable:e,isIndexable:i}=mA(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(Rr(h)||q4(h))||c&&ke(h))return!0}return!1}var Y4="4.5.1";const K4=["top","bottom","left","right","chartArea"];function fE(n,t){return n==="top"||n==="bottom"||K4.indexOf(n)===-1&&t==="x"}function dE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function gE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),oe(e&&e.onComplete,[n],t)}function Q4(n){const t=n.chart,e=t.options.animation;oe(e&&e.onProgress,[n],t)}function LA(n){return hy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const af={},mE=n=>{const t=LA(n);return Object.values(af).filter(e=>e.canvas===t).pop()};function X4(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function $4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let $f=class{static defaults=Te;static instances=af;static overrides=Aa;static registry=zi;static version=Y4;static getChart=mE;static register(...t){zi.add(...t),pE()}static unregister(...t){zi.remove(...t),pE()}constructor(t,e){const i=this.config=new F4(e),a=LA(t),o=mE(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||g4(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,y=f&&f.width;if(this.id=YO(),this.ctx=h,this.canvas=f,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new O4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fN(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],af[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ms.listen(this,"complete",gE),ms.listen(this,"progress",Q4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return Qt(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return zi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VT(this.canvas,this.ctx),this}stop(){return ms.stop(this),this}resize(t,e){ms.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,zT(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),oe(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Zt(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=hp(c,h),m=f==="r",y=f==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),Zt(o,c=>{const h=c.options,f=h.id,m=hp(f,h),y=It(h.type,c.dtype);(h.position===void 0||fE(h.position,m)!==fE(c.dposition))&&(h.position=c.dposition),a[f]=!0;let v=null;if(f in i&&i[f].type===y)v=i[f];else{const E=zi.getScale(y);v=new E({id:f,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Zt(a,(c,h)=>{c||delete i[h]}),Zt(i,c=>{Qn.configure(this,c,c.options),Qn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(dE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||up(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=zi.getController(h),{datasetElementType:m,dataElementType:y}=Te.datasets[h];Object.assign(f,{dataElementType:zi.getElement(y),datasetElementType:m&&zi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:v}=this.getDatasetMeta(m),E=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(E),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||Zt(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(dE("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Zt(this.scales,t=>{Qn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!wT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;X4(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!wT(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Qn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Zt(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Rr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ms.has(this)?this.attached&&!ms.running(this)&&ms.start(this):(this.draw(),gE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=wA(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Yf(e,a),t.controller.draw(),a&&Kf(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Bc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=Kk.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Ca(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);zc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ms.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),VT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete af[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Zt(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},a=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Zt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Zt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Sf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,m)=>f.filter(y=>!m.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),f=ZO(t),m=$4(t,this._lastEvent,i,f);i&&(this._lastEvent=null,oe(o.onHover,[t,h,this],this),f&&oe(o.onClick,[t,h,this],this));const y=!Sf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function pE(){return Zt($f.instances,n=>n._plugins.invalidate())}function zA(n,t,e=t){n.lineCap=It(e.borderCapStyle,t.borderCapStyle),n.setLineDash(It(e.borderDash,t.borderDash)),n.lineDashOffset=It(e.borderDashOffset,t.borderDashOffset),n.lineJoin=It(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=It(e.borderWidth,t.borderWidth),n.strokeStyle=It(e.borderColor,t.borderColor)}function W4(n,t,e){n.lineTo(e.x,e.y)}function Z4(n){return n.stepped?xN:n.tension||n.cubicInterpolationMode==="monotone"?CN:W4}function UA(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(a,c),m=Math.min(o,h),y=a<c&&o<c||a>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:m<f&&!y?i+m-f:m-f}}function J4(n,t,e,i){const{points:a,options:o}=t,{count:c,start:h,loop:f,ilen:m}=UA(a,e,i),y=Z4(o);let{move:v=!0,reverse:E}=i||{},S,D,M;for(S=0;S<=m;++S)D=a[(h+(E?m-S:S))%c],!D.skip&&(v?(n.moveTo(D.x,D.y),v=!1):y(n,M,D,E,o.stepped),M=D);return f&&(D=a[(h+(E?m:0))%c],y(n,M,D,E,o.stepped)),!!f}function tV(n,t,e,i){const a=t.points,{count:o,start:c,ilen:h}=UA(a,e,i),{move:f=!0,reverse:m}=i||{};let y=0,v=0,E,S,D,M,R,U;const Q=it=>(c+(m?h-it:it))%o,X=()=>{M!==R&&(n.lineTo(y,R),n.lineTo(y,M),n.lineTo(y,U))};for(f&&(S=a[Q(0)],n.moveTo(S.x,S.y)),E=0;E<=h;++E){if(S=a[Q(E)],S.skip)continue;const it=S.x,Z=S.y,nt=it|0;nt===D?(Z<M?M=Z:Z>R&&(R=Z),y=(v*y+it)/++v):(X(),n.lineTo(it,Z),D=nt,v=0,M=R=Z),U=Z}X()}function fp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?tV:J4}function eV(n){return n.stepped?rk:n.tension||n.cubicInterpolationMode==="monotone"?ak:da}function nV(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),zA(n,t.options),n.stroke(a)}function iV(n,t,e,i){const{segments:a,options:o}=t,c=fp(t);for(const h of a)zA(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const sV=typeof Path2D=="function";function rV(n,t,e,i){sV&&!t.options.segment?nV(n,t,e,i):iV(n,t,e,i)}class Wf extends Ir{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;WN(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fk(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,c=AA(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],f=eV(i);let m,y;for(m=0,y=c.length;m<y;++m){const{start:v,end:E}=c[m],S=o[v],D=o[E];if(S===D){h.push(S);continue}const M=Math.abs((a-S[e])/(D[e]-S[e])),R=f(S,D,M,i.stepped);R[e]=t[e],h.push(R)}return h.length===1?h[0]:h}pathSegment(t,e,i){return fp(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=fp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),rV(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function yE(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class aV extends Ir{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return yE(this,t,"x",e)}inYRange(t,e){return yE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Bc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,cp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function BA(n,t){const{x:e,y:i,base:a,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,y,v;return n.horizontal?(v=c/2,h=Math.min(e,a),f=Math.max(e,a),m=i-v,y=i+v):(v=o/2,h=e-v,f=e+v,m=Math.min(i,a),y=Math.max(i,a)),{left:h,top:m,right:f,bottom:y}}function gr(n,t,e,i){return n?0:On(t,e,i)}function oV(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,o=gA(i);return{t:gr(a.top,o.top,0,e),r:gr(a.right,o.right,0,t),b:gr(a.bottom,o.bottom,0,e),l:gr(a.left,o.left,0,t)}}function lV(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=No(a),c=Math.min(t,e),h=n.borderSkipped,f=i||Ut(a);return{topLeft:gr(!f||h.top||h.left,o.topLeft,0,c),topRight:gr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:gr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:gr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function cV(n){const t=BA(n),e=t.right-t.left,i=t.bottom-t.top,a=oV(n,e/2,i/2),o=lV(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Cm(n,t,e,i){const a=t===null,o=e===null,h=n&&!(a&&o)&&BA(n,i);return h&&(a||fr(t,h.left,h.right))&&(o||fr(e,h.top,h.bottom))}function uV(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function hV(n,t){n.rect(t.x,t.y,t.w,t.h)}function Rm(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+o,h:n.h+c,radius:n.radius}}class fV extends Ir{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=cV(this),h=uV(c.radius)?xf:hV;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Rm(c,e,o)),t.clip(),h(t,Rm(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Rm(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return Cm(this,t,e,i)}inXRange(t,e){return Cm(this,t,null,e)}inYRange(t,e){return Cm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function dV(n,t,e){const i=n.segments,a=n.points,o=t.points,c=[];for(const h of i){let{start:f,end:m}=h;m=Zf(f,m,a);const y=dp(e,a[f],a[m],h.loop);if(!t.segments){c.push({source:h,target:y,start:a[f],end:a[m]});continue}const v=AA(t,y);for(const E of v){const S=dp(e,o[E.start],o[E.end],E.loop),D=SA(h,a,S);for(const M of D)c.push({source:M,target:E,start:{[e]:_E(y,S,"start",Math.max)},end:{[e]:_E(y,S,"end",Math.min)}})}}return c}function dp(n,t,e,i){if(i)return;let a=t[n],o=e[n];return n==="angle"&&(a=Bi(a),o=Bi(o)),{property:n,start:a,end:o}}function gV(n,t){const{x:e=null,y:i=null}=n||{},a=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=Zf(c,h,a);const f=a[c],m=a[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:m.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:m.y}))}),o}function Zf(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function _E(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function HA(n,t){let e=[],i=!1;return ke(n)?(i=!0,e=n):e=gV(n,t),e.length?new Wf({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function vE(n){return n&&n.fill!==!1}function mV(n,t,e){let a=n[t].fill;const o=[t];let c;if(!e)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!cn(a))return a;if(c=n[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function pV(n,t,e){const i=bV(n);if(Ut(i))return isNaN(i.value)?!1:i;let a=parseFloat(i);return cn(a)&&Math.floor(a)===a?yV(i[0],t,a,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function yV(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function _V(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Ut(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function vV(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Ut(n)?i=n.value:i=t.getBaseValue(),i}function bV(n){const t=n.options,e=t.fill;let i=It(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function TV(n){const{scale:t,index:e,line:i}=n,a=[],o=i.segments,c=i.points,h=EV(t,e);h.push(HA({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const m=o[f];for(let y=m.start;y<=m.end;y++)SV(a,c[y],h)}return new Wf({points:a,options:{}})}function EV(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const o=i[a];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function SV(n,t,e){const i=[];for(let a=0;a<e.length;a++){const o=e[a],{first:c,last:h,point:f}=AV(o,t,"x");if(!(!f||c&&h)){if(c)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function AV(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const a=i[e],o=n.segments,c=n.points;let h=!1,f=!1;for(let m=0;m<o.length;m++){const y=o[m],v=c[y.start][e],E=c[y.end][e];if(fr(a,v,E)){h=a===v,f=a===E;break}}return{first:h,last:f,point:i}}class jA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:a,y:o,radius:c}=this;return e=e||{start:0,end:fi},t.arc(a,o,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:a}=this,o=t.angle;return{x:e+Math.cos(o)*a,y:i+Math.sin(o)*a,angle:o}}}function wV(n){const{chart:t,fill:e,line:i}=n;if(cn(e))return xV(t,e);if(e==="stack")return TV(n);if(e==="shape")return!0;const a=CV(n);return a instanceof jA?a:HA(a,i)}function xV(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function CV(n){return(n.scale||{}).getPointPositionForValue?IV(n):RV(n)}function RV(n){const{scale:t={},fill:e}=n,i=_V(e,t);if(cn(i)){const a=t.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}function IV(n){const{scale:t,fill:e}=n,i=t.options,a=t.getLabels().length,o=i.reverse?t.max:t.min,c=vV(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new jA({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<a;++f)h.push(t.getPointPositionForValue(f,c));return h}function Im(n,t,e){const i=wV(t),{chart:a,index:o,line:c,scale:h,axis:f}=t,m=c.options,y=m.fill,v=m.backgroundColor,{above:E=v,below:S=v}=y||{},D=a.getDatasetMeta(o),M=wA(a,D);i&&c.points.length&&(Yf(n,e),DV(n,{line:c,target:i,above:E,below:S,area:e,scale:h,axis:f,clip:M}),Kf(n))}function DV(n,t){const{line:e,target:i,above:a,below:o,area:c,scale:h,clip:f}=t,m=e._loop?"angle":t.axis;n.save();let y=o;o!==a&&(m==="x"?(bE(n,i,c.top),Dm(n,{line:e,target:i,color:a,scale:h,property:m,clip:f}),n.restore(),n.save(),bE(n,i,c.bottom)):m==="y"&&(TE(n,i,c.left),Dm(n,{line:e,target:i,color:o,scale:h,property:m,clip:f}),n.restore(),n.save(),TE(n,i,c.right),y=a)),Dm(n,{line:e,target:i,color:y,scale:h,property:m,clip:f}),n.restore()}function bE(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:m}=h,y=a[f],v=a[Zf(f,m,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(v.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function TE(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:m}=h,y=a[f],v=a[Zf(f,m,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(e,y.y),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(e,v.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Dm(n,t){const{line:e,target:i,property:a,color:o,scale:c,clip:h}=t,f=dV(e,i,a);for(const{source:m,target:y,start:v,end:E}of f){const{style:{backgroundColor:S=o}={}}=m,D=i!==!0;n.save(),n.fillStyle=S,MV(n,c,h,D&&dp(a,v,E)),n.beginPath();const M=!!e.pathSegment(n,m);let R;if(D){M?n.closePath():EE(n,i,E,a);const U=!!i.pathSegment(n,y,{move:M,reverse:!0});R=M&&U,R||EE(n,i,v,a)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function MV(n,t,e,i){const a=t.chart.chartArea,{property:o,start:c,end:h}=i||{};if(o==="x"||o==="y"){let f,m,y,v;o==="x"?(f=c,m=a.top,y=h,v=a.bottom):(f=a.left,m=c,y=a.right,v=h),n.beginPath(),e&&(f=Math.max(f,e.left),y=Math.min(y,e.right),m=Math.max(m,e.top),v=Math.min(v,e.bottom)),n.rect(f,m,y-f,v-m),n.clip()}}function EE(n,t,e,i){const a=t.interpolate(e,i);a&&n.lineTo(a.x,a.y)}var OV={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,a=[];let o,c,h,f;for(c=0;c<i;++c)o=n.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof Wf&&(f={visible:n.isDatasetVisible(c),index:c,fill:pV(h,c,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,a.push(f);for(c=0;c<i;++c)f=a[c],!(!f||f.fill===!1)&&(f.fill=mV(a,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=a.length-1;c>=0;--c){const h=a[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&Im(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;vE(o)&&Im(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!vE(i)||e.drawTime!=="beforeDatasetDraw"||Im(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const SE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},NV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class AE extends Ir{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=on(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=SE(i,o);let m,y;e.font=a.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,m=this._fitCols(c,a,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],y=a+h;let v=t;o.textAlign="left",o.textBaseline="middle";let E=-1,S=-y;return this.legendItems.forEach((D,M)=>{const R=i+e/2+o.measureText(D.text).width;(M===0||m[m.length-1]+R+2*h>c)&&(v+=y,m[m.length-(M>0?0:1)]=0,S+=y,E++),f[M]={left:0,top:S,row:E,width:R,height:a},m[m.length-1]+=R+h}),v}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let v=h,E=0,S=0,D=0,M=0;return this.legendItems.forEach((R,U)=>{const{itemWidth:Q,itemHeight:X}=kV(i,e,o,R,a);U>0&&S+X+2*h>y&&(v+=E+h,m.push({width:E,height:S}),D+=E+h,M++,E=S=0),f[U]={left:D,top:S,col:M,width:Q,height:X},E=Math.max(E,Q),S+=X+h}),v+=E,m.push({width:E,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=ko(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=en(i,this.left+a,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=en(i,this.left+a,this.right-this.lineWidths[h])),m.top+=this.top+t+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let h=0,f=en(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=en(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Yf(t,this),this._draw(),Kf(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=Te.color,f=ko(t.rtl,this.left,this.width),m=on(c.font),{padding:y}=c,v=m.size,E=v/2;let S;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:D,boxHeight:M,itemHeight:R}=SE(c,v),U=function(nt,C,x){if(isNaN(D)||D<=0||isNaN(M)||M<0)return;a.save();const I=It(x.lineWidth,1);if(a.fillStyle=It(x.fillStyle,h),a.lineCap=It(x.lineCap,"butt"),a.lineDashOffset=It(x.lineDashOffset,0),a.lineJoin=It(x.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=It(x.strokeStyle,h),a.setLineDash(It(x.lineDash,[])),c.usePointStyle){const V={radius:M*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:I},N=f.xPlus(nt,D/2),P=C+E;fA(a,V,N,P,c.pointStyleWidth&&D)}else{const V=C+Math.max((v-M)/2,0),N=f.leftForLtr(nt,D),P=No(x.borderRadius);a.beginPath(),Object.values(P).some(O=>O!==0)?xf(a,{x:N,y:V,w:D,h:M,radius:P}):a.rect(N,V,D,M),a.fill(),I!==0&&a.stroke()}a.restore()},Q=function(nt,C,x){Hc(a,x.text,nt,C+R/2,m,{strikethrough:x.hidden,textAlign:f.textAlign(x.textAlign)})},X=this.isHorizontal(),it=this._computeTitleHeight();X?S={x:en(o,this.left+y,this.right-i[0]),y:this.top+y+it,line:0}:S={x:this.left+y,y:en(o,this.top+it+y,this.bottom-e[0].height),line:0},bA(this.ctx,t.textDirection);const Z=R+y;this.legendItems.forEach((nt,C)=>{a.strokeStyle=nt.fontColor,a.fillStyle=nt.fontColor;const x=a.measureText(nt.text).width,I=f.textAlign(nt.textAlign||(nt.textAlign=c.textAlign)),V=D+E+x;let N=S.x,P=S.y;f.setWidth(this.width),X?C>0&&N+V+y>this.right&&(P=S.y+=Z,S.line++,N=S.x=en(o,this.left+y,this.right-i[S.line])):C>0&&P+Z>this.bottom&&(N=S.x=N+e[S.line].width+y,S.line++,P=S.y=en(o,this.top+it+y,this.bottom-e[S.line].height));const O=f.x(N);if(U(O,P,nt),N=dN(I,N+D+E,X?N+V:this.right,t.rtl),Q(f.x(N),P,nt),X)S.x+=V+y;else if(typeof nt.text!="string"){const Pt=m.lineHeight;S.y+=FA(nt,Pt)+y}else S.y+=Z}),TA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=on(e.font),a=$n(e.padding);if(!e.display)return;const o=ko(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=a.top+f;let y,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+m,v=en(t.align,v,this.right-E);else{const D=this.columnSizes.reduce((M,R)=>Math.max(M,R.height),0);y=m+en(t.align,this.top,this.bottom-D-t.labels.padding-this._computeTitleHeight())}const S=en(h,v,v+E);c.textAlign=o.textAlign(ay(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Hc(c,e.text,S,y,i)}_computeTitleHeight(){const t=this.options.title,e=on(t.font),i=$n(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(fr(t,this.left,this.right)&&fr(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],fr(t,a.left,a.left+a.width)&&fr(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!LV(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=NV(a,i);a&&!o&&oe(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&oe(e.onHover,[t,i,this],this)}else i&&oe(e.onClick,[t,i,this],this)}}function kV(n,t,e,i,a){const o=VV(i,n,t,e),c=PV(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function VV(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function PV(n,t,e){let i=n;return typeof t.text!="string"&&(i=FA(t,e)),i}function FA(n,t){const e=n.text?n.text.length:0;return t*e}function LV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var zV={id:"legend",_element:AE,start(n,t,e){const i=n.legend=new AE({ctx:n.ctx,options:e,chart:n});Qn.configure(n,i,e),Qn.addBox(n,i)},stop(n){Qn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Qn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),y=$n(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class qA extends Ir{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=ke(i.text)?i.text.length:1;this._padding=$n(i.padding);const o=a*on(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let f=0,m,y,v;return this.isHorizontal()?(y=en(h,i,o),v=e+t,m=o-i):(c.position==="left"?(y=i+t,v=en(h,a,e),f=qe*-.5):(y=o-t,v=en(h,e,a),f=qe*.5),m=a-e),{titleX:y,titleY:v,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=on(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);Hc(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:ay(e.align),textBaseline:"middle",translation:[c,h]})}}function UV(n,t){const e=new qA({ctx:n.ctx,options:t,chart:n});Qn.configure(n,e,t),Qn.addBox(n,e),n.titleBlock=e}var BV={id:"title",_element:qA,start(n,t,e){UV(n,e)},stop(n){const t=n.titleBlock;Qn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Qn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _c={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),y=op(t,m);y<a&&(a=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Li(n,t){return t&&(ke(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ps(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function HV(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function wE(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=on(t.bodyFont),m=on(t.titleFont),y=on(t.footerFont),v=o.length,E=a.length,S=i.length,D=$n(t.padding);let M=D.height,R=0,U=i.reduce((it,Z)=>it+Z.before.length+Z.lines.length+Z.after.length,0);if(U+=n.beforeBody.length+n.afterBody.length,v&&(M+=v*m.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),U){const it=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;M+=S*it+(U-S)*f.lineHeight+(U-1)*t.bodySpacing}E&&(M+=t.footerMarginTop+E*y.lineHeight+(E-1)*t.footerSpacing);let Q=0;const X=function(it){R=Math.max(R,e.measureText(it).width+Q)};return e.save(),e.font=m.string,Zt(n.title,X),e.font=f.string,Zt(n.beforeBody.concat(n.afterBody),X),Q=t.displayColors?c+2+t.boxPadding:0,Zt(i,it=>{Zt(it.before,X),Zt(it.lines,X),Zt(it.after,X)}),Q=0,e.font=y.string,Zt(n.footer,X),e.restore(),R+=D.width,{width:R,height:M}}function jV(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function FV(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function qV(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=a<=(h+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),FV(m,n,t,e)&&(m="center"),m}function xE(n,t,e){const i=e.yAlign||t.yAlign||jV(n,e);return{xAlign:e.xAlign||t.xAlign||qV(n,t,e,i),yAlign:i}}function GV(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function YV(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function CE(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=a+o,{topLeft:y,topRight:v,bottomLeft:E,bottomRight:S}=No(c);let D=GV(t,h);const M=YV(t,f,m);return f==="center"?h==="left"?D+=m:h==="right"&&(D-=m):h==="left"?D-=Math.max(y,E)+a:h==="right"&&(D+=Math.max(v,S)+a),{x:On(D,0,i.width-t.width),y:On(M,0,i.height-t.height)}}function Gh(n,t,e){const i=$n(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function RE(n){return Li([],ps(n))}function KV(n,t,e){return Ca(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function IE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const GA={beforeTitle:gs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:gs,beforeBody:gs,beforeLabel:gs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Qt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:gs,afterBody:gs,beforeFooter:gs,footer:gs,afterFooter:gs};function bn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?GA[t].call(e,i):a}class DE extends Ir{static positioners=_c;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new xA(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KV(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=bn(i,"beforeTitle",this,t),o=bn(i,"title",this,t),c=bn(i,"afterTitle",this,t);let h=[];return h=Li(h,ps(a)),h=Li(h,ps(o)),h=Li(h,ps(c)),h}getBeforeBody(t,e){return RE(bn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return Zt(t,o=>{const c={before:[],lines:[],after:[]},h=IE(i,o);Li(c.before,ps(bn(h,"beforeLabel",this,o))),Li(c.lines,bn(h,"label",this,o)),Li(c.after,ps(bn(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return RE(bn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=bn(i,"beforeFooter",this,t),o=bn(i,"footer",this,t),c=bn(i,"afterFooter",this,t);let h=[];return h=Li(h,ps(a)),h=Li(h,ps(o)),h=Li(h,ps(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(HV(this.chart,e[f]));return t.filter&&(h=h.filter((y,v,E)=>t.filter(y,v,E,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),Zt(h,y=>{const v=IE(t.callbacks,y);a.push(bn(v,"labelColor",this,y)),o.push(bn(v,"labelPointStyle",this,y)),c.push(bn(v,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=_c[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=wE(this,i),m=Object.assign({},h,f),y=xE(this.chart,i,m),v=CE(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:y,bottomRight:v}=No(h),{x:E,y:S}=t,{width:D,height:M}=e;let R,U,Q,X,it,Z;return o==="center"?(it=S+M/2,a==="left"?(R=E,U=R-c,X=it+c,Z=it-c):(R=E+D,U=R+c,X=it-c,Z=it+c),Q=R):(a==="left"?U=E+Math.max(f,y)+c:a==="right"?U=E+D-Math.max(m,v)-c:U=this.caretX,o==="top"?(X=S,it=X-c,R=U-c,Q=U+c):(X=S+M,it=X+c,R=U+c,Q=U-c),Z=X),{x1:R,x2:U,x3:Q,y1:X,y2:it,y3:Z}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,f;if(o){const m=ko(i.rtl,this.x,this.width);for(t.x=Gh(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=on(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(a[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,y=on(o.bodyFont),v=Gh(this,"left",o),E=a.x(v),S=f<y.lineHeight?(y.lineHeight-f)/2:0,D=e.y+S;if(o.usePointStyle){const M={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},R=a.leftForLtr(E,m)+m/2,U=D+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,cp(t,M,R,U),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,cp(t,M,R,U)}else{t.lineWidth=Ut(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const M=a.leftForLtr(E,m),R=a.leftForLtr(a.xPlus(E,1),m-2),U=No(c.borderRadius);Object.values(U).some(Q=>Q!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,xf(t,{x:M,y:D,w:m,h:f,radius:U}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),xf(t,{x:R,y:D+1,w:m-2,h:f-2,radius:U}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(M,D,m,f),t.strokeRect(M,D,m,f),t.fillStyle=c.backgroundColor,t.fillRect(R,D+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:y}=i,v=on(i.bodyFont);let E=v.lineHeight,S=0;const D=ko(i.rtl,this.x,this.width),M=function(x){e.fillText(x,D.x(t.x+S),t.y+E/2),t.y+=E+o},R=D.textAlign(c);let U,Q,X,it,Z,nt,C;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=Gh(this,R,i),e.fillStyle=i.bodyColor,Zt(this.beforeBody,M),S=h&&R!=="right"?c==="center"?m/2+y:m+2+y:0,it=0,nt=a.length;it<nt;++it){for(U=a[it],Q=this.labelTextColors[it],e.fillStyle=Q,Zt(U.before,M),X=U.lines,h&&X.length&&(this._drawColorBox(e,t,it,D,i),E=Math.max(v.lineHeight,f)),Z=0,C=X.length;Z<C;++Z)M(X[Z]),E=v.lineHeight;Zt(U.after,M)}S=0,E=v.lineHeight,Zt(this.afterBody,M),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const f=ko(i.rtl,this.x,this.width);for(t.x=Gh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=on(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:y}=i,{topLeft:v,topRight:E,bottomLeft:S,bottomRight:D}=No(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+v,f),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+m-E,f),e.quadraticCurveTo(h+m,f,h+m,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+m,f+y-D),e.quadraticCurveTo(h+m,f+y,h+m-D,f+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+S,f+y),e.quadraticCurveTo(h,f+y,h,f+y-S),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=_c[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=wE(this,t),f=Object.assign({},c,this._size),m=xE(e,t,f),y=CE(t,f,m,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=$n(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),bA(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),TA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!Sf(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Sf(c,o)||h;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=_c[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var QV={id:"tooltip",_element:DE,positioners:_c,afterInit(n,t,e){e&&(n.tooltip=new DE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:GA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const XV=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function $V(n,t,e,i){const a=n.indexOf(t);if(a===-1)return XV(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const WV=(n,t)=>n===null?null:On(Math.round(n),0,t);function ME(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class ZV extends tl{static id="category";static defaults={ticks:{callback:ME}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Qt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:$V(i,t,It(e,t),this._addedLabels),WV(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return ME.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function JV(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:f,count:m,maxTicks:y,maxDigits:v,includeBounds:E}=n,S=o||1,D=y-1,{min:M,max:R}=t,U=!Qt(c),Q=!Qt(h),X=!Qt(m),it=(R-M)/(v+1);let Z=CT((R-M)/D/S)*S,nt,C,x,I;if(Z<1e-14&&!U&&!Q)return[{value:M},{value:R}];I=Math.ceil(R/Z)-Math.floor(M/Z),I>D&&(Z=CT(I*Z/D/S)*S),Qt(f)||(nt=Math.pow(10,f),Z=Math.ceil(Z*nt)/nt),a==="ticks"?(C=Math.floor(M/Z)*Z,x=Math.ceil(R/Z)*Z):(C=M,x=R),U&&Q&&o&&iN((h-c)/o,Z/1e3)?(I=Math.round(Math.min((h-c)/Z,y)),Z=(h-c)/I,C=c,x=h):X?(C=U?c:C,x=Q?h:x,I=m-1,Z=(x-C)/I):(I=(x-C)/Z,xc(I,Math.round(I),Z/1e3)?I=Math.round(I):I=Math.ceil(I));const V=Math.max(RT(Z),RT(C));nt=Math.pow(10,Qt(f)?V:f),C=Math.round(C*nt)/nt,x=Math.round(x*nt)/nt;let N=0;for(U&&(E&&C!==c?(e.push({value:c}),C<c&&N++,xc(Math.round((C+N*Z)*nt)/nt,c,OE(c,it,n))&&N++):C<c&&N++);N<I;++N){const P=Math.round((C+N*Z)*nt)/nt;if(Q&&P>h)break;e.push({value:P})}return Q&&E&&x!==h?e.length&&xc(e[e.length-1].value,h,OE(h,it,n))?e[e.length-1].value=h:e.push({value:h}):(!Q||x===h)&&e.push({value:x}),e}function OE(n,t,{horizontal:e,minRotation:i}){const a=ma(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class tP extends tl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Qt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=Ki(a),m=Ki(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=JV(a,o);return t.bounds==="ticks"&&sN(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return uA(t,this.chart.options.locale,this.options.ticks.format)}}class eP extends tP{static id="linear";static defaults={ticks:{callback:hA.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=cn(t)?t:0,this.max=cn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ma(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Jf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},En=Object.keys(Jf);function NE(n,t){return n-t}function kE(n,t){if(Qt(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),cn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(Uc(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function VE(n,t,e,i){const a=En.length;for(let o=En.indexOf(n);o<a-1;++o){const c=Jf[En[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return En[o]}return En[a-1]}function nP(n,t,e,i,a){for(let o=En.length-1;o>=En.indexOf(e);o--){const c=En[o];if(Jf[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return En[e?En.indexOf(e):0]}function iP(n){for(let t=En.indexOf(n)+1,e=En.length;t<e;++t)if(Jf[En[t]].common)return En[t]}function PE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=ry(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function sP(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function LE(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:sP(n,i,a,e)}class zE extends tl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new jk._date(t.adapters.date);a.init(e),wc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:kE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=cn(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=cn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=uN(a,o,c);return this._unit=e.unit||(i.autoSkip?VE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):nP(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:iP(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),LE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=On(e,0,c),i=On(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||VE(o.minUnit,e,i,this._getLabelCapacity(e)),h=It(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=Uc(f)||f===!0,y={};let v=e,E,S;if(m&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const D=a.ticks.source==="data"&&this.getDataTimestamps();for(E=v,S=0;E<i;E=+t.add(E,h,c),S++)PE(y,E,D);return(E===i||a.bounds==="ticks"||S===1)&&PE(y,E,D),Object.keys(y).sort(NE).map(M=>+M)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return oe(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,y=f&&h[f],v=m&&h[m],E=i[e],S=m&&v&&E&&E.major;return this._adapter.format(t,a||(S?v:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=ma(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,LE(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(kE(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return oA(t.sort(NE))}}function Yh(n,t,e){let i=0,a=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=pa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=pa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[a]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class PP extends zE{static id="timeseries";static defaults=zE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Yh(e,this.min),this._tableRange=Yh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,f,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&a.push(m);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],f=a[c-1],m=a[c],Math.round((y+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Yh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Yh(this._table,i*this._tableRange+this._minPos,!0)}}const YA="label";function UE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function rP(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function KA(n,t){n.labels=t}function QA(n,t,e=YA){const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function aP(n,t=YA){const e={labels:[],datasets:[]};return KA(e,n.labels),QA(e,n.datasets,t),e}function oP(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:y,updateMode:v,...E}=n,S=ie.useRef(null),D=ie.useRef(null),M=()=>{S.current&&(D.current=new $f(S.current,{type:c,data:aP(h,o),options:f&&{...f},plugins:m}),UE(t,D.current))},R=()=>{UE(t,null),D.current&&(D.current.destroy(),D.current=null)};return ie.useEffect(()=>{!a&&D.current&&f&&rP(D.current,f)},[a,f]),ie.useEffect(()=>{!a&&D.current&&KA(D.current.config.data,h.labels)},[a,h.labels]),ie.useEffect(()=>{!a&&D.current&&h.datasets&&QA(D.current.config.data,h.datasets,o)},[a,h.datasets]),ie.useEffect(()=>{D.current&&(a?(R(),setTimeout(M)):D.current.update(v))},[a,f,h.labels,h.datasets,v]),ie.useEffect(()=>{D.current&&(R(),setTimeout(M))},[c]),ie.useEffect(()=>(M(),()=>R()),[]),_t.jsx("canvas",{ref:S,role:"img",height:e,width:i,...E,children:y})}const lP=ie.forwardRef(oP);function XA(n,t){return $f.register(t),ie.forwardRef((e,i)=>_t.jsx(lP,{...e,ref:i,type:n}))}const cP=XA("line",Hk),uP=XA("bar",Bk);const hP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),BE=n=>{const t=fP(n);return t.charAt(0).toUpperCase()+t.slice(1)},$A=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),dP=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var gP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mP=ie.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},f)=>ie.createElement("svg",{ref:f,...gP,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:$A("lucide",a),...!o&&!dP(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>ie.createElement(m,y)),...Array.isArray(o)?o:[o]]));const Dr=(n,t)=>{const e=ie.forwardRef(({className:i,...a},o)=>ie.createElement(mP,{ref:o,iconNode:t,className:$A(`lucide-${hP(BE(n))}`,`lucide-${n}`,i),...a}));return e.displayName=BE(n),e};const pP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yP=Dr("calendar",pP);const _P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vP=Dr("circle-alert",_P);const bP=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],TP=Dr("cloud-sun",bP);const EP=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],SP=Dr("flame",EP);const AP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wP=Dr("refresh-cw",AP);const xP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CP=Dr("shield-check",xP);const RP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],IP=Dr("target",RP);const DP=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],HE=Dr("thermometer",DP);$f.register(ZV,eP,aV,Wf,fV,BV,QV,zV,OV);const MP={apiKey:"AIzaSyD9qxoLbHD8d-ZiJnFgTVPZIbo1hgZ40Sw",authDomain:"rika-domo.firebaseapp.com",projectId:"rika-domo",storageBucket:"rika-domo.firebasestorage.app",messagingSenderId:"142029259326",appId:"1:142029259326:web:5199fd9385018644ad876f"},WA=JE(MP),OP=rD(WA),jE=EO(WA);function NP(){const[n,t]=ie.useState([]),[e,i]=ie.useState({}),[a,o]=ie.useState(null),[c,h]=ie.useState(!0),[f,m]=ie.useState(null),[y,v]=ie.useState("24h");ie.useEffect(()=>{rM(jE).catch(U=>m(`Erreur Auth : ${U.message}`));const R=hM(jE,U=>U&&o(U));return()=>R()},[]),ie.useEffect(()=>{(async()=>{try{const Q=await(await fetch("https://api.open-meteo.com/v1/forecast?latitude=45.88&longitude=6.10&hourly=temperature_2m&past_days=7")).json(),X={};Q.hourly&&Q.hourly.time&&Q.hourly.time.forEach((it,Z)=>{X[it]=Q.hourly.temperature_2m[Z]}),i(X)}catch(U){console.error("Erreur mto:",U)}})()},[]),ie.useEffect(()=>{if(!a)return;const R=sD(OP,"stove"),U=_D(R,vD("timestamp","asc")),Q=ED(U,X=>{if(!X.empty){const it=X.docs.map(Z=>{const nt=Z.data();let C=new Date;return nt.timestamp?.toDate?C=nt.timestamp.toDate():nt.timestamp?.seconds&&(C=new Date(nt.timestamp.seconds*1e3)),{id:Z.id,...nt,date:C,temperature:Number(nt.temperature)||0,thermostat:Number(nt.thermostat)||0,consumption:Number(nt.consumption)||0,is_burning:!!nt.is_burning}});t(it),m(null)}h(!1)},X=>m(`Erreur Firestore : ${X.message}`));return()=>Q()},[a]);const E=ie.useMemo(()=>{let R=n;if(y!=="all"&&n.length>0){const U=new Date;let Q=new Date;y==="24h"?Q.setHours(U.getHours()-24):y==="7d"?Q.setDate(U.getDate()-7):y==="30d"&&Q.setDate(U.getDate()-30),R=n.filter(X=>X.date>=Q)}return R.map(U=>{const Q=U.date.toISOString().slice(0,13)+":00";return{...U,ext_temp:e[Q]??null}})},[n,y,e]),S=ie.useMemo(()=>{const R=E.length>0?E:n;if(R.length===0)return{min:0,max:30};const U=R.flatMap(Q=>{const X=[Q.temperature,Q.thermostat];return Q.ext_temp!==null&&X.push(Q.ext_temp),X});return{min:Math.floor(Math.min(...U))-1,max:Math.ceil(Math.max(...U))+1}},[E,n]),D=ie.useMemo(()=>{const R={},U={},Q={};for(let it=0;it<n.length;it++){const Z=n[it],nt=Z.date,C=nt.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),x=`S${Math.ceil(((nt-new Date(nt.getFullYear(),0,1))/864e5+1)/7)} (${nt.getFullYear()})`,I=nt.toLocaleDateString("fr-FR",{month:"short",year:"numeric"});let V=0;if(it>0&&n[it-1].is_burning){const P=(Z.date-n[it-1].date)/36e5;P<1.5&&(V=P)}const N=(P,O)=>{P[O]||(P[O]={start:Z.consumption,end:Z.consumption,hrs:0}),P[O].end=Z.consumption,P[O].hrs+=V};N(R,C),N(U,x),N(Q,I)}const X=it=>Object.entries(it).map(([Z,nt])=>({label:Z,consumption:Math.max(0,nt.end-nt.start),runtime:nt.hrs}));return{daily:X(R).slice(-14),weekly:X(U).slice(-8),monthly:X(Q).slice(-12)}},[n]),M=E.length>0?E[E.length-1]:n.length>0?n[n.length-1]:{temperature:0,thermostat:0,is_burning:!1,ext_temp:null};return c&&!f?_t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-900 text-white gap-4",children:[_t.jsx(wP,{className:"animate-spin w-8 h-8 text-orange-500"}),_t.jsx("p",{className:"font-bold tracking-widest uppercase text-sm italic",children:"Fusion des donnes mto de Seynod..."})]}):_t.jsx("div",{className:"min-h-screen bg-slate-50 p-4 md:p-8 font-sans text-slate-900",children:_t.jsxs("div",{className:"max-w-7xl mx-auto",children:[f&&_t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-2xl flex items-start gap-3 shadow-sm",children:[_t.jsx(vP,{className:"w-6 h-6 shrink-0 mt-0.5"}),_t.jsx("div",{className:"text-sm",children:_t.jsxs("p",{className:"font-bold",children:["Erreur : ",f]})})]}),_t.jsxs("header",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[_t.jsxs("div",{children:[_t.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight italic uppercase",children:"Rika Domo"}),_t.jsxs("p",{className:"text-slate-500 flex items-center gap-2 text-sm font-semibold uppercase tracking-tighter",children:[_t.jsx(CP,{className:"w-4 h-4 text-emerald-500"})," Seynod, France"]})]}),_t.jsxs("div",{className:"flex items-center gap-3 bg-white px-5 py-2.5 rounded-2xl border border-slate-200 shadow-sm",children:[_t.jsx("div",{className:`w-3 h-3 rounded-full ${M.is_burning?"bg-orange-500 animate-pulse":"bg-slate-300"}`}),_t.jsx("span",{className:"text-sm font-bold text-slate-700 uppercase tracking-widest italic",children:M.is_burning?"Pole actif":"En pause"})]})]}),_t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[_t.jsx(Kh,{title:"Intrieur",value:`${M.temperature.toFixed(1)}C`,icon:HE,color:"rose"}),_t.jsx(Kh,{title:"Extrieur (Seynod)",value:M.ext_temp!==null?`${M.ext_temp.toFixed(1)}C`:"--",icon:TP,color:"blue"}),_t.jsx(Kh,{title:"Consigne",value:`${M.thermostat.toFixed(1)}C`,icon:IP,color:"slate"}),_t.jsx(Kh,{title:"Flamme",value:M.is_burning?"Oui":"Non",icon:SP,color:M.is_burning?"orange":"slate"})]}),_t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[_t.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm relative",children:[_t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[_t.jsxs("h3",{className:"text-sm font-black flex items-center gap-2 text-slate-700 uppercase italic tracking-tight",children:[_t.jsx(HE,{className:"w-4 h-4 text-rose-500"})," Analyse Thermique Int/Ext"]}),_t.jsx("div",{className:"flex items-center bg-slate-100 p-1 rounded-xl",children:[{label:"24h",value:"24h"},{label:"7j",value:"7d"},{label:"30j",value:"30d"},{label:"Tout",value:"all"}].map(R=>_t.jsx("button",{onClick:()=>v(R.value),className:`px-4 py-1.5 rounded-lg text-[10px] font-black transition-all ${y===R.value?"bg-white text-orange-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:R.label},R.value))})]}),_t.jsx("div",{className:"h-[450px]",children:_t.jsx(cP,{data:{labels:E.map(R=>R.date.toLocaleString("fr-FR",{day:y==="24h"?void 0:"2-digit",month:y==="24h"?void 0:"2-digit",hour:"2-digit",minute:"2-digit"})),datasets:[{label:"Intrieur",data:E.map(R=>R.temperature),borderColor:"#f43f5e",borderWidth:3,backgroundColor:"transparent",tension:.4,pointRadius:0,yAxisID:"y"},{label:"Extrieur (Seynod)",data:E.map(R=>R.ext_temp),borderColor:"#94a3b8",borderWidth:2,backgroundColor:"rgba(148, 163, 184, 0.1)",fill:!0,tension:.4,pointRadius:0,yAxisID:"y"},{label:"Consigne",data:E.map(R=>R.thermostat),borderColor:"#3b82f6",borderDash:[5,5],borderWidth:1.5,tension:0,pointRadius:0,yAxisID:"y"},{label:"Chauffe active",data:E.map(R=>R.is_burning?S.max:S.min),backgroundColor:"rgba(251, 146, 60, 0.08)",fill:"origin",pointRadius:0,borderWidth:0,tension:0,stepped:!0,yAxisID:"y"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{grid:{display:!1},ticks:{font:{size:9},maxRotation:45,autoSkip:!0,maxTicksLimit:12}},y:{min:S.min,max:S.max,grid:{color:"#f1f5f9"},title:{display:!0,text:"Temprature (C)",font:{weight:"bold",size:10}}}},plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,font:{size:10,weight:"bold"}}},tooltip:{mode:"index",intersect:!1}}}})})]}),_t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_t.jsx(Mm,{title:"Consommation Journalire",data:D.daily}),_t.jsx(Mm,{title:"Bilan Hebdomadaire",data:D.weekly}),_t.jsx(Mm,{title:"Bilan Mensuel",data:D.monthly})]})]})]})})}function Mm({title:n,data:t}){return _t.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-slate-200 shadow-sm",children:[_t.jsxs("h3",{className:"text-[11px] font-black mb-6 flex items-center gap-2 text-slate-600 uppercase italic tracking-tight",children:[_t.jsx(yP,{className:"w-3.5 h-3.5 text-orange-500"})," ",n]}),_t.jsx("div",{className:"h-[250px]",children:_t.jsx(uP,{data:{labels:t.map(e=>e.label),datasets:[{label:"Pellets (KG)",data:t.map(e=>e.consumption),backgroundColor:"rgba(251, 146, 60, 0.7)",borderRadius:4,yAxisID:"y"},{type:"line",label:"Marche (H)",data:t.map(e=>e.runtime),borderColor:"#3b82f6",borderWidth:2,tension:.3,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{position:"left",grid:{display:!1},ticks:{font:{size:9}}},y1:{position:"right",grid:{display:!1},ticks:{font:{size:9}}},x:{grid:{display:!1},ticks:{font:{size:9}}}}}})})]})}function Kh({title:n,value:t,icon:e,color:i}){const a={rose:"bg-rose-50 text-rose-500",blue:"bg-blue-50 text-blue-500",orange:"bg-orange-50 text-orange-500",slate:"bg-slate-50 text-slate-500"};return _t.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 flex items-center justify-between shadow-sm group",children:[_t.jsxs("div",{children:[_t.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:n}),_t.jsx("p",{className:"text-2xl font-black text-slate-800",children:t})]}),_t.jsx("div",{className:`p-3.5 rounded-2xl ${a[i]||a.slate}`,children:_t.jsx(e,{className:"w-6 h-6"})})]})}Lx.createRoot(document.getElementById("root")).render(_t.jsx(ie.StrictMode,{children:_t.jsx(NP,{})}));
